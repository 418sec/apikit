!function(window,document,undefined){"use strict";function noConflict(){var a=window.angular;return window.angular=_angular,a}function isArrayLike(obj){return obj&&"number"==typeof obj.length?"function"!=typeof obj.hasOwnProperty&&"function"!=typeof obj.constructor?!0:obj instanceof JQLite||jQuery&&obj instanceof jQuery||"[object Object]"!==toString.call(obj)||"function"==typeof obj.callee:!1}function forEach(obj,iterator,context){var key;if(obj)if(isFunction(obj))for(key in obj)"prototype"!=key&&"length"!=key&&"name"!=key&&obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key);else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context);else if(isArrayLike(obj))for(key=0;key<obj.length;key++)iterator.call(context,obj[key],key);else for(key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key);return obj}function sortedKeys(obj){var keys=[];for(var key in obj)obj.hasOwnProperty(key)&&keys.push(key);return keys.sort()}function forEachSorted(obj,iterator,context){for(var keys=sortedKeys(obj),i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){for(var digit,index=uid.length;index;){if(index--,digit=uid[index].charCodeAt(0),57==digit)return uid[index]="A",uid.join("");if(90!=digit)return uid[index]=String.fromCharCode(digit+1),uid.join("");uid[index]="0"}return uid.unshift("0"),uid.join("")}function setHashKey(obj,h){h?obj.$$hashKey=h:delete obj.$$hashKey}function extend(dst){var h=dst.$$hashKey;return forEach(arguments,function(obj){obj!==dst&&forEach(obj,function(value,key){dst[key]=value})}),setHashKey(dst,h),dst}function int(str){return parseInt(str,10)}function inherit(parent,extra){return extend(new(extend(function(){},{prototype:parent})),extra)}function noop(){}function identity($){return $}function valueFn(value){return function(){return value}}function isUndefined(value){return"undefined"==typeof value}function isDefined(value){return"undefined"!=typeof value}function isObject(value){return null!=value&&"object"==typeof value}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isDate(value){return"[object Date]"==toString.apply(value)}function isArray(value){return"[object Array]"==toString.apply(value)}function isFunction(value){return"function"==typeof value}function isWindow(obj){return obj&&obj.document&&obj.location&&obj.alert&&obj.setInterval}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return"[object File]"===toString.apply(obj)}function trim(value){return isString(value)?value.replace(/^\s*/,"").replace(/\s*$/,""):value}function isElement(node){return node&&(node.nodeName||node.bind&&node.find)}function map(obj,iterator,context){var results=[];return forEach(obj,function(value,index,list){results.push(iterator.call(context,value,index,list))}),results}function includes(array,obj){return-1!=indexOf(array,obj)}function indexOf(array,obj){if(array.indexOf)return array.indexOf(obj);for(var i=0;i<array.length;i++)if(obj===array[i])return i;return-1}function arrayRemove(array,value){var index=indexOf(array,value);return index>=0&&array.splice(index,1),value}function copy(source,destination){if(isWindow(source)||isScope(source))throw Error("Can't copy Window or Scope");if(destination){if(source===destination)throw Error("Can't copy equivalent objects or arrays");if(isArray(source)){destination.length=0;for(var i=0;i<source.length;i++)destination.push(copy(source[i]))}else{var h=destination.$$hashKey;forEach(destination,function(value,key){delete destination[key]});for(var key in source)destination[key]=copy(source[key]);setHashKey(destination,h)}}else destination=source,source&&(isArray(source)?destination=copy(source,[]):isDate(source)?destination=new Date(source.getTime()):isObject(source)&&(destination=copy(source,{})));return destination}function shallowCopy(src,dst){dst=dst||{};for(var key in src)src.hasOwnProperty(key)&&"$$"!==key.substr(0,2)&&(dst[key]=src[key]);return dst}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!==o1&&o2!==o2)return!0;var length,key,keySet,t1=typeof o1,t2=typeof o2;if(t1==t2&&"object"==t1){if(!isArray(o1)){if(isDate(o1))return isDate(o2)&&o1.getTime()==o2.getTime();if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2))return!1;keySet={};for(key in o1)if("$"!==key.charAt(0)&&!isFunction(o1[key])){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!keySet[key]&&"$"!==key.charAt(0)&&o2[key]!==undefined&&!isFunction(o2[key]))return!1;return!0}if((length=o1.length)==o2.length){for(key=0;length>key;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(fn)||fn instanceof RegExp?fn:curryArgs.length?function(){return arguments.length?fn.apply(self,curryArgs.concat(slice.call(arguments,0))):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}function toJsonReplacer(key,value){var val=value;return/^\$+/.test(key)?val=undefined:isWindow(value)?val="$WINDOW":value&&document===value?val="$DOCUMENT":isScope(value)&&(val="$SCOPE"),val}function toJson(obj,pretty){return JSON.stringify(obj,toJsonReplacer,pretty?"  ":null)}function fromJson(json){return isString(json)?JSON.parse(json):json}function toBoolean(value){if(value&&0!==value.length){var v=lowercase(""+value);value=!("f"==v||"0"==v||"false"==v||"no"==v||"n"==v||"[]"==v)}else value=!1;return value}function startingTag(element){element=jqLite(element).clone();try{element.html("")}catch(e){}var TEXT_NODE=3,elemHtml=jqLite("<div>").append(element).html();try{return element[0].nodeType===TEXT_NODE?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function parseKeyValue(keyValue){var key_value,key,obj={};return forEach((keyValue||"").split("&"),function(keyValue){keyValue&&(key_value=keyValue.split("="),key=decodeURIComponent(key_value[0]),obj[key]=isDefined(key_value[1])?decodeURIComponent(key_value[1]):!0)}),obj}function toKeyValue(obj){var parts=[];return forEach(obj,function(value,key){parts.push(encodeUriQuery(key,!0)+(value===!0?"":"="+encodeUriQuery(value,!0)))}),parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function angularInit(element,bootstrap){function append(element){element&&elements.push(element)}var appElement,module,elements=[element],names=["ng:app","ng-app","x-ng-app","data-ng-app"],NG_APP_CLASS_REGEXP=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;forEach(names,function(name){names[name]=!0,append(document.getElementById(name)),name=name.replace(":","\\:"),element.querySelectorAll&&(forEach(element.querySelectorAll("."+name),append),forEach(element.querySelectorAll("."+name+"\\:"),append),forEach(element.querySelectorAll("["+name+"]"),append))}),forEach(elements,function(element){if(!appElement){var className=" "+element.className+" ",match=NG_APP_CLASS_REGEXP.exec(className);match?(appElement=element,module=(match[2]||"").replace(/\s+/g,",")):forEach(element.attributes,function(attr){!appElement&&names[attr.name]&&(appElement=element,module=attr.value)})}}),appElement&&bootstrap(appElement,module?[module]:[])}function bootstrap(element,modules){var resumeBootstrapInternal=function(){element=jqLite(element),modules=modules||[],modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]),modules.unshift("ng");var injector=createInjector(modules);return injector.invoke(["$rootScope","$rootElement","$compile","$injector","$animator",function(scope,element,compile,injector,animator){scope.$apply(function(){element.data("$injector",injector),compile(element)(scope)}),animator.enabled(!0)}]),injector},NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;return window&&!NG_DEFER_BOOTSTRAP.test(window.name)?resumeBootstrapInternal():(window.name=window.name.replace(NG_DEFER_BOOTSTRAP,""),angular.resumeBootstrap=function(extraModules){forEach(extraModules,function(module){modules.push(module)}),resumeBootstrapInternal()},void 0)}function snake_case(name,separator){return separator=separator||"_",name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function bindJQuery(){jQuery=window.jQuery,jQuery?(jqLite=jQuery,extend(jQuery.fn,{scope:JQLitePrototype.scope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData}),JQLitePatchJQueryRemove("remove",!0),JQLitePatchJQueryRemove("empty"),JQLitePatchJQueryRemove("html")):jqLite=JQLite,angular.element=jqLite}function assertArg(arg,name,reason){if(!arg)throw new Error("Argument '"+(name||"?")+"' is "+(reason||"required"));return arg}function assertArgFn(arg,name,acceptArrayAnnotation){return acceptArrayAnnotation&&isArray(arg)&&(arg=arg[arg.length-1]),assertArg(isFunction(arg),name,"not a function, got "+(arg&&"object"==typeof arg?arg.constructor.name||"Object":typeof arg)),arg}function setupModuleLoader(window){function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}return ensure(ensure(window,"angular",Object),"module",function(){var modules={};return function(name,requires,configFn){return requires&&modules.hasOwnProperty(name)&&(modules[name]=null),ensure(modules,name,function(){function invokeLater(provider,method,insertMethod){return function(){return invokeQueue[insertMethod||"push"]([provider,method,arguments]),moduleInstance}}if(!requires)throw Error("No module: "+name);var invokeQueue=[],runBlocks=[],config=invokeLater("$injector","invoke"),moduleInstance={_invokeQueue:invokeQueue,_runBlocks:runBlocks,requires:requires,name:name,provider:invokeLater("$provide","provider"),factory:invokeLater("$provide","factory"),service:invokeLater("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),animation:invokeLater("$animationProvider","register"),filter:invokeLater("$filterProvider","register"),controller:invokeLater("$controllerProvider","register"),directive:invokeLater("$compileProvider","directive"),config:config,run:function(block){return runBlocks.push(block),this}};return configFn&&config(configFn),moduleInstance})}})}function publishExternalAPI(angular){extend(angular,{bootstrap:bootstrap,copy:copy,extend:extend,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,lowercase:lowercase,uppercase:uppercase,callbacks:{counter:0},noConflict:noConflict}),angularModule=setupModuleLoader(window);try{angularModule("ngLocale")}catch(e){angularModule("ngLocale",[]).provider("$locale",$LocaleProvider)}angularModule("ng",["ngLocale"],["$provide",function($provide){$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,style:styleDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtmlUnsafe:ngBindHtmlUnsafeDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCsp:ngCspDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngSubmit:ngSubmitDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngView:ngViewDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,required:requiredDirective,ngRequired:requiredDirective,ngValue:ngValueDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives),$provide.provider({$anchorScroll:$AnchorScrollProvider,$animation:$AnimationProvider,$animator:$AnimatorProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$interpolate:$InterpolateProvider,$http:$HttpProvider,$httpBackend:$HttpBackendProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$route:$RouteProvider,$routeParams:$RouteParamsProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$timeout:$TimeoutProvider,$window:$WindowProvider})}])}function jqNextId(){return++jqId}function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter}).replace(MOZ_HACK_REGEXP,"Moz$1")}function JQLitePatchJQueryRemove(name,dispatchThis){function removePatch(){for(var set,setIndex,setLength,element,childIndex,childLength,children,list=[this],fireEvent=dispatchThis;list.length;)for(set=list.shift(),setIndex=0,setLength=set.length;setLength>setIndex;setIndex++)for(element=jqLite(set[setIndex]),fireEvent?element.triggerHandler("$destroy"):fireEvent=!fireEvent,childIndex=0,childLength=(children=element.children()).length;childLength>childIndex;childIndex++)list.push(jQuery(children[childIndex]));return originalJqFn.apply(this,arguments)}var originalJqFn=jQuery.fn[name];originalJqFn=originalJqFn.$original||originalJqFn,removePatch.$original=originalJqFn,jQuery.fn[name]=removePatch}function JQLite(element){if(element instanceof JQLite)return element;if(!(this instanceof JQLite)){if(isString(element)&&"<"!=element.charAt(0))throw Error("selectors not implemented");return new JQLite(element)}if(isString(element)){var div=document.createElement("div");div.innerHTML="<div>&#160;</div>"+element,div.removeChild(div.firstChild),JQLiteAddNodes(this,div.childNodes),this.remove()}else JQLiteAddNodes(this,element)}function JQLiteClone(element){return element.cloneNode(!0)}function JQLiteDealoc(element){JQLiteRemoveData(element);for(var i=0,children=element.childNodes||[];i<children.length;i++)JQLiteDealoc(children[i])}function JQLiteUnbind(element,type,fn){var events=JQLiteExpandoStore(element,"events"),handle=JQLiteExpandoStore(element,"handle");handle&&(isUndefined(type)?forEach(events,function(eventHandler,type){removeEventListenerFn(element,type,eventHandler),delete events[type]}):isUndefined(fn)?(removeEventListenerFn(element,type,events[type]),delete events[type]):arrayRemove(events[type],fn))}function JQLiteRemoveData(element){var expandoId=element[jqName],expandoStore=jqCache[expandoId];expandoStore&&(expandoStore.handle&&(expandoStore.events.$destroy&&expandoStore.handle({},"$destroy"),JQLiteUnbind(element)),delete jqCache[expandoId],element[jqName]=undefined)}function JQLiteExpandoStore(element,key,value){var expandoId=element[jqName],expandoStore=jqCache[expandoId||-1];return isDefined(value)?(expandoStore||(element[jqName]=expandoId=jqNextId(),expandoStore=jqCache[expandoId]={}),expandoStore[key]=value,void 0):expandoStore&&expandoStore[key]}function JQLiteData(element,key,value){var data=JQLiteExpandoStore(element,"data"),isSetter=isDefined(value),keyDefined=!isSetter&&isDefined(key),isSimpleGetter=keyDefined&&!isObject(key);if(data||isSimpleGetter||JQLiteExpandoStore(element,"data",data={}),isSetter)data[key]=value;else{if(!keyDefined)return data;if(isSimpleGetter)return data&&data[key];extend(data,key)}}function JQLiteHasClass(element,selector){return(" "+element.className+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1}function JQLiteRemoveClass(element,cssClasses){cssClasses&&forEach(cssClasses.split(" "),function(cssClass){element.className=trim((" "+element.className+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," "))})}function JQLiteAddClass(element,cssClasses){cssClasses&&forEach(cssClasses.split(" "),function(cssClass){JQLiteHasClass(element,cssClass)||(element.className=trim(element.className+" "+trim(cssClass)))})}function JQLiteAddNodes(root,elements){if(elements){elements=elements.nodeName||!isDefined(elements.length)||isWindow(elements)?[elements]:elements;for(var i=0;i<elements.length;i++)root.push(elements[i])}}function JQLiteController(element,name){return JQLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function JQLiteInheritedData(element,name,value){for(element=jqLite(element),9==element[0].nodeType&&(element=element.find("html"));element.length;){if(value=element.data(name))return value;element=element.parent()}}function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[element.nodeName]&&booleanAttr}function createEventHandler(element,events){var eventHandler=function(event,type){if(event.preventDefault||(event.preventDefault=function(){event.returnValue=!1}),event.stopPropagation||(event.stopPropagation=function(){event.cancelBubble=!0}),event.target||(event.target=event.srcElement||document),isUndefined(event.defaultPrevented)){var prevent=event.preventDefault;event.preventDefault=function(){event.defaultPrevented=!0,prevent.call(event)},event.defaultPrevented=!1}event.isDefaultPrevented=function(){return event.defaultPrevented||0==event.returnValue},forEach(events[type||event.type],function(fn){fn.call(element,event)}),8>=msie?(event.preventDefault=null,event.stopPropagation=null,event.isDefaultPrevented=null):(delete event.preventDefault,delete event.stopPropagation,delete event.isDefaultPrevented)};return eventHandler.elem=element,eventHandler}function hashKey(obj){var key,objType=typeof obj;return"object"==objType&&null!==obj?"function"==typeof(key=obj.$$hashKey)?key=obj.$$hashKey():key===undefined&&(key=obj.$$hashKey=nextUid()):key=obj,objType+":"+key}function HashMap(array){forEach(array,this.put,this)}function annotate(fn){var $inject,fnText,argDecl,last;return"function"==typeof fn?($inject=fn.$inject)||($inject=[],fnText=fn.toString().replace(STRIP_COMMENTS,""),argDecl=fnText.match(FN_ARGS),forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})}),fn.$inject=$inject):isArray(fn)?(last=fn.length-1,assertArgFn(fn[last],"fn"),$inject=fn.slice(0,last)):assertArgFn(fn,"fn",!0),$inject}function createInjector(modulesToLoad){function supportObject(delegate){return function(key,value){return isObject(key)?(forEach(key,reverseParams(delegate)),void 0):delegate(key,value)}}function provider(name,provider_){if((isFunction(provider_)||isArray(provider_))&&(provider_=providerInjector.instantiate(provider_)),!provider_.$get)throw Error("Provider "+name+" must define $get factory method.");return providerCache[name+providerSuffix]=provider_}function factory(name,factoryFn){return provider(name,{$get:factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,value){return factory(name,valueFn(value))}function constant(name,value){providerCache[name]=value,instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){var runBlocks=[];return forEach(modulesToLoad,function(module){if(!loadedModules.get(module))if(loadedModules.put(module,!0),isString(module)){var moduleFn=angularModule(module);runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks);try{for(var invokeQueue=moduleFn._invokeQueue,i=0,ii=invokeQueue.length;ii>i;i++){var invokeArgs=invokeQueue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}catch(e){throw e.message&&(e.message+=" from "+module),e}}else if(isFunction(module))try{runBlocks.push(providerInjector.invoke(module))}catch(e){throw e.message&&(e.message+=" from "+module),e}else if(isArray(module))try{runBlocks.push(providerInjector.invoke(module))}catch(e){throw e.message&&(e.message+=" from "+String(module[module.length-1])),e}else assertArgFn(module,"module")}),runBlocks}function createInternalInjector(cache,factory){function getService(serviceName){if("string"!=typeof serviceName)throw Error("Service name expected");if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw Error("Circular dependency: "+path.join(" <- "));return cache[serviceName]}try{return path.unshift(serviceName),cache[serviceName]=INSTANTIATING,cache[serviceName]=factory(serviceName)}finally{path.shift()}}function invoke(fn,self,locals){var length,i,key,args=[],$inject=annotate(fn);for(i=0,length=$inject.length;length>i;i++)key=$inject[i],args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key));switch(fn.$inject||(fn=fn[length]),self?-1:args.length){case 0:return fn();case 1:return fn(args[0]);case 2:return fn(args[0],args[1]);case 3:return fn(args[0],args[1],args[2]);case 4:return fn(args[0],args[1],args[2],args[3]);case 5:return fn(args[0],args[1],args[2],args[3],args[4]);case 6:return fn(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return fn(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);case 8:return fn(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);case 9:return fn(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);case 10:return fn(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9]);default:return fn.apply(self,args)}}function instantiate(Type,locals){var instance,returnedValue,Constructor=function(){};return Constructor.prototype=(isArray(Type)?Type[Type.length-1]:Type).prototype,instance=new Constructor,returnedValue=invoke(Type,instance,locals),isObject(returnedValue)?returnedValue:instance}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new HashMap,providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(){throw Error("Unknown provider: "+path.join(" <- "))}),instanceCache={},instanceInjector=instanceCache.$injector=createInternalInjector(instanceCache,function(servicename){var provider=providerInjector.get(servicename+providerSuffix);return instanceInjector.invoke(provider.$get,provider)});return forEach(loadModules(modulesToLoad),function(fn){instanceInjector.invoke(fn||noop)}),instanceInjector}function $AnchorScrollProvider(){var autoScrollingEnabled=!0;this.disableAutoScrolling=function(){autoScrollingEnabled=!1},this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){function getFirstAnchor(list){var result=null;return forEach(list,function(element){result||"a"!==lowercase(element.nodeName)||(result=element)}),result}function scroll(){var elm,hash=$location.hash();hash?(elm=document.getElementById(hash))?elm.scrollIntoView():(elm=getFirstAnchor(document.getElementsByName(hash)))?elm.scrollIntoView():"top"===hash&&$window.scrollTo(0,0):$window.scrollTo(0,0)}var document=$window.document;return autoScrollingEnabled&&$rootScope.$watch(function(){return $location.hash()},function(){$rootScope.$evalAsync(scroll)}),scroll}]}function $AnimationProvider($provide){var suffix="Animation";this.register=function(name,factory){$provide.factory(camelCase(name)+suffix,factory)},this.$get=["$injector",function($injector){return function(name){if(name){var animationName=camelCase(name)+suffix;if($injector.has(animationName))return $injector.get(animationName)}}}]}function Browser(window,document,$log,$sniffer){function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{if(outstandingRequestCount--,0===outstandingRequestCount)for(;outstandingRequestCallbacks.length;)try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}function startPoller(interval,setTimeout){!function check(){forEach(pollFns,function(pollFn){pollFn()}),pollTimeout=setTimeout(check,interval)}()}function fireUrlChange(){lastBrowserUrl!=self.url()&&(lastBrowserUrl=self.url(),forEach(urlChangeListeners,function(listener){listener(self.url())}))}var self=this,rawDocument=document[0],location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=!1;var outstandingRequestCount=0,outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest,self.$$incOutstandingRequestCount=function(){outstandingRequestCount++},self.notifyWhenNoOutstandingRequests=function(callback){forEach(pollFns,function(pollFn){pollFn()}),0===outstandingRequestCount?callback():outstandingRequestCallbacks.push(callback)};var pollTimeout,pollFns=[];self.addPollFn=function(fn){return isUndefined(pollTimeout)&&startPoller(100,setTimeout),pollFns.push(fn),fn};var lastBrowserUrl=location.href,baseElement=document.find("base");self.url=function(url,replace){if(url){if(lastBrowserUrl==url)return;return lastBrowserUrl=url,$sniffer.history?replace?history.replaceState(null,"",url):(history.pushState(null,"",url),baseElement.attr("href",baseElement.attr("href"))):replace?location.replace(url):location.href=url,self}return location.href.replace(/%27/g,"'")};var urlChangeListeners=[],urlChangeInit=!1;self.onUrlChange=function(callback){return urlChangeInit||($sniffer.history&&jqLite(window).bind("popstate",fireUrlChange),$sniffer.hashchange?jqLite(window).bind("hashchange",fireUrlChange):self.addPollFn(fireUrlChange),urlChangeInit=!0),urlChangeListeners.push(callback),callback},self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^https?\:\/\/[^\/]*/,""):""};var lastCookies={},lastCookieString="",cookiePath=self.baseHref();self.cookies=function(name,value){var cookieLength,cookieArray,cookie,i,index;if(!name){if(rawDocument.cookie!==lastCookieString)for(lastCookieString=rawDocument.cookie,cookieArray=lastCookieString.split("; "),lastCookies={},i=0;i<cookieArray.length;i++)if(cookie=cookieArray[i],index=cookie.indexOf("="),index>0){var name=unescape(cookie.substring(0,index));lastCookies[name]===undefined&&(lastCookies[name]=unescape(cookie.substring(index+1)))}return lastCookies}value===undefined?rawDocument.cookie=escape(name)+"=;path="+cookiePath+";expires=Thu, 01 Jan 1970 00:00:00 GMT":isString(value)&&(cookieLength=(rawDocument.cookie=escape(name)+"="+escape(value)+";path="+cookiePath).length+1,cookieLength>4096&&$log.warn("Cookie '"+name+"' possibly not set or overflowed because it was too large ("+cookieLength+" > 4096 bytes)!"))},self.defer=function(fn,delay){var timeoutId;return outstandingRequestCount++,timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId],completeOutstandingRequest(fn)},delay||0),pendingDeferIds[timeoutId]=!0,timeoutId},self.defer.cancel=function(deferId){return pendingDeferIds[deferId]?(delete pendingDeferIds[deferId],clearTimeout(deferId),completeOutstandingRequest(noop),!0):!1}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(cacheId,options){function refresh(entry){entry!=freshEnd&&(staleEnd?staleEnd==entry&&(staleEnd=entry.n):staleEnd=entry,link(entry.n,entry.p),link(entry,freshEnd),freshEnd=entry,freshEnd.n=null)}function link(nextEntry,prevEntry){nextEntry!=prevEntry&&(nextEntry&&(nextEntry.p=prevEntry),prevEntry&&(prevEntry.n=nextEntry))}if(cacheId in caches)throw Error("cacheId "+cacheId+" taken");var size=0,stats=extend({},options,{id:cacheId}),data={},capacity=options&&options.capacity||Number.MAX_VALUE,lruHash={},freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){var lruEntry=lruHash[key]||(lruHash[key]={key:key});return refresh(lruEntry),isUndefined(value)?void 0:(key in data||size++,data[key]=value,size>capacity&&this.remove(staleEnd.key),value)},get:function(key){var lruEntry=lruHash[key];if(lruEntry)return refresh(lruEntry),data[key]},remove:function(key){var lruEntry=lruHash[key];lruEntry&&(lruEntry==freshEnd&&(freshEnd=lruEntry.p),lruEntry==staleEnd&&(staleEnd=lruEntry.n),link(lruEntry.n,lruEntry.p),delete lruHash[key],delete data[key],size--)},removeAll:function(){data={},size=0,lruHash={},freshEnd=staleEnd=null},destroy:function(){data=null,stats=null,lruHash=null,delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}}}var caches={};return cacheFactory.info=function(){var info={};return forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()}),info},cacheFactory.get=function(cacheId){return caches[cacheId]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}function $CompileProvider($provide){var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,MULTI_ROOT_TEMPLATE_ERROR="Template must have exactly one root element. was: ",urlSanitizationWhitelist=/^\s*(https?|ftp|mailto|file):/;this.directive=function registerDirective(name,directiveFactory){return isString(name)?(assertArg(directiveFactory,"directive"),hasDirectives.hasOwnProperty(name)||(hasDirectives[name]=[],$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];return forEach(hasDirectives[name],function(directiveFactory){try{var directive=$injector.invoke(directiveFactory);isFunction(directive)?directive={compile:valueFn(directive)}:!directive.compile&&directive.link&&(directive.compile=valueFn(directive.link)),directive.priority=directive.priority||0,directive.name=directive.name||name,directive.require=directive.require||directive.controller&&directive.name,directive.restrict=directive.restrict||"A",directives.push(directive)}catch(e){$exceptionHandler(e)}}),directives}])),hasDirectives[name].push(directiveFactory)):forEach(name,reverseParams(registerDirective)),this},this.urlSanitizationWhitelist=function(regexp){return isDefined(regexp)?(urlSanitizationWhitelist=regexp,this):urlSanitizationWhitelist},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document",function($injector,$interpolate,$exceptionHandler,$http,$templateCache,$parse,$controller,$rootScope,$document){function compile($compileNodes,transcludeFn,maxPriority){$compileNodes instanceof jqLite||($compileNodes=jqLite($compileNodes)),forEach($compileNodes,function(node,index){3==node.nodeType&&node.nodeValue.match(/\S+/)&&($compileNodes[index]=jqLite(node).wrap("<span></span>").parent()[0])
});var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority);return function(scope,cloneConnectFn){assertArg(scope,"scope");for(var $linkNode=cloneConnectFn?JQLitePrototype.clone.call($compileNodes):$compileNodes,i=0,ii=$linkNode.length;ii>i;i++){var node=$linkNode[i];(1==node.nodeType||9==node.nodeType)&&$linkNode.eq(i).data("$scope",scope)}return safeAddClass($linkNode,"ng-scope"),cloneConnectFn&&cloneConnectFn($linkNode,scope),compositeLinkFn&&compositeLinkFn(scope,$linkNode,$linkNode),$linkNode}}function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority){function compositeLinkFn(scope,nodeList,$rootElement,boundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,childTranscludeFn,i,ii,n,stableNodeList=[];for(i=0,ii=nodeList.length;ii>i;i++)stableNodeList.push(nodeList[i]);for(i=0,n=0,ii=linkFns.length;ii>i;n++)node=stableNodeList[n],nodeLinkFn=linkFns[i++],childLinkFn=linkFns[i++],nodeLinkFn?(nodeLinkFn.scope?(childScope=scope.$new(isObject(nodeLinkFn.scope)),jqLite(node).data("$scope",childScope)):childScope=scope,childTranscludeFn=nodeLinkFn.transclude,childTranscludeFn||!boundTranscludeFn&&transcludeFn?nodeLinkFn(childLinkFn,childScope,node,$rootElement,function(transcludeFn){return function(cloneFn){var transcludeScope=scope.$new();return transcludeScope.$$transcluded=!0,transcludeFn(transcludeScope,cloneFn).bind("$destroy",bind(transcludeScope,transcludeScope.$destroy))}}(childTranscludeFn||transcludeFn)):nodeLinkFn(childLinkFn,childScope,node,undefined,boundTranscludeFn)):childLinkFn&&childLinkFn(scope,node.childNodes,undefined,boundTranscludeFn)}for(var nodeLinkFn,childLinkFn,directives,attrs,linkFnFound,linkFns=[],i=0;i<nodeList.length;i++)attrs=new Attributes,directives=collectDirectives(nodeList[i],[],attrs,maxPriority),nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement):null,childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!nodeList[i].childNodes||!nodeList[i].childNodes.length?null:compileNodes(nodeList[i].childNodes,nodeLinkFn?nodeLinkFn.transclude:transcludeFn),linkFns.push(nodeLinkFn),linkFns.push(childLinkFn),linkFnFound=linkFnFound||nodeLinkFn||childLinkFn;return linkFnFound?compositeLinkFn:null}function collectDirectives(node,directives,attrs,maxPriority){var match,className,nodeType=node.nodeType,attrsMap=attrs.$attr;switch(nodeType){case 1:addDirective(directives,directiveNormalize(nodeName_(node).toLowerCase()),"E",maxPriority);for(var attr,name,nName,ngAttrName,value,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;jj>j;j++)attr=nAttrs[j],attr.specified&&(name=attr.name,ngAttrName=directiveNormalize(name),NG_ATTR_BINDING.test(ngAttrName)&&(name=ngAttrName.substr(6).toLowerCase()),nName=directiveNormalize(name.toLowerCase()),attrsMap[nName]=name,attrs[nName]=value=trim(msie&&"href"==name?decodeURIComponent(node.getAttribute(name,2)):attr.value),getBooleanAttrName(node,nName)&&(attrs[nName]=!0),addAttrInterpolateDirective(node,directives,value,nName),addDirective(directives,nName,"A",maxPriority));if(className=node.className,isString(className)&&""!==className)for(;match=CLASS_DIRECTIVE_REGEXP.exec(className);)nName=directiveNormalize(match[2]),addDirective(directives,nName,"C",maxPriority)&&(attrs[nName]=trim(match[3])),className=className.substr(match.index+match[0].length);break;case 3:addTextInterpolateDirective(directives,node.nodeValue);break;case 8:try{match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue),match&&(nName=directiveNormalize(match[1]),addDirective(directives,nName,"M",maxPriority)&&(attrs[nName]=trim(match[2])))}catch(e){}}return directives.sort(byPriority),directives}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection){function addLinkFns(pre,post){pre&&(pre.require=directive.require,preLinkFns.push(pre)),post&&(post.require=directive.require,postLinkFns.push(post))}function getControllers(require,$element){var value,retrievalMethod="data",optional=!1;if(isString(require)){for(;"^"==(value=require.charAt(0))||"?"==value;)require=require.substr(1),"^"==value&&(retrievalMethod="inheritedData"),optional=optional||"?"==value;if(value=$element[retrievalMethod]("$"+require+"Controller"),!value&&!optional)throw Error("No controller: "+require);return value}return isArray(require)&&(value=[],forEach(require,function(require){value.push(getControllers(require,$element))})),value}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){var attrs,$element,i,ii,linkFn,controller;if(attrs=compileNode===linkNode?templateAttrs:shallowCopy(templateAttrs,new Attributes(jqLite(linkNode),templateAttrs.$attr)),$element=attrs.$$element,newIsolateScopeDirective){var LOCAL_REGEXP=/^\s*([@=&])(\??)\s*(\w*)\s*$/,parentScope=scope.$parent||scope;forEach(newIsolateScopeDirective.scope,function(definiton,scopeName){var lastValue,parentGet,parentSet,match=definiton.match(LOCAL_REGEXP)||[],attrName=match[3]||scopeName,optional="?"==match[2],mode=match[1];switch(scope.$$isolateBindings[scopeName]=mode+attrName,mode){case"@":attrs.$observe(attrName,function(value){scope[scopeName]=value}),attrs.$$observers[attrName].$$scope=parentScope,attrs[attrName]&&(scope[scopeName]=$interpolate(attrs[attrName])(parentScope));break;case"=":if(optional&&!attrs[attrName])return;parentGet=$parse(attrs[attrName]),parentSet=parentGet.assign||function(){throw lastValue=scope[scopeName]=parentGet(parentScope),Error(NON_ASSIGNABLE_MODEL_EXPRESSION+attrs[attrName]+" (directive: "+newIsolateScopeDirective.name+")")},lastValue=scope[scopeName]=parentGet(parentScope),scope.$watch(function(){var parentValue=parentGet(parentScope);return parentValue!==scope[scopeName]&&(parentValue!==lastValue?lastValue=scope[scopeName]=parentValue:parentSet(parentScope,parentValue=lastValue=scope[scopeName])),parentValue});break;case"&":parentGet=$parse(attrs[attrName]),scope[scopeName]=function(locals){return parentGet(parentScope,locals)};break;default:throw Error("Invalid isolate scope definition for directive "+newIsolateScopeDirective.name+": "+definiton)}})}for(controllerDirectives&&forEach(controllerDirectives,function(directive){var locals={$scope:scope,$element:$element,$attrs:attrs,$transclude:boundTranscludeFn};controller=directive.controller,"@"==controller&&(controller=attrs[directive.name]),$element.data("$"+directive.name+"Controller",$controller(controller,locals))}),i=0,ii=preLinkFns.length;ii>i;i++)try{linkFn=preLinkFns[i],linkFn(scope,$element,attrs,linkFn.require&&getControllers(linkFn.require,$element))}catch(e){$exceptionHandler(e,startingTag($element))}for(childLinkFn&&childLinkFn(scope,linkNode.childNodes,undefined,boundTranscludeFn),i=0,ii=postLinkFns.length;ii>i;i++)try{linkFn=postLinkFns[i],linkFn(scope,$element,attrs,linkFn.require&&getControllers(linkFn.require,$element))}catch(e){$exceptionHandler(e,startingTag($element))}}for(var directive,directiveName,$template,transcludeDirective,controllerDirectives,linkFn,directiveValue,terminalPriority=-Number.MAX_VALUE,preLinkFns=[],postLinkFns=[],newScopeDirective=null,newIsolateScopeDirective=null,templateDirective=null,$compileNode=templateAttrs.$$element=jqLite(compileNode),childTranscludeFn=transcludeFn,i=0,ii=directives.length;ii>i&&(directive=directives[i],$template=undefined,!(terminalPriority>directive.priority));i++){if((directiveValue=directive.scope)&&(assertNoDuplicate("isolated scope",newIsolateScopeDirective,directive,$compileNode),isObject(directiveValue)&&(safeAddClass($compileNode,"ng-isolate-scope"),newIsolateScopeDirective=directive),safeAddClass($compileNode,"ng-scope"),newScopeDirective=newScopeDirective||directive),directiveName=directive.name,(directiveValue=directive.controller)&&(controllerDirectives=controllerDirectives||{},assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode),controllerDirectives[directiveName]=directive),(directiveValue=directive.transclude)&&(assertNoDuplicate("transclusion",transcludeDirective,directive,$compileNode),transcludeDirective=directive,terminalPriority=directive.priority,"element"==directiveValue?($template=jqLite(compileNode),$compileNode=templateAttrs.$$element=jqLite(document.createComment(" "+directiveName+": "+templateAttrs[directiveName]+" ")),compileNode=$compileNode[0],replaceWith(jqCollection,jqLite($template[0]),compileNode),childTranscludeFn=compile($template,transcludeFn,terminalPriority)):($template=jqLite(JQLiteClone(compileNode)).contents(),$compileNode.html(""),childTranscludeFn=compile($template,transcludeFn))),directive.template)if(assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template,directiveValue=denormalizeTemplate(directiveValue),directive.replace){if($template=jqLite("<div>"+trim(directiveValue)+"</div>").contents(),compileNode=$template[0],1!=$template.length||1!==compileNode.nodeType)throw new Error(MULTI_ROOT_TEMPLATE_ERROR+directiveValue);replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}};directives=directives.concat(collectDirectives(compileNode,directives.splice(i+1,directives.length-(i+1)),newTemplateAttrs)),mergeTemplateAttributes(templateAttrs,newTemplateAttrs),ii=directives.length}else $compileNode.html(directiveValue);if(directive.templateUrl)assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),nodeLinkFn,$compileNode,templateAttrs,jqCollection,directive.replace,childTranscludeFn),ii=directives.length;else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn),isFunction(linkFn)?addLinkFns(null,linkFn):linkFn&&addLinkFns(linkFn.pre,linkFn.post)}catch(e){$exceptionHandler(e,startingTag($compileNode))}directive.terminal&&(nodeLinkFn.terminal=!0,terminalPriority=Math.max(terminalPriority,directive.priority))}return nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope,nodeLinkFn.transclude=transcludeDirective&&childTranscludeFn,nodeLinkFn}function addDirective(tDirectives,name,location,maxPriority){var match=!1;if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++)try{directive=directives[i],(maxPriority===undefined||maxPriority>directive.priority)&&-1!=directive.restrict.indexOf(location)&&(tDirectives.push(directive),match=!0)}catch(e){$exceptionHandler(e)}return match}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){"$"!=key.charAt(0)&&(src[key]&&(value+=("style"===key?";":" ")+src[key]),dst.$set(key,value,!0,srcAttr[key]))}),forEach(src,function(value,key){"class"==key?(safeAddClass($element,value),dst["class"]=(dst["class"]?dst["class"]+" ":"")+value):"style"==key?$element.attr("style",$element.attr("style")+";"+value):"$"==key.charAt(0)||dst.hasOwnProperty(key)||(dst[key]=value,dstAttr[key]=srcAttr[key])})}function compileTemplateUrl(directives,beforeTemplateNodeLinkFn,$compileNode,tAttrs,$rootElement,replace,childTranscludeFn){var afterTemplateNodeLinkFn,afterTemplateChildLinkFn,linkQueue=[],beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=extend({},origAsyncDirective,{controller:null,templateUrl:null,transclude:null,scope:null}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl;return $compileNode.html(""),$http.get(templateUrl,{cache:$templateCache}).success(function(content){var compileNode,tempTemplateAttrs,$template;if(content=denormalizeTemplate(content),replace){if($template=jqLite("<div>"+trim(content)+"</div>").contents(),compileNode=$template[0],1!=$template.length||1!==compileNode.nodeType)throw new Error(MULTI_ROOT_TEMPLATE_ERROR+content);tempTemplateAttrs={$attr:{}},replaceWith($rootElement,$compileNode,compileNode),collectDirectives(compileNode,directives,tempTemplateAttrs),mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else compileNode=beforeTemplateCompileNode,$compileNode.html(content);for(directives.unshift(derivedSyncDirective),afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn),afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);linkQueue.length;){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),controller=linkQueue.shift(),linkNode=compileNode;beforeTemplateLinkNode!==beforeTemplateCompileNode&&(linkNode=JQLiteClone(compileNode),replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode)),afterTemplateNodeLinkFn(function(){beforeTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,controller)},scope,linkNode,$rootElement,controller)}linkQueue=null}).error(function(response,code,headers,config){throw Error("Failed to load template: "+config.url)}),function(ignoreChildLinkFn,scope,node,rootElement,controller){linkQueue?(linkQueue.push(scope),linkQueue.push(node),linkQueue.push(rootElement),linkQueue.push(controller)):afterTemplateNodeLinkFn(function(){beforeTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,controller)},scope,node,rootElement,controller)}}function byPriority(a,b){return b.priority-a.priority}function assertNoDuplicate(what,previousDirective,directive,element){if(previousDirective)throw Error("Multiple directives ["+previousDirective.name+", "+directive.name+"] asking for "+what+" on: "+startingTag(element))}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,!0);interpolateFn&&directives.push({priority:0,compile:valueFn(function(scope,node){var parent=node.parent(),bindings=parent.data("$binding")||[];bindings.push(interpolateFn),safeAddClass(parent.data("$binding",bindings),"ng-binding"),scope.$watch(interpolateFn,function(value){node[0].nodeValue=value})})})}function addAttrInterpolateDirective(node,directives,value,name){var interpolateFn=$interpolate(value,!0);interpolateFn&&directives.push({priority:100,compile:valueFn(function(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers={});interpolateFn=$interpolate(attr[name],!0),interpolateFn&&(attr[name]=interpolateFn(scope),($$observers[name]||($$observers[name]=[])).$$inter=!0,(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function(value){attr.$set(name,value)}))})})}function replaceWith($rootElement,$element,newNode){var i,ii,oldNode=$element[0],parent=oldNode.parentNode;if($rootElement)for(i=0,ii=$rootElement.length;ii>i;i++)if($rootElement[i]==oldNode){$rootElement[i]=newNode;break}parent&&parent.replaceChild(newNode,oldNode),newNode[jqLite.expando]=oldNode[jqLite.expando],$element[0]=newNode}var Attributes=function(element,attr){this.$$element=element,this.$attr=attr||{}};Attributes.prototype={$normalize:directiveNormalize,$set:function(key,value,writeAttr,attrName){var normalizedVal,booleanKey=getBooleanAttrName(this.$$element[0],key),$$observers=this.$$observers;booleanKey&&(this.$$element.prop(key,value),attrName=booleanKey),this[key]=value,attrName?this.$attr[key]=attrName:(attrName=this.$attr[key],attrName||(this.$attr[key]=attrName=snake_case(key,"-"))),"A"===nodeName_(this.$$element[0])&&"href"===key&&(urlSanitizationNode.setAttribute("href",value),normalizedVal=urlSanitizationNode.href,normalizedVal.match(urlSanitizationWhitelist)||(this[key]=value="unsafe:"+normalizedVal)),writeAttr!==!1&&(null===value||value===undefined?this.$$element.removeAttr(attrName):this.$$element.attr(attrName,value)),$$observers&&forEach($$observers[key],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers={}),listeners=$$observers[key]||($$observers[key]=[]);return listeners.push(fn),$rootScope.$evalAsync(function(){listeners.$$inter||fn(attrs[key])}),fn}};var urlSanitizationNode=$document[0].createElement("a"),startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate="{{"==startSymbol||"}}"==endSymbol?identity:function(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/;return compile}]}function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,""))}function $ControllerProvider(){var controllers={},CNTRL_REG=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(name,constructor){isObject(name)?extend(controllers,name):controllers[name]=constructor},this.$get=["$injector","$window",function($injector,$window){return function(expression,locals){var instance,match,constructor,identifier;if(isString(expression)&&(match=expression.match(CNTRL_REG),constructor=match[1],identifier=match[3],expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,!0)||getter($window,constructor,!0),assertArgFn(expression,constructor,!0)),instance=$injector.instantiate(expression,locals),identifier){if("object"!=typeof locals.$scope)throw new Error('Can not export controller as "'+identifier+'". '+"No scope object provided!");locals.$scope[identifier]=instance}return instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(){$log.error.apply($log,arguments)}}]}function $InterpolateProvider(){var startSymbol="{{",endSymbol="}}";this.startSymbol=function(value){return value?(startSymbol=value,this):startSymbol},this.endSymbol=function(value){return value?(endSymbol=value,this):endSymbol},this.$get=["$parse","$exceptionHandler",function($parse,$exceptionHandler){function $interpolate(text,mustHaveExpression){for(var startIndex,endIndex,fn,exp,index=0,parts=[],length=text.length,hasInterpolation=!1,concat=[];length>index;)-1!=(startIndex=text.indexOf(startSymbol,index))&&-1!=(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))?(index!=startIndex&&parts.push(text.substring(index,startIndex)),parts.push(fn=$parse(exp=text.substring(startIndex+startSymbolLength,endIndex))),fn.exp=exp,index=endIndex+endSymbolLength,hasInterpolation=!0):(index!=length&&parts.push(text.substring(index)),index=length);return(length=parts.length)||(parts.push(""),length=1),!mustHaveExpression||hasInterpolation?(concat.length=length,fn=function(context){try{for(var part,i=0,ii=length;ii>i;i++)"function"==typeof(part=parts[i])&&(part=part(context),null==part||part==undefined?part="":"string"!=typeof part&&(part=toJson(part))),concat[i]=part;return concat.join("")}catch(err){var newErr=new Error("Error while interpolating: "+text+"\n"+err.toString());$exceptionHandler(newErr)}},fn.exp=text,fn.parts=parts,fn):void 0}var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length;return $interpolate.startSymbol=function(){return startSymbol},$interpolate.endSymbol=function(){return endSymbol},$interpolate}]}function encodePath(path){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=encodeUriSegment(segments[i]);return segments.join("/")}function matchUrl(url,obj){var match=SERVER_MATCH.exec(url);obj.$$protocol=match[1],obj.$$host=match[3],obj.$$port=int(match[5])||DEFAULT_PORTS[match[1]]||null}function matchAppUrl(url,obj){var match=PATH_MATCH.exec(url);obj.$$path=decodeURIComponent(match[1]),obj.$$search=parseKeyValue(match[3]),obj.$$hash=decodeURIComponent(match[5]||""),obj.$$path&&"/"!=obj.$$path.charAt(0)&&(obj.$$path="/"+obj.$$path)}function beginsWith(begin,whole,otherwise){return 0==whole.indexOf(begin)?whole.substr(begin.length):otherwise}function stripHash(url){var index=url.indexOf("#");return-1==index?url:url.substr(0,index)}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,basePrefix){basePrefix=basePrefix||"";var appBaseNoFile=stripFile(appBase);this.$$parse=function(url){var parsed={};matchUrl(url,parsed);var pathUrl=beginsWith(appBaseNoFile,url);if(!isString(pathUrl))throw Error('Invalid url "'+url+'", missing path prefix "'+appBaseNoFile+'".');matchAppUrl(pathUrl,parsed),extend(this,parsed),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBaseNoFile+this.$$url.substr(1)},this.$$rewrite=function(url){var appUrl,prevAppUrl;return(appUrl=beginsWith(appBase,url))!==undefined?(prevAppUrl=appUrl,(appUrl=beginsWith(basePrefix,appUrl))!==undefined?appBaseNoFile+(beginsWith("/",appUrl)||appUrl):appBase+prevAppUrl):(appUrl=beginsWith(appBaseNoFile,url))!==undefined?appBaseNoFile+appUrl:appBaseNoFile==url+"/"?appBaseNoFile:void 0}}function LocationHashbangUrl(appBase,hashPrefix){var appBaseNoFile=stripFile(appBase);this.$$parse=function(url){matchUrl(url,this);var withoutBaseUrl=beginsWith(appBase,url)||beginsWith(appBaseNoFile,url);if(!isString(withoutBaseUrl))throw new Error('Invalid url "'+url+'", does not start with "'+appBase+'".');var withoutHashUrl="#"==withoutBaseUrl.charAt(0)?beginsWith(hashPrefix,withoutBaseUrl):withoutBaseUrl;if(!isString(withoutHashUrl))throw new Error('Invalid url "'+url+'", missing hash prefix "'+hashPrefix+'".');matchAppUrl(withoutHashUrl,this),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:"")},this.$$rewrite=function(url){return stripHash(appBase)==stripHash(url)?url:void 0}}function LocationHashbangInHtml5Url(appBase,hashPrefix){LocationHashbangUrl.apply(this,arguments);var appBaseNoFile=stripFile(appBase);this.$$rewrite=function(url){var appUrl;return appBase==stripHash(url)?url:(appUrl=beginsWith(appBaseNoFile,url))?appBase+hashPrefix+appUrl:appBaseNoFile===url+"/"?appBaseNoFile:void 0}}function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){return isUndefined(value)?this[property]:(this[property]=preprocess(value),this.$$compose(),this)}}function $LocationProvider(){var hashPrefix="",html5Mode=!1;this.hashPrefix=function(prefix){return isDefined(prefix)?(hashPrefix=prefix,this):hashPrefix},this.html5Mode=function(mode){return isDefined(mode)?(html5Mode=mode,this):html5Mode},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function($rootScope,$browser,$sniffer,$rootElement){function afterLocationChange(oldUrl){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl)}var $location,LocationMode,appBase,baseHref=$browser.baseHref(),initialUrl=$browser.url();html5Mode?(appBase=baseHref?serverBase(initialUrl)+baseHref:initialUrl,LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url):(appBase=stripHash(initialUrl),LocationMode=LocationHashbangUrl),$location=new LocationMode(appBase,"#"+hashPrefix),$location.$$parse($location.$$rewrite(initialUrl)),$rootElement.bind("click",function(event){if(!event.ctrlKey&&!event.metaKey&&2!=event.which){for(var elm=jqLite(event.target);"a"!==lowercase(elm[0].nodeName);)if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;var absHref=elm.prop("href"),rewrittenUrl=$location.$$rewrite(absHref);absHref&&!elm.attr("target")&&rewrittenUrl&&!event.isDefaultPrevented()&&(event.preventDefault(),rewrittenUrl!=$browser.url()&&($location.$$parse(rewrittenUrl),$rootScope.$apply(),window.angular["ff-684208-preventDefault"]=!0))}}),$location.absUrl()!=initialUrl&&$browser.url($location.absUrl(),!0),$browser.onUrlChange(function(newUrl){if($location.absUrl()!=newUrl){if($rootScope.$broadcast("$locationChangeStart",newUrl,$location.absUrl()).defaultPrevented)return $browser.url($location.absUrl()),void 0;$rootScope.$evalAsync(function(){var oldUrl=$location.absUrl();$location.$$parse(newUrl),afterLocationChange(oldUrl)}),$rootScope.$$phase||$rootScope.$digest()}});var changeCounter=0;return $rootScope.$watch(function(){var oldUrl=$browser.url(),currentReplace=$location.$$replace;return changeCounter&&oldUrl==$location.absUrl()||(changeCounter++,$rootScope.$evalAsync(function(){$rootScope.$broadcast("$locationChangeStart",$location.absUrl(),oldUrl).defaultPrevented?$location.$$parse(oldUrl):($browser.url($location.absUrl(),currentReplace),afterLocationChange(oldUrl))})),$location.$$replace=!1,changeCounter}),$location}]}function $LogProvider(){var debug=!0,self=this;this.debugEnabled=function(flag){return isDefined(flag)?(debug=flag,this):debug},this.$get=["$window",function($window){function formatError(arg){return arg instanceof Error&&(arg.stack?arg=arg.message&&-1===arg.stack.indexOf(arg.message)?"Error: "+arg.message+"\n"+arg.stack:arg.stack:arg.sourceURL&&(arg=arg.message+"\n"+arg.sourceURL+":"+arg.line)),arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop;return logFn.apply?function(){var args=[];return forEach(arguments,function(arg){args.push(formatError(arg))}),logFn.apply(console,args)}:function(arg1,arg2){logFn(arg1,arg2)}}return{log:consoleLog("log"),warn:consoleLog("warn"),info:consoleLog("info"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){debug&&fn.apply(self,arguments)}}()}}]}function lex(text,csp){function is(chars){return-1!=chars.indexOf(ch)}function was(chars){return-1!=chars.indexOf(lastCh)}function peek(i){var num=i||1;return index+num<text.length?text.charAt(index+num):!1}function isNumber(ch){return ch>="0"&&"9">=ch}function isWhitespace(ch){return" "==ch||"\r"==ch||"	"==ch||"\n"==ch||""==ch||" "==ch}function isIdent(ch){return ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch||"_"==ch||"$"==ch}function isExpOperator(ch){return"-"==ch||"+"==ch||isNumber(ch)}function throwError(error,start,end){throw end=end||index,Error("Lexer Error: "+error+" at column"+(isDefined(start)?"s "+start+"-"+index+" ["+text.substring(start,end)+"]":" "+end)+" in expression ["+text+"].")}function readNumber(){for(var number="",start=index;index<text.length;){var ch=lowercase(text.charAt(index));if("."==ch||isNumber(ch))number+=ch;else{var peekCh=peek();if("e"==ch&&isExpOperator(peekCh))number+=ch;else if(isExpOperator(ch)&&peekCh&&isNumber(peekCh)&&"e"==number.charAt(number.length-1))number+=ch;else{if(!isExpOperator(ch)||peekCh&&isNumber(peekCh)||"e"!=number.charAt(number.length-1))break;throwError("Invalid exponent")}}index++}number=1*number,tokens.push({index:start,text:number,json:!0,fn:function(){return number}})}function readIdent(){for(var lastDot,peekIndex,methodName,ch,ident="",start=index;index<text.length&&(ch=text.charAt(index),"."==ch||isIdent(ch)||isNumber(ch));)"."==ch&&(lastDot=index),ident+=ch,index++;if(lastDot)for(peekIndex=index;peekIndex<text.length;){if(ch=text.charAt(peekIndex),"("==ch){methodName=ident.substr(lastDot-start+1),ident=ident.substr(0,lastDot-start),index=peekIndex;break}if(!isWhitespace(ch))break;peekIndex++}var token={index:start,text:ident};if(OPERATORS.hasOwnProperty(ident))token.fn=token.json=OPERATORS[ident];else{var getter=getterFn(ident,csp);token.fn=extend(function(self,locals){return getter(self,locals)},{assign:function(self,value){return setter(self,ident,value)}})}tokens.push(token),methodName&&(tokens.push({index:lastDot,text:".",json:!1}),tokens.push({index:lastDot+1,text:methodName,json:!1}))}function readString(quote){var start=index;index++;for(var string="",rawString=quote,escape=!1;index<text.length;){var ch=text.charAt(index);if(rawString+=ch,escape){if("u"==ch){var hex=text.substring(index+1,index+5);hex.match(/[\da-f]{4}/i)||throwError("Invalid unicode escape [\\u"+hex+"]"),index+=4,string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string+=rep?rep:ch}escape=!1}else if("\\"==ch)escape=!0;else{if(ch==quote)return index++,tokens.push({index:start,text:rawString,string:string,json:!0,fn:function(){return string}}),void 0;string+=ch}index++}throwError("Unterminated quote",start)}for(var token,ch,tokens=[],index=0,json=[],lastCh=":";index<text.length;){if(ch=text.charAt(index),is("\"'"))readString(ch);else if(isNumber(ch)||is(".")&&isNumber(peek()))readNumber();else if(isIdent(ch))readIdent(),was("{,")&&"{"==json[0]&&(token=tokens[tokens.length-1])&&(token.json=-1==token.text.indexOf("."));else if(is("(){}[].,;:?"))tokens.push({index:index,text:ch,json:was(":[,")&&is("{[")||is("}]:,")}),is("{[")&&json.unshift(ch),is("}]")&&json.shift(),index++;else{if(isWhitespace(ch)){index++;continue}var ch2=ch+peek(),ch3=ch2+peek(2),fn=OPERATORS[ch],fn2=OPERATORS[ch2],fn3=OPERATORS[ch3];fn3?(tokens.push({index:index,text:ch3,fn:fn3}),index+=3):fn2?(tokens.push({index:index,text:ch2,fn:fn2}),index+=2):fn?(tokens.push({index:index,text:ch,fn:fn,json:was("[,:")&&is("+-")}),index+=1):throwError("Unexpected next character ",index,index+1)}lastCh=ch}return tokens}function parser(text,json,$filter,csp){function throwError(msg,token){throw Error("Syntax Error: Token '"+token.text+"' "+msg+" at column "+(token.index+1)+" of the expression ["+text+"] starting at ["+text.substring(token.index)+"].")}function peekToken(){if(0===tokens.length)throw Error("Unexpected end of expression: "+text);return tokens[0]}function peek(e1,e2,e3,e4){if(tokens.length>0){var token=tokens[0],t=token.text;if(t==e1||t==e2||t==e3||t==e4||!e1&&!e2&&!e3&&!e4)return token}return!1}function expect(e1,e2,e3,e4){var token=peek(e1,e2,e3,e4);return token?(json&&!token.json&&throwError("is not valid json",token),tokens.shift(),token):!1}function consume(e1){expect(e1)||throwError("is unexpected, expecting ["+e1+"]",peek())}function unaryFn(fn,right){return extend(function(self,locals){return fn(self,locals,right)},{constant:right.constant})}function ternaryFn(left,middle,right){return extend(function(self,locals){return left(self,locals)?middle(self,locals):right(self,locals)},{constant:left.constant&&middle.constant&&right.constant})}function binaryFn(left,fn,right){return extend(function(self,locals){return fn(self,locals,left,right)},{constant:left.constant&&right.constant})}function statements(){for(var statements=[];;)if(tokens.length>0&&!peek("}",")",";","]")&&statements.push(filterChain()),!expect(";"))return 1==statements.length?statements[0]:function(self,locals){for(var value,i=0;i<statements.length;i++){var statement=statements[i];statement&&(value=statement(self,locals))}return value}}function _filterChain(){for(var token,left=expression();;){if(!(token=expect("|")))return left;left=binaryFn(left,token.fn,filter())}}function filter(){for(var token=expect(),fn=$filter(token.text),argsFn=[];;){if(!(token=expect(":"))){var fnInvoke=function(self,locals,input){for(var args=[input],i=0;i<argsFn.length;i++)args.push(argsFn[i](self,locals));return fn.apply(self,args)};return function(){return fnInvoke}}argsFn.push(expression())}}function expression(){return assignment()}function _assignment(){var right,token,left=ternary();return(token=expect("="))?(left.assign||throwError("implies assignment but ["+text.substring(0,token.index)+"] can not be assigned to",token),right=ternary(),function(scope,locals){return left.assign(scope,right(scope,locals),locals)}):left}function ternary(){var middle,token,left=logicalOR();return(token=expect("?"))?(middle=ternary(),(token=expect(":"))?ternaryFn(left,middle,ternary()):(throwError("expected :",token),void 0)):left
}function logicalOR(){for(var token,left=logicalAND();;){if(!(token=expect("||")))return left;left=binaryFn(left,token.fn,logicalAND())}}function logicalAND(){var token,left=equality();return(token=expect("&&"))&&(left=binaryFn(left,token.fn,logicalAND())),left}function equality(){var token,left=relational();return(token=expect("==","!=","===","!=="))&&(left=binaryFn(left,token.fn,equality())),left}function relational(){var token,left=additive();return(token=expect("<",">","<=",">="))&&(left=binaryFn(left,token.fn,relational())),left}function additive(){for(var token,left=multiplicative();token=expect("+","-");)left=binaryFn(left,token.fn,multiplicative());return left}function multiplicative(){for(var token,left=unary();token=expect("*","/","%");)left=binaryFn(left,token.fn,unary());return left}function unary(){var token;return expect("+")?primary():(token=expect("-"))?binaryFn(ZERO,token.fn,unary()):(token=expect("!"))?unaryFn(token.fn,unary()):primary()}function primary(){var primary;if(expect("("))primary=filterChain(),consume(")");else if(expect("["))primary=arrayDeclaration();else if(expect("{"))primary=object();else{var token=expect();primary=token.fn,primary||throwError("not a primary expression",token),token.json&&(primary.constant=primary.literal=!0)}for(var next,context;next=expect("(","[",".");)"("===next.text?(primary=functionCall(primary,context),context=null):"["===next.text?(context=primary,primary=objectIndex(primary)):"."===next.text?(context=primary,primary=fieldAccess(primary)):throwError("IMPOSSIBLE");return primary}function _fieldAccess(object){var field=expect().text,getter=getterFn(field,csp);return extend(function(scope,locals,self){return getter(self||object(scope,locals),locals)},{assign:function(scope,value,locals){return setter(object(scope,locals),field,value)}})}function _objectIndex(obj){var indexFn=expression();return consume("]"),extend(function(self,locals){var v,p,o=obj(self,locals),i=indexFn(self,locals);return o?(v=o[i],v&&v.then&&(p=v,"$$v"in v||(p.$$v=undefined,p.then(function(val){p.$$v=val})),v=v.$$v),v):undefined},{assign:function(self,value,locals){return obj(self,locals)[indexFn(self,locals)]=value}})}function _functionCall(fn,contextGetter){var argsFn=[];if(")"!=peekToken().text)do argsFn.push(expression());while(expect(","));return consume(")"),function(scope,locals){for(var args=[],context=contextGetter?contextGetter(scope,locals):scope,i=0;i<argsFn.length;i++)args.push(argsFn[i](scope,locals));var fnPtr=fn(scope,locals,context)||noop;return fnPtr.apply?fnPtr.apply(context,args):fnPtr(args[0],args[1],args[2],args[3],args[4])}}function arrayDeclaration(){var elementFns=[],allConstant=!0;if("]"!=peekToken().text)do{var elementFn=expression();elementFns.push(elementFn),elementFn.constant||(allConstant=!1)}while(expect(","));return consume("]"),extend(function(self,locals){for(var array=[],i=0;i<elementFns.length;i++)array.push(elementFns[i](self,locals));return array},{literal:!0,constant:allConstant})}function object(){var keyValues=[],allConstant=!0;if("}"!=peekToken().text)do{var token=expect(),key=token.string||token.text;consume(":");var value=expression();keyValues.push({key:key,value:value}),value.constant||(allConstant=!1)}while(expect(","));return consume("}"),extend(function(self,locals){for(var object={},i=0;i<keyValues.length;i++){var keyValue=keyValues[i];object[keyValue.key]=keyValue.value(self,locals)}return object},{literal:!0,constant:allConstant})}var value,ZERO=valueFn(0),tokens=lex(text,csp),assignment=_assignment,functionCall=_functionCall,fieldAccess=_fieldAccess,objectIndex=_objectIndex,filterChain=_filterChain;return json?(assignment=logicalOR,functionCall=fieldAccess=objectIndex=filterChain=function(){throwError("is not valid json",{text:text,index:0})},value=primary()):value=statements(),0!==tokens.length&&throwError("is an unexpected token",tokens[0]),value.literal=!!value.literal,value.constant=!!value.constant,value}function setter(obj,path,setValue){for(var element=path.split("."),i=0;element.length>1;i++){var key=element.shift(),propertyObj=obj[key];propertyObj||(propertyObj={},obj[key]=propertyObj),obj=propertyObj}return obj[element.shift()]=setValue,setValue}function getter(obj,path,bindFnToScope){if(!path)return obj;for(var key,keys=path.split("."),lastInstance=obj,len=keys.length,i=0;len>i;i++)key=keys[i],obj&&(obj=(lastInstance=obj)[key]);return!bindFnToScope&&isFunction(obj)?bind(lastInstance,obj):obj}function cspSafeGetterFn(key0,key1,key2,key3,key4){return function(scope,locals){var promise,pathVal=locals&&locals.hasOwnProperty(key0)?locals:scope;return null===pathVal||pathVal===undefined?pathVal:(pathVal=pathVal[key0],pathVal&&pathVal.then&&("$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),key1&&null!==pathVal&&pathVal!==undefined?(pathVal=pathVal[key1],pathVal&&pathVal.then&&("$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),key2&&null!==pathVal&&pathVal!==undefined?(pathVal=pathVal[key2],pathVal&&pathVal.then&&("$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),key3&&null!==pathVal&&pathVal!==undefined?(pathVal=pathVal[key3],pathVal&&pathVal.then&&("$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),key4&&null!==pathVal&&pathVal!==undefined?(pathVal=pathVal[key4],pathVal&&pathVal.then&&("$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),pathVal):pathVal):pathVal):pathVal):pathVal)}}function getterFn(path,csp){if(getterFnCache.hasOwnProperty(path))return getterFnCache[path];var fn,pathKeys=path.split("."),pathKeysLength=pathKeys.length;if(csp)fn=6>pathKeysLength?cspSafeGetterFn(pathKeys[0],pathKeys[1],pathKeys[2],pathKeys[3],pathKeys[4]):function(scope,locals){var val,i=0;do val=cspSafeGetterFn(pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++])(scope,locals),locals=undefined,scope=val;while(pathKeysLength>i);return val};else{var code="var l, fn, p;\n";forEach(pathKeys,function(key,index){code+="if(s === null || s === undefined) return s;\nl=s;\ns="+(index?"s":'((k&&k.hasOwnProperty("'+key+'"))?k:s)')+'["'+key+'"]'+";\n"+"if (s && s.then) {\n"+' if (!("$$v" in s)) {\n'+" p=s;\n"+" p.$$v = undefined;\n"+" p.then(function(v) {p.$$v=v;});\n"+"}\n"+" s=s.$$v\n"+"}\n"}),code+="return s;",fn=Function("s","k",code),fn.toString=function(){return code}}return getterFnCache[path]=fn}function $ParseProvider(){var cache={};this.$get=["$filter","$sniffer",function($filter,$sniffer){return function(exp){switch(typeof exp){case"string":return cache.hasOwnProperty(exp)?cache[exp]:cache[exp]=parser(exp,!1,$filter,$sniffer.csp);case"function":return exp;default:return noop}}}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler)}]}function qFactory(nextTick,exceptionHandler){function defaultCallback(value){return value}function defaultErrback(reason){return reject(reason)}function all(promises){var deferred=defer(),counter=0,results=isArray(promises)?[]:{};return forEach(promises,function(promise,key){counter++,ref(promise).then(function(value){results.hasOwnProperty(key)||(results[key]=value,--counter||deferred.resolve(results))},function(reason){results.hasOwnProperty(key)||deferred.reject(reason)})}),0===counter&&deferred.resolve(results),deferred.promise}var defer=function(){var value,deferred,pending=[];return deferred={resolve:function(val){if(pending){var callbacks=pending;pending=undefined,value=ref(val),callbacks.length&&nextTick(function(){for(var callback,i=0,ii=callbacks.length;ii>i;i++)callback=callbacks[i],value.then(callback[0],callback[1])})}},reject:function(reason){deferred.resolve(reject(reason))},promise:{then:function(callback,errback){var result=defer(),wrappedCallback=function(value){try{result.resolve((callback||defaultCallback)(value))}catch(e){exceptionHandler(e),result.reject(e)}},wrappedErrback=function(reason){try{result.resolve((errback||defaultErrback)(reason))}catch(e){exceptionHandler(e),result.reject(e)}};return pending?pending.push([wrappedCallback,wrappedErrback]):value.then(wrappedCallback,wrappedErrback),result.promise},always:function(callback){function makePromise(value,resolved){var result=defer();return resolved?result.resolve(value):result.reject(value),result.promise}function handleCallback(value,isResolved){var callbackOutput=null;try{callbackOutput=(callback||defaultCallback)()}catch(e){return makePromise(e,!1)}return callbackOutput&&callbackOutput.then?callbackOutput.then(function(){return makePromise(value,isResolved)},function(error){return makePromise(error,!1)}):makePromise(value,isResolved)}return this.then(function(value){return handleCallback(value,!0)},function(error){return handleCallback(error,!1)})}}}},ref=function(value){return value&&value.then?value:{then:function(callback){var result=defer();return nextTick(function(){result.resolve(callback(value))}),result.promise}}},reject=function(reason){return{then:function(callback,errback){var result=defer();return nextTick(function(){result.resolve((errback||defaultErrback)(reason))}),result.promise}}},when=function(value,callback,errback){var done,result=defer(),wrappedCallback=function(value){try{return(callback||defaultCallback)(value)}catch(e){return exceptionHandler(e),reject(e)}},wrappedErrback=function(reason){try{return(errback||defaultErrback)(reason)}catch(e){return exceptionHandler(e),reject(e)}};return nextTick(function(){ref(value).then(function(value){done||(done=!0,result.resolve(ref(value).then(wrappedCallback,wrappedErrback)))},function(reason){done||(done=!0,result.resolve(wrappedErrback(reason)))})}),result.promise};return{defer:defer,reject:reject,when:when,all:all}}function $RouteProvider(){var routes={};this.when=function(path,route){if(routes[path]=extend({reloadOnSearch:!0,caseInsensitiveMatch:!1},route),path){var redirectPath="/"==path[path.length-1]?path.substr(0,path.length-1):path+"/";routes[redirectPath]={redirectTo:path}}return this},this.otherwise=function(params){return this.when(null,params),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache",function($rootScope,$location,$routeParams,$q,$injector,$http,$templateCache){function switchRouteMatcher(on,when,whenProperties){when="^"+when.replace(/[-\/\\^$:*+?.()|[\]{}]/g,"\\$&")+"$";for(var paramMatch,regex="",params=[],dst={},re=/\\([:*])(\w+)/g,lastMatchedIndex=0;null!==(paramMatch=re.exec(when));){switch(regex+=when.slice(lastMatchedIndex,paramMatch.index),paramMatch[1]){case":":regex+="([^\\/]*)";break;case"*":regex+="(.*)"}params.push(paramMatch[2]),lastMatchedIndex=re.lastIndex}regex+=when.substr(lastMatchedIndex);var match=on.match(new RegExp(regex,whenProperties.caseInsensitiveMatch?"i":""));return match&&forEach(params,function(name,index){dst[name]=match[index+1]}),match?dst:null}function updateRoute(){var next=parseRoute(),last=$route.current;next&&last&&next.$$route===last.$$route&&equals(next.pathParams,last.pathParams)&&!next.reloadOnSearch&&!forceReload?(last.params=next.params,copy(last.params,$routeParams),$rootScope.$broadcast("$routeUpdate",last)):(next||last)&&(forceReload=!1,$rootScope.$broadcast("$routeChangeStart",next,last),$route.current=next,next&&next.redirectTo&&(isString(next.redirectTo)?$location.path(interpolate(next.redirectTo,next.params)).search(next.params).replace():$location.url(next.redirectTo(next.pathParams,$location.path(),$location.search())).replace()),$q.when(next).then(function(){if(next){var template,locals=extend({},next.resolve);return forEach(locals,function(value,key){locals[key]=isString(value)?$injector.get(value):$injector.invoke(value)}),isDefined(template=next.template)?isFunction(template)&&(template=template(next.params)):isDefined(template=next.templateUrl)&&(isFunction(template)&&(template=template(next.params)),isDefined(template)&&(next.loadedTemplateUrl=template,template=$http.get(template,{cache:$templateCache}).then(function(response){return response.data}))),isDefined(template)&&(locals.$template=template),$q.all(locals)}}).then(function(locals){next==$route.current&&(next&&(next.locals=locals,copy(next.params,$routeParams)),$rootScope.$broadcast("$routeChangeSuccess",next,last))},function(error){next==$route.current&&$rootScope.$broadcast("$routeChangeError",next,last,error)}))}function parseRoute(){var params,match;return forEach(routes,function(route,path){!match&&(params=switchRouteMatcher($location.path(),path,route))&&(match=inherit(route,{params:extend({},$location.search(),params),pathParams:params}),match.$$route=route)}),match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}})}function interpolate(string,params){var result=[];return forEach((string||"").split(":"),function(segment,i){if(0==i)result.push(segment);else{var segmentMatch=segment.match(/(\w+)(.*)/),key=segmentMatch[1];result.push(params[key]),result.push(segmentMatch[2]||""),delete params[key]}}),result.join("")}var forceReload=!1,$route={routes:routes,reload:function(){forceReload=!0,$rootScope.$evalAsync(updateRoute)}};return $rootScope.$on("$locationChangeSuccess",updateRoute),$route}]}function $RouteParamsProvider(){this.$get=valueFn({})}function $RootScopeProvider(){var TTL=10;this.digestTtl=function(value){return arguments.length&&(TTL=value),TTL},this.$get=["$injector","$exceptionHandler","$parse",function($injector,$exceptionHandler,$parse){function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$listeners={},this.$$isolateBindings={}}function beginPhase(phase){if($rootScope.$$phase)throw Error($rootScope.$$phase+" already in progress");$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function compileToFn(exp,name){var fn=$parse(exp);return assertArgFn(fn,name),fn}function initWatchVal(){}Scope.prototype={$new:function(isolate){var Child,child;if(isFunction(isolate))throw Error("API-CHANGE: Use $controller to instantiate controllers.");return isolate?(child=new Scope,child.$root=this.$root):(Child=function(){},Child.prototype=this,child=new Child,child.$id=nextUid()),child["this"]=child,child.$$listeners={},child.$parent=this,child.$$watchers=child.$$nextSibling=child.$$childHead=child.$$childTail=null,child.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=child,this.$$childTail=child):this.$$childHead=this.$$childTail=child,child},$watch:function(watchExp,listener,objectEquality){var scope=this,get=compileToFn(watchExp,"watch"),array=scope.$$watchers,watcher={fn:listener,last:initWatchVal,get:get,exp:watchExp,eq:!!objectEquality};if(!isFunction(listener)){var listenFn=compileToFn(listener||noop,"listener");watcher.fn=function(newVal,oldVal,scope){listenFn(scope)}}if("string"==typeof watchExp&&get.constant){var originalFn=watcher.fn;watcher.fn=function(newVal,oldVal,scope){originalFn.call(this,newVal,oldVal,scope),arrayRemove(array,watcher)}}return array||(array=scope.$$watchers=[]),array.unshift(watcher),function(){arrayRemove(array,watcher)}},$watchCollection:function(obj,listener){function $watchCollectionWatch(){newValue=objGetter(self);var newLength,key;if(isObject(newValue))if(isArrayLike(newValue)){oldValue!==internalArray&&(oldValue=internalArray,oldLength=oldValue.length=0,changeDetected++),newLength=newValue.length,oldLength!==newLength&&(changeDetected++,oldValue.length=oldLength=newLength);for(var i=0;newLength>i;i++)oldValue[i]!==newValue[i]&&(changeDetected++,oldValue[i]=newValue[i])}else{oldValue!==internalObject&&(oldValue=internalObject={},oldLength=0,changeDetected++),newLength=0;for(key in newValue)newValue.hasOwnProperty(key)&&(newLength++,oldValue.hasOwnProperty(key)?oldValue[key]!==newValue[key]&&(changeDetected++,oldValue[key]=newValue[key]):(oldLength++,oldValue[key]=newValue[key],changeDetected++));if(oldLength>newLength){changeDetected++;for(key in oldValue)oldValue.hasOwnProperty(key)&&!newValue.hasOwnProperty(key)&&(oldLength--,delete oldValue[key])}}else oldValue!==newValue&&(oldValue=newValue,changeDetected++);return changeDetected}function $watchCollectionAction(){listener(newValue,oldValue,self)}var oldValue,newValue,self=this,changeDetected=0,objGetter=$parse(obj),internalArray=[],internalObject={},oldLength=0;return this.$watch($watchCollectionWatch,$watchCollectionAction)},$digest:function(){var watch,value,last,watchers,length,dirty,next,current,logIdx,logMsg,asyncQueue=this.$$asyncQueue,ttl=TTL,target=this,watchLog=[];beginPhase("$digest");do{for(dirty=!1,current=target;asyncQueue.length;)try{current.$eval(asyncQueue.shift())}catch(e){$exceptionHandler(e)}do{if(watchers=current.$$watchers)for(length=watchers.length;length--;)try{watch=watchers[length],(value=watch.get(current))===(last=watch.last)||(watch.eq?equals(value,last):"number"==typeof value&&"number"==typeof last&&isNaN(value)&&isNaN(last))||(dirty=!0,watch.last=watch.eq?copy(value):value,watch.fn(value,last===initWatchVal?value:last,current),5>ttl&&(logIdx=4-ttl,watchLog[logIdx]||(watchLog[logIdx]=[]),logMsg=isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,logMsg+="; newVal: "+toJson(value)+"; oldVal: "+toJson(last),watchLog[logIdx].push(logMsg)))}catch(e){$exceptionHandler(e)}if(!(next=current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);if(dirty&&!ttl--)throw clearPhase(),Error(TTL+" $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: "+toJson(watchLog))}while(dirty||asyncQueue.length);clearPhase()},$destroy:function(){if($rootScope!=this&&!this.$$destroyed){var parent=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,parent.$$childHead==this&&(parent.$$childHead=this.$$nextSibling),parent.$$childTail==this&&(parent.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr){this.$$asyncQueue.push(expr)},$apply:function(expr){try{return beginPhase("$apply"),this.$eval(expr)}catch(e){$exceptionHandler(e)}finally{clearPhase();try{$rootScope.$digest()}catch(e){throw $exceptionHandler(e),e}}},$on:function(name,listener){var namedListeners=this.$$listeners[name];return namedListeners||(this.$$listeners[name]=namedListeners=[]),namedListeners.push(listener),function(){namedListeners[indexOf(namedListeners,listener)]=null}},$emit:function(name){var namedListeners,i,length,empty=[],scope=this,stopPropagation=!1,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=!0},preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);do{for(namedListeners=scope.$$listeners[name]||empty,event.currentScope=scope,i=0,length=namedListeners.length;length>i;i++)if(namedListeners[i])try{if(namedListeners[i].apply(null,listenerArgs),stopPropagation)return event}catch(e){$exceptionHandler(e)}else namedListeners.splice(i,1),i--,length--;scope=scope.$parent}while(scope);return event},$broadcast:function(name){var listeners,i,length,target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);do{for(current=next,event.currentScope=current,listeners=current.$$listeners[name]||[],i=0,length=listeners.length;length>i;i++)if(listeners[i])try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else listeners.splice(i,1),i--,length--;if(!(next=current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);return event}};var $rootScope=new Scope;return $rootScope}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var vendorPrefix,match,eventSupport={},android=int((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),document=$document[0]||{},vendorRegex=/^(Moz|webkit|O|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=!1,animations=!1;if(bodyStyle){for(var prop in bodyStyle)if(match=vendorRegex.exec(prop)){vendorPrefix=match[0],vendorPrefix=vendorPrefix.substr(0,1).toUpperCase()+vendorPrefix.substr(1);break}transitions=!!("transition"in bodyStyle||vendorPrefix+"Transition"in bodyStyle),animations=!!("animation"in bodyStyle||vendorPrefix+"Animation"in bodyStyle)}return{history:!(!$window.history||!$window.history.pushState||4>android),hashchange:"onhashchange"in $window&&(!document.documentMode||document.documentMode>7),hasEvent:function(event){if("input"==event&&9==msie)return!1;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:document.securityPolicy?document.securityPolicy.isActive:!1,vendorPrefix:vendorPrefix,transitions:transitions,animations:animations}}]}function $WindowProvider(){this.$get=valueFn(window)}function parseHeaders(headers){var key,val,i,parsed={};return headers?(forEach(headers.split("\n"),function(line){i=line.indexOf(":"),key=lowercase(trim(line.substr(0,i))),val=trim(line.substr(i+1)),key&&(parsed[key]?parsed[key]+=", "+val:parsed[key]=val)}),parsed):parsed}function isSameDomain(requestUrl,locationUrl){var match=IS_SAME_DOMAIN_URL_MATCH.exec(requestUrl);if(null==match)return!0;var domain1={protocol:match[2],host:match[4],port:int(match[6])||DEFAULT_PORTS[match[2]]||null,relativeProtocol:match[2]===undefined||""===match[2]};match=SERVER_MATCH.exec(locationUrl);var domain2={protocol:match[1],host:match[3],port:int(match[5])||DEFAULT_PORTS[match[1]]||null};return(domain1.protocol==domain2.protocol||domain1.relativeProtocol)&&domain1.host==domain2.host&&(domain1.port==domain2.port||domain1.relativeProtocol&&domain2.port==DEFAULT_PORTS[domain2.protocol])}function headersGetter(headers){var headersObj=isObject(headers)?headers:undefined;return function(name){return headersObj||(headersObj=parseHeaders(headers)),name?headersObj[lowercase(name)]||null:headersObj}}function transformData(data,headers,fns){return isFunction(fns)?fns(data,headers):(forEach(fns,function(fn){data=fn(data,headers)}),data)}function isSuccess(status){return status>=200&&300>status}function $HttpProvider(){var JSON_START=/^\s*(\[|\{[^\{])/,JSON_END=/[\}\]]\s*$/,PROTECTION_PREFIX=/^\)\]\}',?\n/,CONTENT_TYPE_APPLICATION_JSON={"Content-Type":"application/json;charset=utf-8"},defaults=this.defaults={transformResponse:[function(data){return isString(data)&&(data=data.replace(PROTECTION_PREFIX,""),JSON_START.test(data)&&JSON_END.test(data)&&(data=fromJson(data,!0))),data}],transformRequest:[function(d){return isObject(d)&&!isFile(d)?toJson(d):d}],headers:{common:{Accept:"application/json, text/plain, */*"},post:CONTENT_TYPE_APPLICATION_JSON,put:CONTENT_TYPE_APPLICATION_JSON,patch:CONTENT_TYPE_APPLICATION_JSON},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},interceptorFactories=this.interceptors=[],responseInterceptorFactories=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function($httpBackend,$browser,$cacheFactory,$rootScope,$q,$injector){function $http(requestConfig){function transformResponse(response){var resp=extend({},response,{data:transformData(response.data,response.headers,config.transformResponse)});return isSuccess(response.status)?resp:$q.reject(resp)}var config={transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse},headers={};extend(config,requestConfig),config.headers=headers,config.method=uppercase(config.method),extend(headers,defaults.headers.common,defaults.headers[lowercase(config.method)],requestConfig.headers);var xsrfValue=isSameDomain(config.url,$browser.url())?$browser.cookies()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;xsrfValue&&(headers[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue);var serverRequest=function(config){var reqData=transformData(config.data,headersGetter(headers),config.transformRequest);return isUndefined(config.data)&&delete headers["Content-Type"],isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)&&(config.withCredentials=defaults.withCredentials),sendReq(config,reqData,headers).then(transformResponse,transformResponse)},chain=[serverRequest,undefined],promise=$q.when(config);for(forEach(reversedInterceptors,function(interceptor){(interceptor.request||interceptor.requestError)&&chain.unshift(interceptor.request,interceptor.requestError),(interceptor.response||interceptor.responseError)&&chain.push(interceptor.response,interceptor.responseError)});chain.length;){var thenFn=chain.shift(),rejectFn=chain.shift();promise=promise.then(thenFn,rejectFn)}return promise.success=function(fn){return promise.then(function(response){fn(response.data,response.status,response.headers,config)}),promise},promise.error=function(fn){return promise.then(null,function(response){fn(response.data,response.status,response.headers,config)}),promise},promise}function createShortMethods(){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend(config||{},{method:name,url:url}))}})}function createShortMethodsWithData(){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend(config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData,reqHeaders){function done(status,response,headersString){cache&&(isSuccess(status)?cache.put(url,[status,response,parseHeaders(headersString)]):cache.remove(url)),resolvePromise(response,status,headersString),$rootScope.$$phase||$rootScope.$apply()}function resolvePromise(response,status,headers){status=Math.max(status,0),(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config})}function removePendingReq(){var idx=indexOf($http.pendingRequests,config);-1!==idx&&$http.pendingRequests.splice(idx,1)}var cache,cachedResp,deferred=$q.defer(),promise=deferred.promise,url=buildUrl(config.url,config.params);if($http.pendingRequests.push(config),promise.then(removePendingReq,removePendingReq),(config.cache||defaults.cache)&&config.cache!==!1&&"GET"==config.method&&(cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache),cache)if(cachedResp=cache.get(url)){if(cachedResp.then)return cachedResp.then(removePendingReq,removePendingReq),cachedResp;isArray(cachedResp)?resolvePromise(cachedResp[1],cachedResp[0],copy(cachedResp[2])):resolvePromise(cachedResp,200,{})}else cache.put(url,promise);return cachedResp||$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType),promise}function buildUrl(url,params){if(!params)return url;var parts=[];return forEachSorted(params,function(value,key){null!=value&&value!=undefined&&(isArray(value)||(value=[value]),forEach(value,function(v){isObject(v)&&(v=toJson(v)),parts.push(encodeUriQuery(key)+"="+encodeUriQuery(v))}))}),url+(-1==url.indexOf("?")?"?":"&")+parts.join("&")}var defaultCache=$cacheFactory("$http"),reversedInterceptors=[];return forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))}),forEach(responseInterceptorFactories,function(interceptorFactory,index){var responseFn=isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory);reversedInterceptors.splice(index,0,{response:function(response){return responseFn($q.when(response))},responseError:function(response){return responseFn($q.reject(response))}})}),$http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put"),$http.defaults=defaults,$http}]}function $HttpBackendProvider(){this.$get=["$browser","$window","$document",function($browser,$window,$document){return createHttpBackend($browser,XHR,$browser.defer,$window.angular.callbacks,$document[0],$window.location.protocol.replace(":",""))}]}function createHttpBackend($browser,XHR,$browserDefer,callbacks,rawDocument,locationProtocol){function jsonpReq(url,done){var script=rawDocument.createElement("script"),doneWrapper=function(){rawDocument.body.removeChild(script),done&&done()};return script.type="text/javascript",script.src=url,msie?script.onreadystatechange=function(){/loaded|complete/.test(script.readyState)&&doneWrapper()}:script.onload=script.onerror=doneWrapper,rawDocument.body.appendChild(script),doneWrapper}return function(method,url,post,callback,headers,timeout,withCredentials,responseType){function timeoutRequest(){status=-1,jsonpDone&&jsonpDone(),xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString){var protocol=(url.match(SERVER_MATCH)||["",locationProtocol])[1];timeoutId&&$browserDefer.cancel(timeoutId),jsonpDone=xhr=null,status="file"==protocol?response?200:404:status,status=1223==status?204:status,callback(status,response,headersString),$browser.$$completeOutstandingRequest(noop)}var status;if($browser.$$incOutstandingRequestCount(),url=url||$browser.url(),"jsonp"==lowercase(method)){var callbackId="_"+(callbacks.counter++).toString(36);callbacks[callbackId]=function(data){callbacks[callbackId].data=data};var jsonpDone=jsonpReq(url.replace("JSON_CALLBACK","angular.callbacks."+callbackId),function(){callbacks[callbackId].data?completeRequest(callback,200,callbacks[callbackId].data):completeRequest(callback,status||-2),delete callbacks[callbackId]})}else{var xhr=new XHR;xhr.open(method,url,!0),forEach(headers,function(value,key){value&&xhr.setRequestHeader(key,value)}),xhr.onreadystatechange=function(){if(4==xhr.readyState){var responseHeaders=xhr.getAllResponseHeaders(),simpleHeaders=["Cache-Control","Content-Language","Content-Type","Expires","Last-Modified","Pragma"];responseHeaders||(responseHeaders="",forEach(simpleHeaders,function(header){var value=xhr.getResponseHeader(header);value&&(responseHeaders+=header+": "+value+"\n")})),completeRequest(callback,status||xhr.status,xhr.responseType?xhr.response:xhr.responseText,responseHeaders)}},withCredentials&&(xhr.withCredentials=!0),responseType&&(xhr.responseType=responseType),xhr.send(post||"")}if(timeout>0)var timeoutId=$browserDefer(timeoutRequest,timeout);else timeout&&timeout.then&&timeout.then(timeoutRequest)}}function $LocaleProvider(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(num){return 1===num?"one":"other"
}}}}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function($rootScope,$browser,$q,$exceptionHandler){function timeout(fn,delay,invokeApply){var timeoutId,cleanup,deferred=$q.defer(),promise=deferred.promise,skipApply=isDefined(invokeApply)&&!invokeApply;return timeoutId=$browser.defer(function(){try{deferred.resolve(fn())}catch(e){deferred.reject(e),$exceptionHandler(e)}skipApply||$rootScope.$apply()},delay),cleanup=function(){delete deferreds[promise.$$timeoutId]},promise.$$timeoutId=timeoutId,deferreds[timeoutId]=deferred,promise.then(cleanup,cleanup),promise}var deferreds={};return timeout.cancel=function(promise){return promise&&promise.$$timeoutId in deferreds?(deferreds[promise.$$timeoutId].reject("canceled"),$browser.defer.cancel(promise.$$timeoutId)):!1},timeout}]}function $FilterProvider($provide){function register(name,factory){return $provide.factory(name+suffix,factory)}var suffix="Filter";this.register=register,this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",lowercaseFilter),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comperator){if(!isArray(array))return array;var predicates=[];switch(predicates.check=function(value){for(var j=0;j<predicates.length;j++)if(!predicates[j](value))return!1;return!0},typeof comperator){case"function":break;case"boolean":if(1==comperator){comperator=function(obj,text){return angular.equals(obj,text)};break}default:comperator=function(obj,text){return text=(""+text).toLowerCase(),(""+obj).toLowerCase().indexOf(text)>-1}}var search=function(obj,text){if("string"==typeof text&&"!"===text.charAt(0))return!search(obj,text.substr(1));switch(typeof obj){case"boolean":case"number":case"string":return comperator(obj,text);case"object":switch(typeof text){case"object":return comperator(obj,text);default:for(var objKey in obj)if("$"!==objKey.charAt(0)&&search(obj[objKey],text))return!0}return!1;case"array":for(var i=0;i<obj.length;i++)if(search(obj[i],text))return!0;return!1;default:return!1}};switch(typeof expression){case"boolean":case"number":case"string":expression={$:expression};case"object":for(var key in expression)"$"==key?function(){if(expression[key]){var path=key;predicates.push(function(value){return search(value,expression[path])})}}():function(){if(expression[key]){var path=key;predicates.push(function(value){return search(getter(value,path),expression[path])})}}();break;case"function":predicates.push(expression);break;default:return array}for(var filtered=[],j=0;j<array.length;j++){var value=array[j];predicates.check(value)&&filtered.push(value)}return filtered}}function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol){return isUndefined(currencySymbol)&&(currencySymbol=formats.CURRENCY_SYM),formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,2).replace(/\u00A4/g,currencySymbol)}}function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(isNaN(number)||!isFinite(number))return"";var isNegative=0>number;number=Math.abs(number);var numStr=number+"",formatedText="",parts=[],hasExponent=!1;if(-1!==numStr.indexOf("e")){var match=numStr.match(/([\d\.]+)e(-?)(\d+)/);match&&"-"==match[2]&&match[3]>fractionSize+1?numStr="0":(formatedText=numStr,hasExponent=!0)}if(!hasExponent){var fractionLen=(numStr.split(DECIMAL_SEP)[1]||"").length;isUndefined(fractionSize)&&(fractionSize=Math.min(Math.max(pattern.minFrac,fractionLen),pattern.maxFrac));var pow=Math.pow(10,fractionSize);number=Math.round(number*pow)/pow;var fraction=(""+number).split(DECIMAL_SEP),whole=fraction[0];fraction=fraction[1]||"";var pos=0,lgroup=pattern.lgSize,group=pattern.gSize;if(whole.length>=lgroup+group){pos=whole.length-lgroup;for(var i=0;pos>i;i++)0===(pos-i)%group&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i)}for(i=pos;i<whole.length;i++)0===(whole.length-i)%lgroup&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(;fraction.length<fractionSize;)fraction+="0";fractionSize&&"0"!==fractionSize&&(formatedText+=decimalSep+fraction.substr(0,fractionSize))}return parts.push(isNegative?pattern.negPre:pattern.posPre),parts.push(formatedText),parts.push(isNegative?pattern.negSuf:pattern.posSuf),parts.join("")}function padNumber(num,digits,trim){var neg="";for(0>num&&(neg="-",num=-num),num=""+num;num.length<digits;)num="0"+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function dateGetter(name,size,offset,trim){return offset=offset||0,function(date){var value=date["get"+name]();return(offset>0||value>-offset)&&(value+=offset),0===value&&-12==offset&&(value=12),padNumber(value,size,trim)}}function dateStrGetter(name,shortForm){return function(date,formats){var value=date["get"+name](),get=uppercase(shortForm?"SHORT"+name:name);return formats[get][value]}}function timeZoneGetter(date){var zone=-1*date.getTimezoneOffset(),paddedZone=zone>=0?"+":"";return paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2)}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function dateFilter($locale){function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=int(match[9]+match[10]),tzMin=int(match[9]+match[11])),dateSetter.call(date,int(match[1]),int(match[2])-1,int(match[3]));var h=int(match[4]||0)-tzHour,m=int(match[5]||0)-tzMin,s=int(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}return string}var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(date,format){var fn,match,text="",parts=[];if(format=format||"mediumDate",format=$locale.DATETIME_FORMATS[format]||format,isString(date)&&(date=NUMBER_STRING.test(date)?int(date):jsonStringToDate(date)),isNumber(date)&&(date=new Date(date)),!isDate(date))return date;for(;format;)match=DATE_FORMATS_SPLIT.exec(format),match?(parts=concat(parts,match,1),format=parts.pop()):(parts.push(format),format=null);return forEach(parts,function(value){fn=DATE_FORMATS[value],text+=fn?fn(date,$locale.DATETIME_FORMATS):value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}}function jsonFilter(){return function(object){return toJson(object,!0)}}function limitToFilter(){return function(input,limit){if(!isArray(input)&&!isString(input))return input;if(limit=int(limit),isString(input))return limit?limit>=0?input.slice(0,limit):input.slice(limit,input.length):"";var i,n,out=[];for(limit>input.length?limit=input.length:limit<-input.length&&(limit=-input.length),limit>0?(i=0,n=limit):(i=input.length+limit,n=input.length);n>i;i++)out.push(input[i]);return out}}function orderByFilter($parse){return function(array,sortPredicate,reverseOrder){function comparator(o1,o2){for(var i=0;i<sortPredicate.length;i++){var comp=sortPredicate[i](o1,o2);if(0!==comp)return comp}return 0}function reverseComparator(comp,descending){return toBoolean(descending)?function(a,b){return comp(b,a)}:comp}function compare(v1,v2){var t1=typeof v1,t2=typeof v2;return t1==t2?("string"==t1&&(v1=v1.toLowerCase()),"string"==t1&&(v2=v2.toLowerCase()),v1===v2?0:v2>v1?-1:1):t2>t1?-1:1}if(!isArray(array))return array;if(!sortPredicate)return array;sortPredicate=isArray(sortPredicate)?sortPredicate:[sortPredicate],sortPredicate=map(sortPredicate,function(predicate){var descending=!1,get=predicate||identity;return isString(predicate)&&(("+"==predicate.charAt(0)||"-"==predicate.charAt(0))&&(descending="-"==predicate.charAt(0),predicate=predicate.substring(1)),get=$parse(predicate)),reverseComparator(function(a,b){return compare(get(a),get(b))},descending)});for(var arrayCopy=[],i=0;i<array.length;i++)arrayCopy.push(array[i]);return arrayCopy.sort(reverseComparator(comparator,reverseOrder))}}function ngDirective(directive){return isFunction(directive)&&(directive={link:directive}),directive.restrict=directive.restrict||"AC",valueFn(directive)}function FormController(element,attrs){function toggleValidCss(isValid,validationErrorKey){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",element.removeClass((isValid?INVALID_CLASS:VALID_CLASS)+validationErrorKey).addClass((isValid?VALID_CLASS:INVALID_CLASS)+validationErrorKey)}var form=this,parentForm=element.parent().controller("form")||nullFormCtrl,invalidCount=0,errors=form.$error={},controls=[];form.$name=attrs.name,form.$dirty=!1,form.$pristine=!0,form.$valid=!0,form.$invalid=!1,parentForm.$addControl(form),element.addClass(PRISTINE_CLASS),toggleValidCss(!0),form.$addControl=function(control){controls.push(control),control.$name&&!form.hasOwnProperty(control.$name)&&(form[control.$name]=control)},form.$removeControl=function(control){control.$name&&form[control.$name]===control&&delete form[control.$name],forEach(errors,function(queue,validationToken){form.$setValidity(validationToken,!0,control)}),arrayRemove(controls,control)},form.$setValidity=function(validationToken,isValid,control){var queue=errors[validationToken];if(isValid)queue&&(arrayRemove(queue,control),queue.length||(invalidCount--,invalidCount||(toggleValidCss(isValid),form.$valid=!0,form.$invalid=!1),errors[validationToken]=!1,toggleValidCss(!0,validationToken),parentForm.$setValidity(validationToken,!0,form)));else{if(invalidCount||toggleValidCss(isValid),queue){if(includes(queue,control))return}else errors[validationToken]=queue=[],invalidCount++,toggleValidCss(!1,validationToken),parentForm.$setValidity(validationToken,!1,form);queue.push(control),form.$valid=!1,form.$invalid=!0}},form.$setDirty=function(){element.removeClass(PRISTINE_CLASS).addClass(DIRTY_CLASS),form.$dirty=!0,form.$pristine=!1,parentForm.$setDirty()},form.$setPristine=function(){element.removeClass(DIRTY_CLASS).addClass(PRISTINE_CLASS),form.$dirty=!1,form.$pristine=!0,forEach(controls,function(control){control.$setPristine()})}}function isEmpty(value){return isUndefined(value)||""===value||null===value||value!==value}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){var listener=function(){var value=element.val();toBoolean(attr.ngTrim||"T")&&(value=trim(value)),ctrl.$viewValue!==value&&scope.$apply(function(){ctrl.$setViewValue(value)})};if($sniffer.hasEvent("input"))element.bind("input",listener);else{var timeout,deferListener=function(){timeout||(timeout=$browser.defer(function(){listener(),timeout=null}))};element.bind("keydown",function(event){var key=event.keyCode;91===key||key>15&&19>key||key>=37&&40>=key||deferListener()}),element.bind("change",listener),$sniffer.hasEvent("paste")&&element.bind("paste cut",deferListener)}ctrl.$render=function(){element.val(isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue)};var patternValidator,match,pattern=attr.ngPattern,validate=function(regexp,value){return isEmpty(value)||regexp.test(value)?(ctrl.$setValidity("pattern",!0),value):(ctrl.$setValidity("pattern",!1),undefined)};if(pattern&&(match=pattern.match(/^\/(.*)\/([gim]*)$/),match?(pattern=new RegExp(match[1],match[2]),patternValidator=function(value){return validate(pattern,value)}):patternValidator=function(value){var patternObj=scope.$eval(pattern);if(!patternObj||!patternObj.test)throw new Error("Expected "+pattern+" to be a RegExp but was "+patternObj);return validate(patternObj,value)},ctrl.$formatters.push(patternValidator),ctrl.$parsers.push(patternValidator)),attr.ngMinlength){var minlength=int(attr.ngMinlength),minLengthValidator=function(value){return!isEmpty(value)&&value.length<minlength?(ctrl.$setValidity("minlength",!1),undefined):(ctrl.$setValidity("minlength",!0),value)};ctrl.$parsers.push(minLengthValidator),ctrl.$formatters.push(minLengthValidator)}if(attr.ngMaxlength){var maxlength=int(attr.ngMaxlength),maxLengthValidator=function(value){return!isEmpty(value)&&value.length>maxlength?(ctrl.$setValidity("maxlength",!1),undefined):(ctrl.$setValidity("maxlength",!0),value)};ctrl.$parsers.push(maxLengthValidator),ctrl.$formatters.push(maxLengthValidator)}}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){if(textInputType(scope,element,attr,ctrl,$sniffer,$browser),ctrl.$parsers.push(function(value){var empty=isEmpty(value);return empty||NUMBER_REGEXP.test(value)?(ctrl.$setValidity("number",!0),""===value?null:empty?value:parseFloat(value)):(ctrl.$setValidity("number",!1),undefined)}),ctrl.$formatters.push(function(value){return isEmpty(value)?"":""+value}),attr.min){var min=parseFloat(attr.min),minValidator=function(value){return!isEmpty(value)&&min>value?(ctrl.$setValidity("min",!1),undefined):(ctrl.$setValidity("min",!0),value)};ctrl.$parsers.push(minValidator),ctrl.$formatters.push(minValidator)}if(attr.max){var max=parseFloat(attr.max),maxValidator=function(value){return!isEmpty(value)&&value>max?(ctrl.$setValidity("max",!1),undefined):(ctrl.$setValidity("max",!0),value)};ctrl.$parsers.push(maxValidator),ctrl.$formatters.push(maxValidator)}ctrl.$formatters.push(function(value){return isEmpty(value)||isNumber(value)?(ctrl.$setValidity("number",!0),value):(ctrl.$setValidity("number",!1),undefined)})}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){textInputType(scope,element,attr,ctrl,$sniffer,$browser);var urlValidator=function(value){return isEmpty(value)||URL_REGEXP.test(value)?(ctrl.$setValidity("url",!0),value):(ctrl.$setValidity("url",!1),undefined)};ctrl.$formatters.push(urlValidator),ctrl.$parsers.push(urlValidator)}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){textInputType(scope,element,attr,ctrl,$sniffer,$browser);var emailValidator=function(value){return isEmpty(value)||EMAIL_REGEXP.test(value)?(ctrl.$setValidity("email",!0),value):(ctrl.$setValidity("email",!1),undefined)};ctrl.$formatters.push(emailValidator),ctrl.$parsers.push(emailValidator)}function radioInputType(scope,element,attr,ctrl){isUndefined(attr.name)&&element.attr("name",nextUid()),element.bind("click",function(){element[0].checked&&scope.$apply(function(){ctrl.$setViewValue(attr.value)})}),ctrl.$render=function(){var value=attr.value;element[0].checked=value==ctrl.$viewValue},attr.$observe("value",ctrl.$render)}function checkboxInputType(scope,element,attr,ctrl){var trueValue=attr.ngTrueValue,falseValue=attr.ngFalseValue;isString(trueValue)||(trueValue=!0),isString(falseValue)||(falseValue=!1),element.bind("click",function(){scope.$apply(function(){ctrl.$setViewValue(element[0].checked)})}),ctrl.$render=function(){element[0].checked=ctrl.$viewValue},ctrl.$formatters.push(function(value){return value===trueValue}),ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}function classDirective(name,selector){return name="ngClass"+name,ngDirective(function(scope,element,attr){function ngClassWatchAction(newVal){(selector===!0||scope.$index%2===selector)&&(oldVal&&!equals(newVal,oldVal)&&removeClass(oldVal),addClass(newVal)),oldVal=copy(newVal)}function removeClass(classVal){isObject(classVal)&&!isArray(classVal)&&(classVal=map(classVal,function(v,k){return v?k:void 0})),element.removeClass(isArray(classVal)?classVal.join(" "):classVal)}function addClass(classVal){isObject(classVal)&&!isArray(classVal)&&(classVal=map(classVal,function(v,k){return v?k:void 0})),classVal&&element.addClass(isArray(classVal)?classVal.join(" "):classVal)}var oldVal=undefined;scope.$watch(attr[name],ngClassWatchAction,!0),attr.$observe("class",function(){var ngClass=scope.$eval(attr[name]);ngClassWatchAction(ngClass,ngClass)}),"ngClass"!==name&&scope.$watch("$index",function($index,old$index){var mod=1&$index;1&mod!==old$index&&(mod===selector?addClass(scope.$eval(attr[name])):removeClass(scope.$eval(attr[name])))})})}var lowercase=function(string){return isString(string)?string.toLowerCase():string},uppercase=function(string){return isString(string)?string.toUpperCase():string},manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(32|ch.charCodeAt(0))}):s},manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(-33&ch.charCodeAt(0))}):s};"i"!=="I".toLowerCase()&&(lowercase=manualLowercase,uppercase=manualUppercase);var jqLite,jQuery,angularModule,nodeName_,msie=int((/msie (\d+)/.exec(lowercase(navigator.userAgent))||[])[1]),slice=[].slice,push=[].push,toString=Object.prototype.toString,_angular=window.angular,angular=window.angular||(window.angular={}),uid=["0","0","0"];noop.$inject=[],identity.$inject=[],nodeName_=9>msie?function(element){return element=element.nodeName?element:element[0],element.scopeName&&"HTML"!=element.scopeName?uppercase(element.scopeName+":"+element.nodeName):element.nodeName}:function(element){return element.nodeName?element.nodeName:element[0].nodeName};var SNAKE_CASE_REGEXP=/[A-Z]/g,version={full:"1.1.5",major:1,minor:1,dot:5,codeName:"triangle-squarification"},jqCache=JQLite.cache={},jqName=JQLite.expando="ng-"+(new Date).getTime(),jqId=1,addEventListenerFn=window.document.addEventListener?function(element,type,fn){element.addEventListener(type,fn,!1)}:function(element,type,fn){element.attachEvent("on"+type,fn)},removeEventListenerFn=window.document.removeEventListener?function(element,type,fn){element.removeEventListener(type,fn,!1)}:function(element,type,fn){element.detachEvent("on"+type,fn)},SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g,MOZ_HACK_REGEXP=/^moz([A-Z])/,JQLitePrototype=JQLite.prototype={ready:function(fn){function trigger(){fired||(fired=!0,fn())}var fired=!1;"complete"===document.readyState?setTimeout(trigger):(this.bind("DOMContentLoaded",trigger),JQLite(window).bind("load",trigger))},toString:function(){var value=[];return forEach(this,function(e){value.push(""+e)}),"["+value.join(", ")+"]"},eq:function(index){return index>=0?jqLite(this[index]):jqLite(this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice},BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[uppercase(value)]=!0}),forEach({data:JQLiteData,inheritedData:JQLiteInheritedData,scope:function(element){return JQLiteInheritedData(element,"$scope")},controller:JQLiteController,injector:function(element){return JQLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:JQLiteHasClass,css:function(element,name,value){if(name=camelCase(name),!isDefined(value)){var val;return 8>=msie&&(val=element.currentStyle&&element.currentStyle[name],""===val&&(val="auto")),val=val||element.style[name],8>=msie&&(val=""===val?undefined:val),val}element.style[name]=value},attr:function(element,name,value){var lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(!isDefined(value))return element[name]||(element.attributes.getNamedItem(name)||noop).specified?lowercasedName:undefined;value?(element[name]=!0,element.setAttribute(name,lowercasedName)):(element[name]=!1,element.removeAttribute(lowercasedName))}else if(isDefined(value))element.setAttribute(name,value);else if(element.getAttribute){var ret=element.getAttribute(name,2);return null===ret?undefined:ret}},prop:function(element,name,value){return isDefined(value)?(element[name]=value,void 0):element[name]},text:extend(9>msie?function(element,value){if(1==element.nodeType){if(isUndefined(value))return element.innerText;element.innerText=value}else{if(isUndefined(value))return element.nodeValue;element.nodeValue=value}}:function(element,value){return isUndefined(value)?element.textContent:(element.textContent=value,void 0)},{$dv:""}),val:function(element,value){return isUndefined(value)?element.value:(element.value=value,void 0)},html:function(element,value){if(isUndefined(value))return element.innerHTML;for(var i=0,childNodes=element.childNodes;i<childNodes.length;i++)JQLiteDealoc(childNodes[i]);element.innerHTML=value}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key;if((2==fn.length&&fn!==JQLiteHasClass&&fn!==JQLiteController?arg1:arg2)!==undefined){for(i=0;i<this.length;i++)fn(this[i],arg1,arg2);return this}if(isObject(arg1)){for(i=0;i<this.length;i++)if(fn===JQLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}return this.length?fn(this[0],arg1,arg2):fn.$dv}}),forEach({removeData:JQLiteRemoveData,dealoc:JQLiteDealoc,bind:function bindFn(element,type,fn){var events=JQLiteExpandoStore(element,"events"),handle=JQLiteExpandoStore(element,"handle");events||JQLiteExpandoStore(element,"events",events={}),handle||JQLiteExpandoStore(element,"handle",handle=createEventHandler(element,events)),forEach(type.split(" "),function(type){var eventFns=events[type];if(!eventFns){if("mouseenter"==type||"mouseleave"==type){var contains=document.body.contains||document.body.compareDocumentPosition?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};events[type]=[];var eventmap={mouseleave:"mouseout",mouseenter:"mouseover"};bindFn(element,eventmap[type],function(event){var target=this,related=event.relatedTarget;(!related||related!==target&&!contains(target,related))&&handle(event,type)})}else addEventListenerFn(element,type,handle),events[type]=[];eventFns=events[type]}eventFns.push(fn)})},unbind:JQLiteUnbind,replaceWith:function(element,replaceNode){var index,parent=element.parentNode;JQLiteDealoc(element),forEach(new JQLite(replaceNode),function(node){index?parent.insertBefore(node,index.nextSibling):parent.replaceChild(node,element),index=node})},children:function(element){var children=[];return forEach(element.childNodes,function(element){1===element.nodeType&&children.push(element)}),children},contents:function(element){return element.childNodes||[]},append:function(element,node){forEach(new JQLite(node),function(child){(1===element.nodeType||11===element.nodeType)&&element.appendChild(child)})},prepend:function(element,node){if(1===element.nodeType){var index=element.firstChild;forEach(new JQLite(node),function(child){index?element.insertBefore(child,index):(element.appendChild(child),index=child)})}},wrap:function(element,wrapNode){wrapNode=jqLite(wrapNode)[0];var parent=element.parentNode;parent&&parent.replaceChild(wrapNode,element),wrapNode.appendChild(element)},remove:function(element){JQLiteDealoc(element);var parent=element.parentNode;parent&&parent.removeChild(element)},after:function(element,newElement){var index=element,parent=element.parentNode;forEach(new JQLite(newElement),function(node){parent.insertBefore(node,index.nextSibling),index=node})},addClass:JQLiteAddClass,removeClass:JQLiteRemoveClass,toggleClass:function(element,selector,condition){isUndefined(condition)&&(condition=!JQLiteHasClass(element,selector)),(condition?JQLiteAddClass:JQLiteRemoveClass)(element,selector)},parent:function(element){var parent=element.parentNode;return parent&&11!==parent.nodeType?parent:null},next:function(element){if(element.nextElementSibling)return element.nextElementSibling;for(var elm=element.nextSibling;null!=elm&&1!==elm.nodeType;)elm=elm.nextSibling;return elm},find:function(element,selector){return element.getElementsByTagName(selector)},clone:JQLiteClone,triggerHandler:function(element,eventName){var eventFns=(JQLiteExpandoStore(element,"events")||{})[eventName];forEach(eventFns,function(fn){fn.call(element,{preventDefault:noop})})}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){for(var value,i=0;i<this.length;i++)value==undefined?(value=fn(this[i],arg1,arg2),value!==undefined&&(value=jqLite(value))):JQLiteAddNodes(value,fn(this[i],arg1,arg2));return value==undefined?this:value}}),HashMap.prototype={put:function(key,value){this[hashKey(key)]=value},get:function(key){return this[hashKey(key)]},remove:function(key){var value=this[key=hashKey(key)];return delete this[key],value}};var FN_ARGS=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;$AnimationProvider.$inject=["$provide"];var $AnimatorProvider=function(){var NG_ANIMATE_CONTROLLER="$ngAnimateController",rootAnimateController={running:!0};this.$get=["$animation","$window","$sniffer","$rootElement","$rootScope",function($animation,$window,$sniffer,$rootElement){$rootElement.data(NG_ANIMATE_CONTROLLER,rootAnimateController);var AnimatorService=function(scope,attrs){function animateActionFactory(type,beforeFn,afterFn){return function(element,parent,after){function parseMaxTime(str){var total=0,values=isString(str)?str.split(/\s*,\s*/):[];return forEach(values,function(value){total=Math.max(parseFloat(value)||0,total)}),total}function beginAnimation(){if(element.addClass(activeClassName),polyfillStart)polyfillStart(element,done,memento);else if(isFunction($window.getComputedStyle)){var w3cAnimationProp="animation",w3cTransitionProp="transition",vendorAnimationProp=$sniffer.vendorPrefix+"Animation",vendorTransitionProp=$sniffer.vendorPrefix+"Transition",durationKey="Duration",delayKey="Delay",animationIterationCountKey="IterationCount",duration=0,ELEMENT_NODE=1;forEach(element,function(element){if(element.nodeType==ELEMENT_NODE){var w3cProp=w3cTransitionProp,vendorProp=vendorTransitionProp,iterations=1,elementStyles=$window.getComputedStyle(element)||{};(parseFloat(elementStyles[w3cAnimationProp+durationKey])>0||parseFloat(elementStyles[vendorAnimationProp+durationKey])>0)&&(w3cProp=w3cAnimationProp,vendorProp=vendorAnimationProp,iterations=Math.max(parseInt(elementStyles[w3cProp+animationIterationCountKey])||0,parseInt(elementStyles[vendorProp+animationIterationCountKey])||0,iterations));var parsedDelay=Math.max(parseMaxTime(elementStyles[w3cProp+delayKey]),parseMaxTime(elementStyles[vendorProp+delayKey])),parsedDuration=Math.max(parseMaxTime(elementStyles[w3cProp+durationKey]),parseMaxTime(elementStyles[vendorProp+durationKey]));duration=Math.max(parsedDelay+iterations*parsedDuration,duration)}}),$window.setTimeout(done,1e3*duration)}else done()}function done(){done.run||(done.run=!0,afterFn(element,parent,after),element.removeClass(className),element.removeClass(activeClassName),element.removeData(NG_ANIMATE_CONTROLLER))}var ngAnimateValue=scope.$eval(attrs.ngAnimate),className=ngAnimateValue?isObject(ngAnimateValue)?ngAnimateValue[type]:ngAnimateValue+"-"+type:"",animationPolyfill=$animation(className),polyfillSetup=animationPolyfill&&animationPolyfill.setup,polyfillStart=animationPolyfill&&animationPolyfill.start,polyfillCancel=animationPolyfill&&animationPolyfill.cancel;if(className){var activeClassName=className+"-active";if(parent||(parent=after?after.parent():element.parent()),!$sniffer.transitions&&!polyfillSetup&&!polyfillStart||(parent.inheritedData(NG_ANIMATE_CONTROLLER)||noop).running)return beforeFn(element,parent,after),afterFn(element,parent,after),void 0;var animationData=element.data(NG_ANIMATE_CONTROLLER)||{};if(animationData.running&&((polyfillCancel||noop)(element),animationData.done()),element.data(NG_ANIMATE_CONTROLLER,{running:!0,done:done}),element.addClass(className),beforeFn(element,parent,after),0==element.length)return done();var memento=(polyfillSetup||noop)(element);$window.setTimeout(beginAnimation,1)}else beforeFn(element,parent,after),afterFn(element,parent,after)}}function show(element){element.css("display","")}function hide(element){element.css("display","none")}function insert(element,parent,after){after?after.after(element):parent.append(element)}function remove(element){element.remove()}function move(element,parent,after){insert(element,parent,after)}var animator={};return animator.enter=animateActionFactory("enter",insert,noop),animator.leave=animateActionFactory("leave",noop,remove),animator.move=animateActionFactory("move",move,noop),animator.show=animateActionFactory("show",show,noop),animator.hide=animateActionFactory("hide",noop,hide),animator.animate=function(event,element){animateActionFactory(event,noop,noop)(element)},animator};return AnimatorService.enabled=function(value){return arguments.length&&(rootAnimateController.running=!value),!rootAnimateController.running},AnimatorService}]},NON_ASSIGNABLE_MODEL_EXPRESSION="Non-assignable model expression: ";$CompileProvider.$inject=["$provide"];var PREFIX_REGEXP=/^(x[\:\-_]|data[\:\-_])/i,SERVER_MATCH=/^([^:]+):\/\/(\w+:{0,1}\w*@)?(\{?[\w\.-]*\}?)(:([0-9]+))?(\/[^\?#]*)?(\?([^#]*))?(#(.*))?$/,PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21};LocationHashbangInHtml5Url.prototype=LocationHashbangUrl.prototype=LocationHtml5Url.prototype={$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(url,replace){if(isUndefined(url))return this.$$url;var match=PATH_MATCH.exec(url);return match[1]&&this.path(decodeURIComponent(match[1])),(match[2]||match[1])&&this.search(match[3]||""),this.hash(match[5]||"",replace),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){return"/"==path.charAt(0)?path:"/"+path}),search:function(search,paramValue){return isUndefined(search)?this.$$search:(isDefined(paramValue)?null===paramValue?delete this.$$search[search]:this.$$search[search]=paramValue:this.$$search=isString(search)?parseKeyValue(search):search,this.$$compose(),this)},hash:locationGetterSetter("$$hash",identity),replace:function(){return this.$$replace=!0,this}};var OPERATORS={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:noop,"+":function(self,locals,a,b){return a=a(self,locals),b=b(self,locals),isDefined(a)?isDefined(b)?a+b:a:isDefined(b)?b:undefined},"-":function(self,locals,a,b){return a=a(self,locals),b=b(self,locals),(isDefined(a)?a:0)-(isDefined(b)?b:0)},"*":function(self,locals,a,b){return a(self,locals)*b(self,locals)},"/":function(self,locals,a,b){return a(self,locals)/b(self,locals)},"%":function(self,locals,a,b){return a(self,locals)%b(self,locals)},"^":function(self,locals,a,b){return a(self,locals)^b(self,locals)},"=":noop,"===":function(self,locals,a,b){return a(self,locals)===b(self,locals)},"!==":function(self,locals,a,b){return a(self,locals)!==b(self,locals)},"==":function(self,locals,a,b){return a(self,locals)==b(self,locals)},"!=":function(self,locals,a,b){return a(self,locals)!=b(self,locals)},"<":function(self,locals,a,b){return a(self,locals)<b(self,locals)},">":function(self,locals,a,b){return a(self,locals)>b(self,locals)},"<=":function(self,locals,a,b){return a(self,locals)<=b(self,locals)},">=":function(self,locals,a,b){return a(self,locals)>=b(self,locals)},"&&":function(self,locals,a,b){return a(self,locals)&&b(self,locals)},"||":function(self,locals,a,b){return a(self,locals)||b(self,locals)},"&":function(self,locals,a,b){return a(self,locals)&b(self,locals)},"|":function(self,locals,a,b){return b(self,locals)(self,locals,a(self,locals))},"!":function(self,locals,a){return!a(self,locals)}},ESCAPE={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},getterFnCache={},IS_SAME_DOMAIN_URL_MATCH=/^(([^:]+):)?\/\/(\w+:{0,1}\w*@)?([\w\.-]*)?(:([0-9]+))?(.*)$/,XHR=window.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")
}catch(e1){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e2){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e3){}throw new Error("This browser does not support XMLHttpRequest.")};$FilterProvider.$inject=["$provide"],currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var DECIMAL_SEP=".",DATE_FORMATS={yyyy:dateGetter("FullYear",4),yy:dateGetter("FullYear",2,0,!0),y:dateGetter("FullYear",1),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter},DATE_FORMATS_SPLIT=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,NUMBER_STRING=/^\d+$/;dateFilter.$inject=["$locale"];var lowercaseFilter=valueFn(lowercase),uppercaseFilter=valueFn(uppercase);orderByFilter.$inject=["$parse"];var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){return 8>=msie&&(attr.href||attr.name||attr.$set("href",""),element.append(document.createComment("IE fix"))),function(scope,element){element.bind("click",function(event){element.attr("href")||event.preventDefault()})}}}),ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:100,compile:function(){return function(scope,element,attr){scope.$watch(attr[normalized],function(value){attr.$set(attrName,!!value)})}}}}}),forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){attr.$observe(normalized,function(value){value&&(attr.$set(attrName,value),msie&&element.prop(attrName,attr[attrName]))})}}}});var nullFormCtrl={$addControl:noop,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop};FormController.$inject=["$element","$attrs","$scope"];var formDirectiveFactory=function(isNgForm){return["$timeout",function($timeout){var formDirective={name:"form",restrict:"E",controller:FormController,compile:function(){return{pre:function(scope,formElement,attr,controller){if(!attr.action){var preventDefaultListener=function(event){event.preventDefault?event.preventDefault():event.returnValue=!1};addEventListenerFn(formElement[0],"submit",preventDefaultListener),formElement.bind("$destroy",function(){$timeout(function(){removeEventListenerFn(formElement[0],"submit",preventDefaultListener)},0,!1)})}var parentFormCtrl=formElement.parent().controller("form"),alias=attr.name||attr.ngForm;alias&&(scope[alias]=controller),parentFormCtrl&&formElement.bind("$destroy",function(){parentFormCtrl.$removeControl(controller),alias&&(scope[alias]=undefined),extend(controller,nullFormCtrl)})}}}};return isNgForm?extend(copy(formDirective),{restrict:"EAC"}):formDirective}]},formDirective=formDirectiveFactory(),ngFormDirective=formDirectiveFactory(!0),URL_REGEXP=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,EMAIL_REGEXP=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/,NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,inputType={text:textInputType,number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop},inputDirective=["$browser","$sniffer",function($browser,$sniffer){return{restrict:"E",require:"?ngModel",link:function(scope,element,attr,ctrl){ctrl&&(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrl,$sniffer,$browser)}}}],VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",NgModelController=["$scope","$exceptionHandler","$attrs","$element","$parse",function($scope,$exceptionHandler,$attr,$element,$parse){function toggleValidCss(isValid,validationErrorKey){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",$element.removeClass((isValid?INVALID_CLASS:VALID_CLASS)+validationErrorKey).addClass((isValid?VALID_CLASS:INVALID_CLASS)+validationErrorKey)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=$attr.name;var ngModelGet=$parse($attr.ngModel),ngModelSet=ngModelGet.assign;if(!ngModelSet)throw Error(NON_ASSIGNABLE_MODEL_EXPRESSION+$attr.ngModel+" ("+startingTag($element)+")");this.$render=noop;var parentForm=$element.inheritedData("$formController")||nullFormCtrl,invalidCount=0,$error=this.$error={};$element.addClass(PRISTINE_CLASS),toggleValidCss(!0),this.$setValidity=function(validationErrorKey,isValid){$error[validationErrorKey]!==!isValid&&(isValid?($error[validationErrorKey]&&invalidCount--,invalidCount||(toggleValidCss(!0),this.$valid=!0,this.$invalid=!1)):(toggleValidCss(!1),this.$invalid=!0,this.$valid=!1,invalidCount++),$error[validationErrorKey]=!isValid,toggleValidCss(isValid,validationErrorKey),parentForm.$setValidity(validationErrorKey,isValid,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,$element.removeClass(DIRTY_CLASS).addClass(PRISTINE_CLASS)},this.$setViewValue=function(value){this.$viewValue=value,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,$element.removeClass(PRISTINE_CLASS).addClass(DIRTY_CLASS),parentForm.$setDirty()),forEach(this.$parsers,function(fn){value=fn(value)}),this.$modelValue!==value&&(this.$modelValue=value,ngModelSet($scope,value),forEach(this.$viewChangeListeners,function(listener){try{listener()}catch(e){$exceptionHandler(e)}}))};var ctrl=this;$scope.$watch(function(){var value=ngModelGet($scope);if(ctrl.$modelValue!==value){var formatters=ctrl.$formatters,idx=formatters.length;for(ctrl.$modelValue=value;idx--;)value=formatters[idx](value);ctrl.$viewValue!==value&&(ctrl.$viewValue=value,ctrl.$render())}})}],ngModelDirective=function(){return{require:["ngModel","^?form"],controller:NgModelController,link:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||nullFormCtrl;formCtrl.$addControl(modelCtrl),element.bind("$destroy",function(){formCtrl.$removeControl(modelCtrl)})}}},ngChangeDirective=valueFn({require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}}),requiredDirective=function(){return{require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){attr.required=!0;var validator=function(value){return attr.required&&(isEmpty(value)||value===!1)?(ctrl.$setValidity("required",!1),void 0):(ctrl.$setValidity("required",!0),value)};ctrl.$formatters.push(validator),ctrl.$parsers.unshift(validator),attr.$observe("required",function(){validator(ctrl.$viewValue)})}}}},ngListDirective=function(){return{require:"ngModel",link:function(scope,element,attr,ctrl){var match=/\/(.*)\//.exec(attr.ngList),separator=match&&new RegExp(match[1])||attr.ngList||",",parse=function(viewValue){var list=[];return viewValue&&forEach(viewValue.split(separator),function(value){value&&list.push(trim(value))}),list};ctrl.$parsers.push(parse),ctrl.$formatters.push(function(value){return isArray(value)?value.join(", "):undefined})}}},CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/,ngValueDirective=function(){return{priority:100,compile:function(tpl,tplAttr){return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)?function(scope,elm,attr){attr.$set("value",scope.$eval(attr.ngValue))}:function(scope,elm,attr){scope.$watch(attr.ngValue,function(value){attr.$set("value",value,!1)})}}}},ngBindDirective=ngDirective(function(scope,element,attr){element.addClass("ng-binding").data("$binding",attr.ngBind),scope.$watch(attr.ngBind,function(value){element.text(value==undefined?"":value)})}),ngBindTemplateDirective=["$interpolate",function($interpolate){return function(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));element.addClass("ng-binding").data("$binding",interpolateFn),attr.$observe("ngBindTemplate",function(value){element.text(value)})}}],ngBindHtmlUnsafeDirective=[function(){return function(scope,element,attr){element.addClass("ng-binding").data("$binding",attr.ngBindHtmlUnsafe),scope.$watch(attr.ngBindHtmlUnsafe,function(value){element.html(value||"")})}}],ngClassDirective=classDirective("",!0),ngClassOddDirective=classDirective("Odd",0),ngClassEvenDirective=classDirective("Even",1),ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined),element.removeClass("ng-cloak")}}),ngControllerDirective=[function(){return{scope:!0,controller:"@"}}],ngCspDirective=["$sniffer",function($sniffer){return{priority:1e3,compile:function(){$sniffer.csp=!0}}}],ngEventDirectives={};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress".split(" "),function(name){var directiveName=directiveNormalize("ng-"+name);ngEventDirectives[directiveName]=["$parse",function($parse){return function(scope,element,attr){var fn=$parse(attr[directiveName]);element.bind(lowercase(name),function(event){scope.$apply(function(){fn(scope,{$event:event})})})}}]});var ngSubmitDirective=ngDirective(function(scope,element,attrs){element.bind("submit",function(){scope.$apply(attrs.ngSubmit)})}),ngIfDirective=["$animator",function($animator){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(element,attr,transclude){return function($scope,$element,$attr){var childElement,childScope,animate=$animator($scope,$attr);$scope.$watch($attr.ngIf,function(value){childElement&&(animate.leave(childElement),childElement=undefined),childScope&&(childScope.$destroy(),childScope=undefined),toBoolean(value)&&(childScope=$scope.$new(),transclude(childScope,function(clone){childElement=clone,animate.enter(clone,$element.parent(),$element)}))})}}}}],ngIncludeDirective=["$http","$templateCache","$anchorScroll","$compile","$animator",function($http,$templateCache,$anchorScroll,$compile,$animator){return{restrict:"ECA",terminal:!0,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,element,attr){var childScope,animate=$animator(scope,attr),changeCounter=0,clearContent=function(){childScope&&(childScope.$destroy(),childScope=null),animate.leave(element.contents(),element)};scope.$watch(srcExp,function(src){var thisChangeId=++changeCounter;src?($http.get(src,{cache:$templateCache}).success(function(response){if(thisChangeId===changeCounter){childScope&&childScope.$destroy(),childScope=scope.$new(),animate.leave(element.contents(),element);var contents=jqLite("<div/>").html(response).contents();animate.enter(contents,element),$compile(contents)(childScope),!isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll(),childScope.$emit("$includeContentLoaded"),scope.$eval(onloadExp)}}).error(function(){thisChangeId===changeCounter&&clearContent()}),scope.$emit("$includeContentRequested")):clearContent()})}}}}],ngInitDirective=ngDirective({compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}}),ngNonBindableDirective=ngDirective({terminal:!0,priority:1e3}),ngPluralizeDirective=["$locale","$interpolate",function($locale,$interpolate){var BRACE=/{}/g;return{restrict:"EA",link:function(scope,element,attr){var numberExp=attr.count,whenExp=element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp),whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol();forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,startSymbol+numberExp+"-"+offset+endSymbol))}),scope.$watch(function(){var value=parseFloat(scope.$eval(numberExp));return isNaN(value)?"":(value in whens||(value=$locale.pluralCat(value-offset)),whensExpFns[value](scope,element,!0))},function(newVal){element.text(newVal)})}}}],ngRepeatDirective=["$parse","$animator",function($parse,$animator){var NG_REMOVED="$$NG_REMOVED";return{transclude:"element",priority:1e3,terminal:!0,compile:function(element,attr,linker){return function($scope,$element,$attr){var trackByExp,trackByExpGetter,trackByIdFn,lhs,rhs,valueIdentifier,keyIdentifier,animate=$animator($scope,$attr),expression=$attr.ngRepeat,match=expression.match(/^\s*(.+)\s+in\s+(.*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),hashFnLocals={$id:hashKey};if(!match)throw Error("Expected ngRepeat in form of '_item_ in _collection_[ track by _id_]' but got '"+expression+"'.");if(lhs=match[1],rhs=match[2],trackByExp=match[4],trackByExp?(trackByExpGetter=$parse(trackByExp),trackByIdFn=function(key,value,index){return keyIdentifier&&(hashFnLocals[keyIdentifier]=key),hashFnLocals[valueIdentifier]=value,hashFnLocals.$index=index,trackByExpGetter($scope,hashFnLocals)}):trackByIdFn=function(key,value){return hashKey(value)},match=lhs.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!match)throw Error("'item' in 'item in collection' should be identifier or (key, value) but got '"+lhs+"'.");valueIdentifier=match[3]||match[1],keyIdentifier=match[2];var lastBlockMap={};$scope.$watchCollection(rhs,function(collection){var index,length,nextCursor,arrayLength,childScope,key,value,trackById,collectionKeys,block,cursor=$element,nextBlockMap={},nextBlockOrder=[];if(isArrayLike(collection))collectionKeys=collection;else{collectionKeys=[];for(key in collection)collection.hasOwnProperty(key)&&"$"!=key.charAt(0)&&collectionKeys.push(key);collectionKeys.sort()}for(arrayLength=collectionKeys.length,length=nextBlockOrder.length=collectionKeys.length,index=0;length>index;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],trackById=trackByIdFn(key,value,index),lastBlockMap.hasOwnProperty(trackById))block=lastBlockMap[trackById],delete lastBlockMap[trackById],nextBlockMap[trackById]=block,nextBlockOrder[index]=block;else{if(nextBlockMap.hasOwnProperty(trackById))throw forEach(nextBlockOrder,function(block){block&&block.element&&(lastBlockMap[block.id]=block)}),new Error("Duplicates in a repeater are not allowed. Repeater: "+expression+" key: "+trackById);nextBlockOrder[index]={id:trackById},nextBlockMap[trackById]=!1}for(key in lastBlockMap)lastBlockMap.hasOwnProperty(key)&&(block=lastBlockMap[key],animate.leave(block.element),block.element[0][NG_REMOVED]=!0,block.scope.$destroy());for(index=0,length=collectionKeys.length;length>index;index++){if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],block=nextBlockOrder[index],block.element){childScope=block.scope,nextCursor=cursor[0];do nextCursor=nextCursor.nextSibling;while(nextCursor&&nextCursor[NG_REMOVED]);block.element[0]==nextCursor?cursor=block.element:(animate.move(block.element,null,cursor),cursor=block.element)}else childScope=$scope.$new();childScope[valueIdentifier]=value,keyIdentifier&&(childScope[keyIdentifier]=key),childScope.$index=index,childScope.$first=0===index,childScope.$last=index===arrayLength-1,childScope.$middle=!(childScope.$first||childScope.$last),block.element||linker(childScope,function(clone){animate.enter(clone,null,cursor),cursor=clone,block.scope=childScope,block.element=clone,nextBlockMap[block.id]=block})}lastBlockMap=nextBlockMap})}}}}],ngShowDirective=["$animator",function($animator){return function(scope,element,attr){var animate=$animator(scope,attr);scope.$watch(attr.ngShow,function(value){animate[toBoolean(value)?"show":"hide"](element)})}}],ngHideDirective=["$animator",function($animator){return function(scope,element,attr){var animate=$animator(scope,attr);scope.$watch(attr.ngHide,function(value){animate[toBoolean(value)?"hide":"show"](element)})}}],ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watch(attr.ngStyle,function(newStyles,oldStyles){oldStyles&&newStyles!==oldStyles&&forEach(oldStyles,function(val,style){element.css(style,"")}),newStyles&&element.css(newStyles)},!0)}),ngSwitchDirective=["$animator",function($animator){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var selectedTranscludes,selectedElements,animate=$animator(scope,attr),watchExpr=attr.ngSwitch||attr.on,selectedScopes=[];scope.$watch(watchExpr,function(value){for(var i=0,ii=selectedScopes.length;ii>i;i++)selectedScopes[i].$destroy(),animate.leave(selectedElements[i]);selectedElements=[],selectedScopes=[],(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])&&(scope.$eval(attr.change),forEach(selectedTranscludes,function(selectedTransclude){var selectedScope=scope.$new();selectedScopes.push(selectedScope),selectedTransclude.transclude(selectedScope,function(caseElement){var anchor=selectedTransclude.element;selectedElements.push(caseElement),animate.enter(caseElement,anchor.parent(),anchor)})}))})}}}],ngSwitchWhenDirective=ngDirective({transclude:"element",priority:500,require:"^ngSwitch",compile:function(element,attrs,transclude){return function(scope,element,attr,ctrl){ctrl.cases["!"+attrs.ngSwitchWhen]=ctrl.cases["!"+attrs.ngSwitchWhen]||[],ctrl.cases["!"+attrs.ngSwitchWhen].push({transclude:transclude,element:element})}}}),ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:500,require:"^ngSwitch",compile:function(element,attrs,transclude){return function(scope,element,attr,ctrl){ctrl.cases["?"]=ctrl.cases["?"]||[],ctrl.cases["?"].push({transclude:transclude,element:element})}}}),ngTranscludeDirective=ngDirective({controller:["$transclude","$element",function($transclude,$element){$transclude(function(clone){$element.append(clone)})}]}),ngViewDirective=["$http","$templateCache","$route","$anchorScroll","$compile","$controller","$animator",function($http,$templateCache,$route,$anchorScroll,$compile,$controller,$animator){return{restrict:"ECA",terminal:!0,link:function(scope,element,attr){function destroyLastScope(){lastScope&&(lastScope.$destroy(),lastScope=null)}function clearContent(){animate.leave(element.contents(),element),destroyLastScope()}function update(){var locals=$route.current&&$route.current.locals,template=locals&&locals.$template;if(template){clearContent();var enterElements=jqLite("<div></div>").html(template).contents();animate.enter(enterElements,element);var controller,link=$compile(enterElements),current=$route.current;lastScope=current.scope=scope.$new(),current.controller&&(locals.$scope=lastScope,controller=$controller(current.controller,locals),current.controllerAs&&(lastScope[current.controllerAs]=controller),element.children().data("$ngControllerController",controller)),link(lastScope),lastScope.$emit("$viewContentLoaded"),lastScope.$eval(onloadExp),$anchorScroll()}else clearContent()}var lastScope,onloadExp=attr.onload||"",animate=$animator(scope,attr);scope.$on("$routeChangeSuccess",update),update()}}}],scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:!0,compile:function(element,attr){if("text/ng-template"==attr.type){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}],ngOptionsDirective=valueFn({terminal:!0}),selectDirective=["$compile","$parse",function($compile,$parse){var NG_OPTIONS_REGEXP=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,nullModelCtrl={$setViewValue:noop};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function($element,$scope,$attrs){var nullOption,unknownOption,self=this,optionsMap={},ngModelCtrl=nullModelCtrl;self.databound=$attrs.ngModel,self.init=function(ngModelCtrl_,nullOption_,unknownOption_){ngModelCtrl=ngModelCtrl_,nullOption=nullOption_,unknownOption=unknownOption_},self.addOption=function(value){optionsMap[value]=!0,ngModelCtrl.$viewValue==value&&($element.val(value),unknownOption.parent()&&unknownOption.remove())},self.removeOption=function(value){this.hasOption(value)&&(delete optionsMap[value],ngModelCtrl.$viewValue==value&&this.renderUnknownOption(value))},self.renderUnknownOption=function(val){var unknownVal="? "+hashKey(val)+" ?";unknownOption.val(unknownVal),$element.prepend(unknownOption),$element.val(unknownVal),unknownOption.prop("selected",!0)},self.hasOption=function(value){return optionsMap.hasOwnProperty(value)},$scope.$on("$destroy",function(){self.renderUnknownOption=noop})}],link:function(scope,element,attr,ctrls){function Single(scope,selectElement,ngModelCtrl,selectCtrl){ngModelCtrl.$render=function(){var viewValue=ngModelCtrl.$viewValue;selectCtrl.hasOption(viewValue)?(unknownOption.parent()&&unknownOption.remove(),selectElement.val(viewValue),""===viewValue&&emptyOption.prop("selected",!0)):isUndefined(viewValue)&&emptyOption?selectElement.val(""):selectCtrl.renderUnknownOption(viewValue)},selectElement.bind("change",function(){scope.$apply(function(){unknownOption.parent()&&unknownOption.remove(),ngModelCtrl.$setViewValue(selectElement.val())})})}function Multiple(scope,selectElement,ctrl){var lastView;ctrl.$render=function(){var items=new HashMap(ctrl.$viewValue);forEach(selectElement.find("option"),function(option){option.selected=isDefined(items.get(option.value))})},scope.$watch(function(){equals(lastView,ctrl.$viewValue)||(lastView=copy(ctrl.$viewValue),ctrl.$render())}),selectElement.bind("change",function(){scope.$apply(function(){var array=[];forEach(selectElement.find("option"),function(option){option.selected&&array.push(option.value)}),ctrl.$setViewValue(array)})})}function Options(scope,selectElement,ctrl){function render(){var optionGroupName,optionGroup,option,existingParent,existingOptions,existingOption,groupLength,length,groupIndex,index,selected,lastElement,element,label,optionGroups={"":[]},optionGroupNames=[""],modelValue=ctrl.$modelValue,values=valuesFn(scope)||[],keys=keyName?sortedKeys(values):values,locals={},selectedSet=!1;if(multiple)if(trackFn&&isArray(modelValue)){selectedSet=new HashMap([]);for(var trackIndex=0;trackIndex<modelValue.length;trackIndex++)locals[valueName]=modelValue[trackIndex],selectedSet.put(trackFn(scope,locals),modelValue[trackIndex])}else selectedSet=new HashMap(modelValue);for(index=0;length=keys.length,length>index;index++){if(locals[valueName]=values[keyName?locals[keyName]=keys[index]:index],optionGroupName=groupByFn(scope,locals)||"",(optionGroup=optionGroups[optionGroupName])||(optionGroup=optionGroups[optionGroupName]=[],optionGroupNames.push(optionGroupName)),multiple)selected=selectedSet.remove(trackFn?trackFn(scope,locals):valueFn(scope,locals))!=undefined;else{if(trackFn){var modelCast={};modelCast[valueName]=modelValue,selected=trackFn(scope,modelCast)===trackFn(scope,locals)}else selected=modelValue===valueFn(scope,locals);selectedSet=selectedSet||selected}label=displayFn(scope,locals),label=label===undefined?"":label,optionGroup.push({id:trackFn?trackFn(scope,locals):keyName?keys[index]:index,label:label,selected:selected})}for(multiple||(nullOption||null===modelValue?optionGroups[""].unshift({id:"",label:"",selected:!selectedSet}):selectedSet||optionGroups[""].unshift({id:"?",label:"",selected:!0})),groupIndex=0,groupLength=optionGroupNames.length;groupLength>groupIndex;groupIndex++){for(optionGroupName=optionGroupNames[groupIndex],optionGroup=optionGroups[optionGroupName],optionGroupsCache.length<=groupIndex?(existingParent={element:optGroupTemplate.clone().attr("label",optionGroupName),label:optionGroup.label},existingOptions=[existingParent],optionGroupsCache.push(existingOptions),selectElement.append(existingParent.element)):(existingOptions=optionGroupsCache[groupIndex],existingParent=existingOptions[0],existingParent.label!=optionGroupName&&existingParent.element.attr("label",existingParent.label=optionGroupName)),lastElement=null,index=0,length=optionGroup.length;length>index;index++)option=optionGroup[index],(existingOption=existingOptions[index+1])?(lastElement=existingOption.element,existingOption.label!==option.label&&lastElement.text(existingOption.label=option.label),existingOption.id!==option.id&&lastElement.val(existingOption.id=option.id),lastElement[0].selected!==option.selected&&lastElement.prop("selected",existingOption.selected=option.selected)):(""===option.id&&nullOption?element=nullOption:(element=optionTemplate.clone()).val(option.id).attr("selected",option.selected).text(option.label),existingOptions.push(existingOption={element:element,label:option.label,id:option.id,selected:option.selected}),lastElement?lastElement.after(element):existingParent.element.append(element),lastElement=element);for(index++;existingOptions.length>index;)existingOptions.pop().element.remove()}for(;optionGroupsCache.length>groupIndex;)optionGroupsCache.pop()[0].element.remove()}var match;if(!(match=optionsExp.match(NG_OPTIONS_REGEXP)))throw Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_ (track by _expr_)?' but got '"+optionsExp+"'.");var displayFn=$parse(match[2]||match[1]),valueName=match[4]||match[6],keyName=match[5],groupByFn=$parse(match[3]||""),valueFn=$parse(match[2]?match[1]:valueName),valuesFn=$parse(match[7]),track=match[8],trackFn=track?$parse(match[8]):null,optionGroupsCache=[[{element:selectElement,label:""}]];nullOption&&($compile(nullOption)(scope),nullOption.removeClass("ng-scope"),nullOption.remove()),selectElement.html(""),selectElement.bind("change",function(){scope.$apply(function(){var optionGroup,key,value,optionElement,index,groupIndex,length,groupLength,collection=valuesFn(scope)||[],locals={};if(multiple){for(value=[],groupIndex=0,groupLength=optionGroupsCache.length;groupLength>groupIndex;groupIndex++)for(optionGroup=optionGroupsCache[groupIndex],index=1,length=optionGroup.length;length>index;index++)if((optionElement=optionGroup[index].element)[0].selected){if(key=optionElement.val(),keyName&&(locals[keyName]=key),trackFn)for(var trackIndex=0;trackIndex<collection.length&&(locals[valueName]=collection[trackIndex],trackFn(scope,locals)!=key);trackIndex++);else locals[valueName]=collection[key];value.push(valueFn(scope,locals))}}else if(key=selectElement.val(),"?"==key)value=undefined;else if(""==key)value=null;else if(trackFn){for(var trackIndex=0;trackIndex<collection.length;trackIndex++)if(locals[valueName]=collection[trackIndex],trackFn(scope,locals)==key){value=valueFn(scope,locals);break}}else locals[valueName]=collection[key],keyName&&(locals[keyName]=key),value=valueFn(scope,locals);ctrl.$setViewValue(value)})}),ctrl.$render=render,scope.$watch(render)}if(ctrls[1]){for(var emptyOption,selectCtrl=ctrls[0],ngModelCtrl=ctrls[1],multiple=attr.multiple,optionsExp=attr.ngOptions,nullOption=!1,optionTemplate=jqLite(document.createElement("option")),optGroupTemplate=jqLite(document.createElement("optgroup")),unknownOption=optionTemplate.clone(),i=0,children=element.children(),ii=children.length;ii>i;i++)if(""==children[i].value){emptyOption=nullOption=children.eq(i);break}if(selectCtrl.init(ngModelCtrl,nullOption,unknownOption),multiple&&(attr.required||attr.ngRequired)){var requiredValidator=function(value){return ngModelCtrl.$setValidity("required",!attr.required||value&&value.length),value};ngModelCtrl.$parsers.push(requiredValidator),ngModelCtrl.$formatters.unshift(requiredValidator),attr.$observe("required",function(){requiredValidator(ngModelCtrl.$viewValue)})}optionsExp?Options(scope,element,ngModelCtrl):multiple?Multiple(scope,element,ngModelCtrl):Single(scope,element,ngModelCtrl,selectCtrl)}}}}],optionDirective=["$interpolate",function($interpolate){var nullSelectCtrl={addOption:noop,removeOption:noop};return{restrict:"E",priority:100,compile:function(element,attr){if(isUndefined(attr.value)){var interpolateFn=$interpolate(element.text(),!0);interpolateFn||attr.$set("value",element.text())}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);selectCtrl&&selectCtrl.databound?element.prop("selected",!1):selectCtrl=nullSelectCtrl,interpolateFn?scope.$watch(interpolateFn,function(newVal,oldVal){attr.$set("value",newVal),newVal!==oldVal&&selectCtrl.removeOption(oldVal),selectCtrl.addOption(newVal)}):selectCtrl.addOption(attr.value),element.bind("$destroy",function(){selectCtrl.removeOption(attr.value)})}}}}],styleDirective=valueFn({restrict:"E",terminal:!0});bindJQuery(),publishExternalAPI(angular),jqLite(document).ready(function(){angularInit(document,bootstrap)})}(window,document),angular.element(document).find("head").append('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak{display:none;}ng\\:form{display:block;}</style>'),function(window,angular,undefined){"use strict";angular.module("ngResource",["ng"]).factory("$resource",["$http","$parse",function($http,$parse){function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function Route(template,defaults){this.template=template,this.defaults=defaults||{},this.urlParams={}}function ResourceFactory(url,paramDefaults,actions){function extractParams(data,actionParams){var ids={};return actionParams=extend({},paramDefaults,actionParams),forEach(actionParams,function(value,key){isFunction(value)&&(value=value()),ids[key]=value&&value.charAt&&"@"==value.charAt(0)?getter(data,value.substr(1)):value}),ids}function Resource(value){copy(value||{},this)}var route=new Route(url);return actions=extend({},DEFAULT_ACTIONS,actions),forEach(actions,function(action,name){action.method=angular.uppercase(action.method);var hasBody="POST"==action.method||"PUT"==action.method||"PATCH"==action.method;Resource[name]=function(a1,a2,a3,a4){function markResolved(){value.$resolved=!0}var data,promise,params={},success=noop,error=null;switch(arguments.length){case 4:error=a4,success=a3;case 3:case 2:if(!isFunction(a2)){params=a1,data=a2,success=a3;break}if(isFunction(a1)){success=a1,error=a2;break}success=a2,error=a3;case 1:isFunction(a1)?success=a1:hasBody?data=a1:params=a1;break;case 0:break;default:throw"Expected between 0-4 arguments [params, data, success, error], got "+arguments.length+" arguments."}var promise,value=this instanceof Resource?this:action.isArray?[]:new Resource(data),httpConfig={};return forEach(action,function(value,key){"params"!=key&&"isArray"!=key&&(httpConfig[key]=copy(value))}),httpConfig.data=data,route.setUrlParams(httpConfig,extend({},extractParams(data,action.params||{}),params),action.url),promise=$http(httpConfig),value.$resolved=!1,promise.then(markResolved,markResolved),value.$then=promise.then(function(response){var data=response.data,then=value.$then,resolved=value.$resolved;return data&&(action.isArray?(value.length=0,forEach(data,function(item){value.push(new Resource(item))})):(copy(data,value),value.$then=then,value.$resolved=resolved)),(success||noop)(value,response.headers,response.status,response.config.url),response.resource=value,response},error).then,value},Resource.prototype["$"+name]=function(a1,a2,a3){var error,params=extractParams(this),success=noop;switch(arguments.length){case 3:params=a1,success=a2,error=a3;break;case 2:case 1:isFunction(a1)?(success=a1,error=a2):(params=a1,success=a2||noop);case 0:break;
default:throw"Expected between 1-3 arguments [params, success, error], got "+arguments.length+" arguments."}var data=hasBody?this:undefined;Resource[name].call(this,params,data,success,error)}}),Resource.bind=function(additionalParamDefaults){return ResourceFactory(url,extend({},paramDefaults,additionalParamDefaults),actions)},Resource}var DEFAULT_ACTIONS={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},noop=angular.noop,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,isFunction=angular.isFunction,getter=function(obj,path){return $parse(path)(obj)};return Route.prototype={setUrlParams:function(config,params,actionUrl){var val,encodedVal,self=this,url=actionUrl||self.template,urlParams=self.urlParams={};forEach(url.split(/\W/),function(param){param&&new RegExp("(^|[^\\\\]):"+param+"(\\W|$)").test(url)&&(urlParams[param]=!0)}),url=url.replace(/\\:/g,":"),params=params||{},forEach(self.urlParams,function(_,urlParam){val=params.hasOwnProperty(urlParam)?params[urlParam]:self.defaults[urlParam],angular.isDefined(val)&&null!==val?(encodedVal=encodeUriSegment(val),url=url.replace(new RegExp(":"+urlParam+"(\\W|$)","g"),encodedVal+"$1")):url=url.replace(new RegExp("(/?):"+urlParam+"(\\W|$)","g"),function(match,leadingSlashes,tail){return"/"==tail.charAt(0)?tail:leadingSlashes+tail})}),url=url.replace(/\/+$/,""),url=url.replace(/\/\.(?=\w+($|\?))/,"."),config.url=url.replace(/\/\\\./,"/."),forEach(params,function(value,key){self.urlParams[key]||(config.params=config.params||{},config.params[key]=value)})}},ResourceFactory}])}(window,window.angular),function(e,t,n){function i(n,s){if(!t[n]){if(!e[n]){var o="function"==typeof require&&require;if(!s&&o)return o(n,!0);if(r)return r(n,!0);throw new Error("Cannot find module '"+n+"'")}var u=t[n]={exports:{}};e[n][0].call(u.exports,function(t){var r=e[n][1][t];return i(r?r:t)},u,u.exports)}return t[n].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(){!function(){var __indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1},__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};this.Mark=function(){function Mark(name,line,column,buffer,pointer){this.name=name,this.line=line,this.column=column,this.buffer=buffer,this.pointer=pointer}return Mark.prototype.get_snippet=function(indent,max_length){var break_chars,end,head,start,tail,_ref,_ref1;if(null==indent&&(indent=4),null==max_length&&(max_length=75),null==this.buffer)return null;for(break_chars="\0\r\n\u2028\u2029",head="",start=this.pointer;start>0&&(_ref=this.buffer[start-1],__indexOf.call(break_chars,_ref)<0);)if(start--,this.pointer-start>max_length/2-1){head=" ... ",start+=5;break}for(tail="",end=this.pointer;end<this.buffer.length&&(_ref1=this.buffer[end],__indexOf.call(break_chars,_ref1)<0);)if(end++,end-this.pointer>max_length/2-1){tail=" ... ",end-=5;break}return""+new Array(indent).join(" ")+head+this.buffer.slice(start,end)+tail+"\n"+new Array(indent+this.pointer-start+head.length).join(" ")+"^"},Mark.prototype.toString=function(){var snippet,where;return snippet=this.get_snippet(),where='  in "'+this.name+'", line '+(this.line+1)+", column "+(this.column+1),snippet?where:""+where+":\n"+snippet},Mark}(),this.YAMLError=function(_super){function YAMLError(){YAMLError.__super__.constructor.call(this)}return __extends(YAMLError,_super),YAMLError}(Error),this.MarkedYAMLError=function(_super){function MarkedYAMLError(context,context_mark,message,problem_mark,note){this.context=context,this.context_mark=context_mark,this.message=message,this.problem_mark=problem_mark,this.note=note,MarkedYAMLError.__super__.constructor.call(this)}return __extends(MarkedYAMLError,_super),MarkedYAMLError.prototype.toString=function(){var lines;return lines=[],null!=this.context&&lines.push(this.context),null==this.context_mark||null!=this.message&&null!=this.problem_mark&&this.context_mark.name===this.problem_mark.name&&this.context_mark.line===this.problem_mark.line&&this.context_mark.column===this.problem_mark.column||lines.push(this.context_mark.toString()),null!=this.message&&lines.push(this.message),null!=this.problem_mark&&lines.push(this.problem_mark.toString()),null!=this.note&&lines.push(this.note),lines.join("\n")},MarkedYAMLError}(this.YAMLError)}.call(this)},{}],2:[function(){!function(){var _ref,_ref1,_ref2,_ref3,_ref4,_ref5,_ref6,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};this.Event=function(){function Event(start_mark,end_mark){this.start_mark=start_mark,this.end_mark=end_mark}return Event}(),this.NodeEvent=function(_super){function NodeEvent(anchor,start_mark,end_mark){this.anchor=anchor,this.start_mark=start_mark,this.end_mark=end_mark}return __extends(NodeEvent,_super),NodeEvent}(this.Event),this.CollectionStartEvent=function(_super){function CollectionStartEvent(anchor,tag,implicit,start_mark,end_mark){this.anchor=anchor,this.tag=tag,this.implicit=implicit,this.start_mark=start_mark,this.end_mark=end_mark}return __extends(CollectionStartEvent,_super),CollectionStartEvent}(this.NodeEvent),this.CollectionEndEvent=function(_super){function CollectionEndEvent(){return _ref=CollectionEndEvent.__super__.constructor.apply(this,arguments)}return __extends(CollectionEndEvent,_super),CollectionEndEvent}(this.Event),this.StreamStartEvent=function(_super){function StreamStartEvent(start_mark,end_mark,explicit,version,tags){this.start_mark=start_mark,this.end_mark=end_mark,this.explicit=explicit,this.version=version,this.tags=tags}return __extends(StreamStartEvent,_super),StreamStartEvent}(this.Event),this.StreamEndEvent=function(_super){function StreamEndEvent(){return _ref1=StreamEndEvent.__super__.constructor.apply(this,arguments)}return __extends(StreamEndEvent,_super),StreamEndEvent}(this.Event),this.DocumentStartEvent=function(_super){function DocumentStartEvent(start_mark,end_mark,explicit,version,tags){this.start_mark=start_mark,this.end_mark=end_mark,this.explicit=explicit,this.version=version,this.tags=tags}return __extends(DocumentStartEvent,_super),DocumentStartEvent}(this.Event),this.DocumentEndEvent=function(_super){function DocumentEndEvent(start_mark,end_mark,explicit){this.start_mark=start_mark,this.end_mark=end_mark,this.explicit=explicit}return __extends(DocumentEndEvent,_super),DocumentEndEvent}(this.Event),this.AliasEvent=function(_super){function AliasEvent(){return _ref2=AliasEvent.__super__.constructor.apply(this,arguments)}return __extends(AliasEvent,_super),AliasEvent}(this.NodeEvent),this.ScalarEvent=function(_super){function ScalarEvent(anchor,tag,implicit,value,start_mark,end_mark,style){this.anchor=anchor,this.tag=tag,this.implicit=implicit,this.value=value,this.start_mark=start_mark,this.end_mark=end_mark,this.style=style}return __extends(ScalarEvent,_super),ScalarEvent}(this.NodeEvent),this.SequenceStartEvent=function(_super){function SequenceStartEvent(){return _ref3=SequenceStartEvent.__super__.constructor.apply(this,arguments)}return __extends(SequenceStartEvent,_super),SequenceStartEvent}(this.CollectionStartEvent),this.SequenceEndEvent=function(_super){function SequenceEndEvent(){return _ref4=SequenceEndEvent.__super__.constructor.apply(this,arguments)}return __extends(SequenceEndEvent,_super),SequenceEndEvent}(this.CollectionEndEvent),this.MappingStartEvent=function(_super){function MappingStartEvent(){return _ref5=MappingStartEvent.__super__.constructor.apply(this,arguments)}return __extends(MappingStartEvent,_super),MappingStartEvent}(this.CollectionStartEvent),this.MappingEndEvent=function(_super){function MappingEndEvent(){return _ref6=MappingEndEvent.__super__.constructor.apply(this,arguments)}return __extends(MappingEndEvent,_super),MappingEndEvent}(this.CollectionEndEvent)}.call(this)},{}],3:[function(){!function(){var _ref,_ref1,_ref10,_ref11,_ref12,_ref13,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};this.Token=function(){function Token(start_mark,end_mark){this.start_mark=start_mark,this.end_mark=end_mark}return Token}(),this.DirectiveToken=function(_super){function DirectiveToken(name,value,start_mark,end_mark){this.name=name,this.value=value,this.start_mark=start_mark,this.end_mark=end_mark}return __extends(DirectiveToken,_super),DirectiveToken.prototype.id="<directive>",DirectiveToken}(this.Token),this.DocumentStartToken=function(_super){function DocumentStartToken(){return _ref=DocumentStartToken.__super__.constructor.apply(this,arguments)}return __extends(DocumentStartToken,_super),DocumentStartToken.prototype.id="<document start>",DocumentStartToken}(this.Token),this.DocumentEndToken=function(_super){function DocumentEndToken(){return _ref1=DocumentEndToken.__super__.constructor.apply(this,arguments)}return __extends(DocumentEndToken,_super),DocumentEndToken.prototype.id="<document end>",DocumentEndToken}(this.Token),this.StreamStartToken=function(_super){function StreamStartToken(start_mark,end_mark,encoding){this.start_mark=start_mark,this.end_mark=end_mark,this.encoding=encoding}return __extends(StreamStartToken,_super),StreamStartToken.prototype.id="<stream start>",StreamStartToken}(this.Token),this.StreamEndToken=function(_super){function StreamEndToken(){return _ref2=StreamEndToken.__super__.constructor.apply(this,arguments)}return __extends(StreamEndToken,_super),StreamEndToken.prototype.id="<stream end>",StreamEndToken}(this.Token),this.BlockSequenceStartToken=function(_super){function BlockSequenceStartToken(){return _ref3=BlockSequenceStartToken.__super__.constructor.apply(this,arguments)}return __extends(BlockSequenceStartToken,_super),BlockSequenceStartToken.prototype.id="<block sequence start>",BlockSequenceStartToken}(this.Token),this.BlockMappingStartToken=function(_super){function BlockMappingStartToken(){return _ref4=BlockMappingStartToken.__super__.constructor.apply(this,arguments)}return __extends(BlockMappingStartToken,_super),BlockMappingStartToken.prototype.id="<block mapping end>",BlockMappingStartToken}(this.Token),this.BlockEndToken=function(_super){function BlockEndToken(){return _ref5=BlockEndToken.__super__.constructor.apply(this,arguments)}return __extends(BlockEndToken,_super),BlockEndToken.prototype.id="<block end>",BlockEndToken}(this.Token),this.FlowSequenceStartToken=function(_super){function FlowSequenceStartToken(){return _ref6=FlowSequenceStartToken.__super__.constructor.apply(this,arguments)}return __extends(FlowSequenceStartToken,_super),FlowSequenceStartToken.prototype.id="[",FlowSequenceStartToken}(this.Token),this.FlowMappingStartToken=function(_super){function FlowMappingStartToken(){return _ref7=FlowMappingStartToken.__super__.constructor.apply(this,arguments)}return __extends(FlowMappingStartToken,_super),FlowMappingStartToken.prototype.id="{",FlowMappingStartToken}(this.Token),this.FlowSequenceEndToken=function(_super){function FlowSequenceEndToken(){return _ref8=FlowSequenceEndToken.__super__.constructor.apply(this,arguments)}return __extends(FlowSequenceEndToken,_super),FlowSequenceEndToken.prototype.id="]",FlowSequenceEndToken}(this.Token),this.FlowMappingEndToken=function(_super){function FlowMappingEndToken(){return _ref9=FlowMappingEndToken.__super__.constructor.apply(this,arguments)}return __extends(FlowMappingEndToken,_super),FlowMappingEndToken.prototype.id="}",FlowMappingEndToken}(this.Token),this.KeyToken=function(_super){function KeyToken(){return _ref10=KeyToken.__super__.constructor.apply(this,arguments)}return __extends(KeyToken,_super),KeyToken.prototype.id="?",KeyToken}(this.Token),this.ValueToken=function(_super){function ValueToken(){return _ref11=ValueToken.__super__.constructor.apply(this,arguments)}return __extends(ValueToken,_super),ValueToken.prototype.id=":",ValueToken}(this.Token),this.BlockEntryToken=function(_super){function BlockEntryToken(){return _ref12=BlockEntryToken.__super__.constructor.apply(this,arguments)}return __extends(BlockEntryToken,_super),BlockEntryToken.prototype.id="-",BlockEntryToken}(this.Token),this.FlowEntryToken=function(_super){function FlowEntryToken(){return _ref13=FlowEntryToken.__super__.constructor.apply(this,arguments)}return __extends(FlowEntryToken,_super),FlowEntryToken.prototype.id=",",FlowEntryToken}(this.Token),this.AliasToken=function(_super){function AliasToken(value,start_mark,end_mark){this.value=value,this.start_mark=start_mark,this.end_mark=end_mark}return __extends(AliasToken,_super),AliasToken.prototype.id="<alias>",AliasToken}(this.Token),this.AnchorToken=function(_super){function AnchorToken(value,start_mark,end_mark){this.value=value,this.start_mark=start_mark,this.end_mark=end_mark}return __extends(AnchorToken,_super),AnchorToken.prototype.id="<anchor>",AnchorToken}(this.Token),this.TagToken=function(_super){function TagToken(value,start_mark,end_mark){this.value=value,this.start_mark=start_mark,this.end_mark=end_mark}return __extends(TagToken,_super),TagToken.prototype.id="<tag>",TagToken}(this.Token),this.ScalarToken=function(_super){function ScalarToken(value,plain,start_mark,end_mark,style){this.value=value,this.plain=plain,this.start_mark=start_mark,this.end_mark=end_mark,this.style=style}return __extends(ScalarToken,_super),ScalarToken.prototype.id="<scalar>",ScalarToken}(this.Token)}.call(this)},{}],4:[function(){!function(){var __slice=[].slice,__hasProp={}.hasOwnProperty;this.extend=function(){var destination,k,source,sources,v,_i,_len;for(destination=arguments[0],sources=2<=arguments.length?__slice.call(arguments,1):[],_i=0,_len=sources.length;_len>_i;_i++){source=sources[_i];for(k in source)v=source[k],destination[k]=v}return destination},this.is_empty=function(obj){var key;if(Array.isArray(obj)||"string"==typeof obj)return 0===obj.length;for(key in obj)if(__hasProp.call(obj,key))return!1;return!0}}.call(this)},{}],5:[function(require,module){var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){if(ev.source===window&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")}},{}],6:[function(require,module,exports){!function(process){!function(definition){if("function"==typeof bootstrap)bootstrap("promise",definition);else if("object"==typeof exports)module.exports=definition();else if("function"==typeof define&&define.amd)define(definition);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=definition}else Q=definition()}(function(){"use strict";function uncurryThis(f){var call=Function.call;return function(){return call.apply(f,arguments)}}function isObject(value){return value===Object(value)}function isStopIteration(exception){return"[object StopIteration]"===object_toString(exception)||exception instanceof QReturnValue}function makeStackTraceLong(error,promise){if(hasStacks&&promise.stack&&"object"==typeof error&&null!==error&&error.stack&&-1===error.stack.indexOf(STACK_JUMP_SEPARATOR)){for(var stacks=[],p=promise;p;p=p.source)p.stack&&stacks.unshift(p.stack);stacks.unshift(error.stack);var concatedStacks=stacks.join("\n"+STACK_JUMP_SEPARATOR+"\n");error.stack=filterStackString(concatedStacks)}}function filterStackString(stackString){for(var lines=stackString.split("\n"),desiredLines=[],i=0;i<lines.length;++i){var line=lines[i];isInternalFrame(line)||isNodeFrame(line)||!line||desiredLines.push(line)}return desiredLines.join("\n")}function isNodeFrame(stackLine){return-1!==stackLine.indexOf("(module.js:")||-1!==stackLine.indexOf("(node.js:")}function getFileNameAndLineNumber(stackLine){var attempt1=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(stackLine);if(attempt1)return[attempt1[1],Number(attempt1[2])];var attempt2=/at ([^ ]+):(\d+):(?:\d+)$/.exec(stackLine);if(attempt2)return[attempt2[1],Number(attempt2[2])];var attempt3=/.*@(.+):(\d+)$/.exec(stackLine);return attempt3?[attempt3[1],Number(attempt3[2])]:void 0}function isInternalFrame(stackLine){var fileNameAndLineNumber=getFileNameAndLineNumber(stackLine);if(!fileNameAndLineNumber)return!1;var fileName=fileNameAndLineNumber[0],lineNumber=fileNameAndLineNumber[1];return fileName===qFileName&&lineNumber>=qStartingLine&&qEndingLine>=lineNumber}function captureLine(){if(hasStacks)try{throw new Error}catch(e){var lines=e.stack.split("\n"),firstLine=lines[0].indexOf("@")>0?lines[1]:lines[2],fileNameAndLineNumber=getFileNameAndLineNumber(firstLine);if(!fileNameAndLineNumber)return;return qFileName=fileNameAndLineNumber[0],fileNameAndLineNumber[1]}}function deprecate(callback,name,alternative){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(name+" is deprecated, use "+alternative+" instead.",new Error("").stack),callback.apply(callback,arguments)}}function Q(value){return resolve(value)}function defer(){function become(newPromise){resolvedPromise=newPromise,promise.source=newPromise,array_reduce(messages,function(undefined,message){nextTick(function(){newPromise.promiseDispatch.apply(newPromise,message)})},void 0),messages=void 0,progressListeners=void 0}var resolvedPromise,messages=[],progressListeners=[],deferred=object_create(defer.prototype),promise=object_create(Promise.prototype);if(promise.promiseDispatch=function(resolve,op,operands){var args=array_slice(arguments);messages?(messages.push(args),"when"===op&&operands[1]&&progressListeners.push(operands[1])):nextTick(function(){resolvedPromise.promiseDispatch.apply(resolvedPromise,args)})},promise.valueOf=deprecate(function(){if(messages)return promise;var nearerValue=nearer(resolvedPromise);return isPromise(nearerValue)&&(resolvedPromise=nearerValue),nearerValue},"valueOf","inspect"),promise.inspect=function(){return resolvedPromise?resolvedPromise.inspect():{state:"pending"}},Q.longStackSupport&&hasStacks)try{throw new Error}catch(e){promise.stack=e.stack.substring(e.stack.indexOf("\n")+1)}return deferred.promise=promise,deferred.resolve=function(value){resolvedPromise||become(resolve(value))},deferred.fulfill=function(value){resolvedPromise||become(fulfill(value))},deferred.reject=function(reason){resolvedPromise||become(reject(reason))},deferred.notify=function(progress){resolvedPromise||array_reduce(progressListeners,function(undefined,progressListener){nextTick(function(){progressListener(progress)})},void 0)},deferred}function promise(resolver){if("function"!=typeof resolver)throw new TypeError("resolver must be a function.");var deferred=defer();return fcall(resolver,deferred.resolve,deferred.reject,deferred.notify).fail(deferred.reject),deferred.promise}function Promise(descriptor,fallback,inspect){void 0===fallback&&(fallback=function(op){return reject(new Error("Promise does not support operation: "+op))}),void 0===inspect&&(inspect=function(){return{state:"unknown"}});var promise=object_create(Promise.prototype);if(promise.promiseDispatch=function(resolve,op,args){var result;try{result=descriptor[op]?descriptor[op].apply(promise,args):fallback.call(promise,op,args)}catch(exception){result=reject(exception)}resolve&&resolve(result)},promise.inspect=inspect,inspect){var inspected=inspect();"rejected"===inspected.state&&(promise.exception=inspected.reason),promise.valueOf=deprecate(function(){var inspected=inspect();return"pending"===inspected.state||"rejected"===inspected.state?promise:inspected.value})}return promise}function nearer(value){if(isPromise(value)){var inspected=value.inspect();if("fulfilled"===inspected.state)return inspected.value}return value}function isPromise(object){return isObject(object)&&"function"==typeof object.promiseDispatch&&"function"==typeof object.inspect}function isPromiseAlike(object){return isObject(object)&&"function"==typeof object.then}function isPending(object){return isPromise(object)&&"pending"===object.inspect().state}function isFulfilled(object){return!isPromise(object)||"fulfilled"===object.inspect().state}function isRejected(object){return isPromise(object)&&"rejected"===object.inspect().state}function displayUnhandledReasons(){unhandledReasonsDisplayed||"undefined"==typeof window||window.Touch||!window.console||console.warn("[Q] Unhandled rejection reasons (should be empty):",unhandledReasons),unhandledReasonsDisplayed=!0}function logUnhandledReasons(){for(var i=0;i<unhandledReasons.length;i++){var reason=unhandledReasons[i];reason&&"undefined"!=typeof reason.stack?console.warn("Unhandled rejection reason:",reason.stack):console.warn("Unhandled rejection reason (no stack):",reason)}}function resetUnhandledRejections(){unhandledReasons.length=0,unhandledRejections.length=0,unhandledReasonsDisplayed=!1,trackUnhandledRejections||(trackUnhandledRejections=!0,"undefined"!=typeof process&&process.on&&process.on("exit",logUnhandledReasons))}function trackRejection(promise,reason){trackUnhandledRejections&&(unhandledRejections.push(promise),unhandledReasons.push(reason),displayUnhandledReasons())}function untrackRejection(promise){if(trackUnhandledRejections){var at=array_indexOf(unhandledRejections,promise);-1!==at&&(unhandledRejections.splice(at,1),unhandledReasons.splice(at,1))}}function reject(reason){var rejection=Promise({when:function(rejected){return rejected&&untrackRejection(this),rejected?rejected(reason):this}},function(){return this},function(){return{state:"rejected",reason:reason}});return trackRejection(rejection,reason),rejection}function fulfill(value){return Promise({when:function(){return value},get:function(name){return value[name]},set:function(name,rhs){value[name]=rhs},"delete":function(name){delete value[name]},post:function(name,args){return null===name||void 0===name?value.apply(void 0,args):value[name].apply(value,args)},apply:function(thisP,args){return value.apply(thisP,args)},keys:function(){return object_keys(value)}},void 0,function(){return{state:"fulfilled",value:value}})}function resolve(value){return isPromise(value)?value:isPromiseAlike(value)?coerce(value):fulfill(value)}function coerce(promise){var deferred=defer();return nextTick(function(){try{promise.then(deferred.resolve,deferred.reject,deferred.notify)}catch(exception){deferred.reject(exception)}}),deferred.promise}function master(object){return Promise({isDef:function(){}},function(op,args){return dispatch(object,op,args)},function(){return resolve(object).inspect()})}function when(value,fulfilled,rejected,progressed){return Q(value).then(fulfilled,rejected,progressed)}function spread(promise,fulfilled,rejected){return when(promise,function(valuesOrPromises){return all(valuesOrPromises).then(function(values){return fulfilled.apply(void 0,values)},rejected)},rejected)}function async(makeGenerator){return function(){function continuer(verb,arg){var result;if(hasES6Generators){try{result=generator[verb](arg)}catch(exception){return reject(exception)}return result.done?result.value:when(result.value,callback,errback)}try{result=generator[verb](arg)}catch(exception){return isStopIteration(exception)?exception.value:reject(exception)}return when(result,callback,errback)}var generator=makeGenerator.apply(this,arguments),callback=continuer.bind(continuer,"send"),errback=continuer.bind(continuer,"throw");return callback()}}function spawn(makeGenerator){Q.done(Q.async(makeGenerator)())}function _return(value){throw new QReturnValue(value)}function promised(callback){return function(){return spread([this,all(arguments)],function(self,args){return callback.apply(self,args)})}}function dispatch(object,op,args){var deferred=defer();return nextTick(function(){resolve(object).promiseDispatch(deferred.resolve,op,args)}),deferred.promise}function dispatcher(op){return function(object){var args=array_slice(arguments,1);return dispatch(object,op,args)}}function send(value,name){var args=array_slice(arguments,2);return post(value,name,args)}function fapply(value,args){return dispatch(value,"apply",[void 0,args])}function fcall(value){var args=array_slice(arguments,1);return fapply(value,args)}function fbind(value){var args=array_slice(arguments,1);return function(){var allArgs=args.concat(array_slice(arguments));return dispatch(value,"apply",[this,allArgs])}}function all(promises){return when(promises,function(promises){var countDown=0,deferred=defer();return array_reduce(promises,function(undefined,promise,index){var snapshot;isPromise(promise)&&"fulfilled"===(snapshot=promise.inspect()).state?promises[index]=snapshot.value:(++countDown,when(promise,function(value){promises[index]=value,0===--countDown&&deferred.resolve(promises)},deferred.reject))},void 0),0===countDown&&deferred.resolve(promises),deferred.promise})}function allResolved(promises){return when(promises,function(promises){return promises=array_map(promises,resolve),when(all(array_map(promises,function(promise){return when(promise,noop,noop)})),function(){return promises})})}function allSettled(values){return when(values,function(values){return all(array_map(values,function(value,i){return when(value,function(fulfillmentValue){return values[i]={state:"fulfilled",value:fulfillmentValue},values[i]},function(reason){return values[i]={state:"rejected",reason:reason},values[i]})})).thenResolve(values)})}function fail(promise,rejected){return when(promise,void 0,rejected)}function progress(promise,progressed){return when(promise,void 0,void 0,progressed)}function fin(promise,callback){return when(promise,function(value){return when(callback(),function(){return value})},function(exception){return when(callback(),function(){return reject(exception)})})}function done(promise,fulfilled,rejected,progress){var onUnhandledError=function(error){nextTick(function(){if(makeStackTraceLong(error,promise),!Q.onerror)throw error;Q.onerror(error)})},promiseToHandle=fulfilled||rejected||progress?when(promise,fulfilled,rejected,progress):promise;"object"==typeof process&&process&&process.domain&&(onUnhandledError=process.domain.bind(onUnhandledError)),fail(promiseToHandle,onUnhandledError)}function timeout(promise,ms,msg){var deferred=defer(),timeoutId=setTimeout(function(){deferred.reject(new Error(msg||"Timed out after "+ms+" ms"))},ms);return when(promise,function(value){clearTimeout(timeoutId),deferred.resolve(value)},function(exception){clearTimeout(timeoutId),deferred.reject(exception)},deferred.notify),deferred.promise}function delay(promise,timeout){void 0===timeout&&(timeout=promise,promise=void 0);var deferred=defer();return when(promise,void 0,void 0,deferred.notify),setTimeout(function(){deferred.resolve(promise)},timeout),deferred.promise}function nfapply(callback,args){var nodeArgs=array_slice(args),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),fapply(callback,nodeArgs).fail(deferred.reject),deferred.promise}function nfcall(callback){var nodeArgs=array_slice(arguments,1),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),fapply(callback,nodeArgs).fail(deferred.reject),deferred.promise}function nfbind(callback){var baseArgs=array_slice(arguments,1);return function(){var nodeArgs=baseArgs.concat(array_slice(arguments)),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),fapply(callback,nodeArgs).fail(deferred.reject),deferred.promise}}function nbind(callback,thisArg){var baseArgs=array_slice(arguments,2);return function(){function bound(){return callback.apply(thisArg,arguments)}var nodeArgs=baseArgs.concat(array_slice(arguments)),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),fapply(bound,nodeArgs).fail(deferred.reject),deferred.promise}}function npost(object,name,args){var nodeArgs=array_slice(args||[]),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),post(object,name,nodeArgs).fail(deferred.reject),deferred.promise}function nsend(object,name){var nodeArgs=array_slice(arguments,2),deferred=defer();return nodeArgs.push(deferred.makeNodeResolver()),post(object,name,nodeArgs).fail(deferred.reject),deferred.promise}function nodeify(promise,nodeback){return nodeback?(promise.then(function(value){nextTick(function(){nodeback(null,value)})},function(error){nextTick(function(){nodeback(error)})}),void 0):promise}var hasStacks=!1;try{throw new Error}catch(e){hasStacks=!!e.stack}var qFileName,QReturnValue,qStartingLine=captureLine(),noop=function(){},nextTick=function(){function flush(){for(;head.next;){head=head.next;var task=head.task;head.task=void 0;var domain=head.domain;domain&&(head.domain=void 0,domain.enter());try{task()}catch(e){if(isNodeJS)throw domain&&domain.exit(),setTimeout(flush,0),domain&&domain.enter(),e;setTimeout(function(){throw e},0)}domain&&domain.exit()}flushing=!1}var head={task:void 0,next:null},tail=head,flushing=!1,requestTick=void 0,isNodeJS=!1;if(nextTick=function(task){tail=tail.next={task:task,domain:isNodeJS&&process.domain,next:null},flushing||(flushing=!0,requestTick())},"undefined"!=typeof process&&process.nextTick)isNodeJS=!0,requestTick=function(){process.nextTick(flush)};else if("function"==typeof setImmediate)requestTick="undefined"!=typeof window?setImmediate.bind(window,flush):function(){setImmediate(flush)};else if("undefined"!=typeof MessageChannel){var channel=new MessageChannel;channel.port1.onmessage=flush,requestTick=function(){channel.port2.postMessage(0)}}else requestTick=function(){setTimeout(flush,0)};return nextTick}(),array_slice=uncurryThis(Array.prototype.slice),array_reduce=uncurryThis(Array.prototype.reduce||function(callback,basis){var index=0,length=this.length;if(1===arguments.length)for(;;){if(index in this){basis=this[index++];break}if(++index>=length)throw new TypeError}for(;length>index;index++)index in this&&(basis=callback(basis,this[index],index));return basis}),array_indexOf=uncurryThis(Array.prototype.indexOf||function(value){for(var i=0;i<this.length;i++)if(this[i]===value)return i;return-1}),array_map=uncurryThis(Array.prototype.map||function(callback,thisp){var self=this,collect=[];return array_reduce(self,function(undefined,value,index){collect.push(callback.call(thisp,value,index,self))},void 0),collect}),object_create=Object.create||function(prototype){function Type(){}return Type.prototype=prototype,new Type},object_hasOwnProperty=uncurryThis(Object.prototype.hasOwnProperty),object_keys=Object.keys||function(object){var keys=[];for(var key in object)object_hasOwnProperty(object,key)&&keys.push(key);return keys},object_toString=uncurryThis(Object.prototype.toString);QReturnValue="undefined"!=typeof ReturnValue?ReturnValue:function(value){this.value=value};var hasES6Generators;try{new Function("(function* (){ yield 1; })"),hasES6Generators=!0}catch(e){hasES6Generators=!1}var STACK_JUMP_SEPARATOR="From previous event:";Q.nextTick=nextTick,Q.longStackSupport=!1,Q.defer=defer,defer.prototype.makeNodeResolver=function(){var self=this;
return function(error,value){error?self.reject(error):arguments.length>2?self.resolve(array_slice(arguments,1)):self.resolve(value)}},Q.promise=promise,Q.makePromise=Promise,Promise.prototype.then=function(fulfilled,rejected,progressed){function _fulfilled(value){try{return"function"==typeof fulfilled?fulfilled(value):value}catch(exception){return reject(exception)}}function _rejected(exception){if("function"==typeof rejected){makeStackTraceLong(exception,self);try{return rejected(exception)}catch(newException){return reject(newException)}}return reject(exception)}function _progressed(value){return"function"==typeof progressed?progressed(value):value}var self=this,deferred=defer(),done=!1;return nextTick(function(){self.promiseDispatch(function(value){done||(done=!0,deferred.resolve(_fulfilled(value)))},"when",[function(exception){done||(done=!0,deferred.resolve(_rejected(exception)))}])}),self.promiseDispatch(void 0,"when",[void 0,function(value){var newValue,threw=!1;try{newValue=_progressed(value)}catch(e){if(threw=!0,!Q.onerror)throw e;Q.onerror(e)}threw||deferred.notify(newValue)}]),deferred.promise},Promise.prototype.thenResolve=function(value){return when(this,function(){return value})},Promise.prototype.thenReject=function(reason){return when(this,function(){throw reason})},array_reduce(["isFulfilled","isRejected","isPending","dispatch","when","spread","get","set","del","delete","post","send","mapply","invoke","mcall","keys","fapply","fcall","fbind","all","allResolved","timeout","delay","catch","finally","fail","fin","progress","done","nfcall","nfapply","nfbind","denodeify","nbind","npost","nsend","nmapply","ninvoke","nmcall","nodeify"],function(undefined,name){Promise.prototype[name]=function(){return Q[name].apply(Q,[this].concat(array_slice(arguments)))}},void 0),Promise.prototype.toSource=function(){return this.toString()},Promise.prototype.toString=function(){return"[object Promise]"},Q.nearer=nearer,Q.isPromise=isPromise,Q.isPromiseAlike=isPromiseAlike,Q.isPending=isPending,Q.isFulfilled=isFulfilled,Q.isRejected=isRejected;var unhandledReasons=[],unhandledRejections=[],unhandledReasonsDisplayed=!1,trackUnhandledRejections=!0;Q.resetUnhandledRejections=resetUnhandledRejections,Q.getUnhandledReasons=function(){return unhandledReasons.slice()},Q.stopUnhandledRejectionTracking=function(){resetUnhandledRejections(),"undefined"!=typeof process&&process.on&&process.removeListener("exit",logUnhandledReasons),trackUnhandledRejections=!1},resetUnhandledRejections(),Q.reject=reject,Q.fulfill=fulfill,Q.resolve=resolve,Q.master=master,Q.when=when,Q.spread=spread,Q.async=async,Q.spawn=spawn,Q["return"]=_return,Q.promised=promised,Q.dispatch=dispatch,Q.dispatcher=dispatcher,Q.get=dispatcher("get"),Q.set=dispatcher("set"),Q["delete"]=Q.del=dispatcher("delete");var post=Q.post=dispatcher("post");Q.mapply=post,Q.send=send,Q.invoke=send,Q.mcall=send,Q.fapply=fapply,Q["try"]=fcall,Q.fcall=fcall,Q.fbind=fbind,Q.keys=dispatcher("keys"),Q.all=all,Q.allResolved=deprecate(allResolved,"allResolved","allSettled"),Q.allSettled=allSettled,Q["catch"]=Q.fail=fail,Q.progress=progress,Q["finally"]=Q.fin=fin,Q.done=done,Q.timeout=timeout,Q.delay=delay,Q.nfapply=nfapply,Q.nfcall=nfcall,Q.nfbind=nfbind,Q.denodeify=Q.nfbind,Q.nbind=nbind,Q.npost=npost,Q.nmapply=npost,Q.nsend=nsend,Q.ninvoke=Q.nsend,Q.nmcall=Q.nsend,Q.nodeify=nodeify;var qEndingLine=captureLine();return Q})}(require("__browserify_process"))},{__browserify_process:5}],7:[function(require,module,exports){function arrayIndexOf(array,subject){for(var i=0,j=array.length;j>i;i++)if(array[i]==subject)return i;return-1}function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&"object"==typeof url&&url.href)return url;if("string"!=typeof url)throw new TypeError("Parameter 'url' must be a string, not "+typeof url);for(var out={},rest=url,i=0,l=rest.length;l>i&&-1!==arrayIndexOf(delims,rest.charAt(i));i++);0!==i&&(rest=rest.substr(i));var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();out.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),out.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var atSign=arrayIndexOf(rest,"@");if(-1!==atSign){for(var hasAuth=!0,i=0,l=nonAuthChars.length;l>i;i++){var index=arrayIndexOf(rest,nonAuthChars[i]);if(-1!==index&&atSign>index){hasAuth=!1;break}}hasAuth&&(out.auth=rest.substr(0,atSign),rest=rest.substr(atSign+1))}for(var firstNonHost=-1,i=0,l=nonHostChars.length;l>i;i++){var index=arrayIndexOf(rest,nonHostChars[i]);-1!==index&&(0>firstNonHost||firstNonHost>index)&&(firstNonHost=index)}-1!==firstNonHost?(out.host=rest.substr(0,firstNonHost),rest=rest.substr(firstNonHost)):(out.host=rest,rest="");for(var p=parseHost(out.host),keys=objectKeys(p),i=0,l=keys.length;l>i;i++){var key=keys[i];out[key]=p[key]}if(out.hostname=out.hostname||"",out.hostname.length>hostnameMaxLen)out.hostname="";else for(var hostparts=out.hostname.split(/\./),i=0,l=hostparts.length;l>i;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;k>j;j++)newpart+=part.charCodeAt(j)>127?"x":part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),out.hostname=validParts.join(".");break}}}out.hostname=out.hostname.toLowerCase();for(var domainArray=out.hostname.split("."),newOut=[],i=0;i<domainArray.length;++i){var s=domainArray[i];newOut.push(s.match(/[^A-Za-z0-9_-]/)?"xn--"+punycode.encode(s):s)}out.hostname=newOut.join("."),out.host=(out.hostname||"")+(out.port?":"+out.port:""),out.href+=out.host}if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;l>i;i++){var ae=autoEscape[i],esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}for(var chop=rest.length,i=0,l=delims.length;l>i;i++){var c=arrayIndexOf(rest,delims[i]);-1!==c&&(chop=Math.min(c,chop))}rest=rest.substr(0,chop)}var hash=arrayIndexOf(rest,"#");-1!==hash&&(out.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=arrayIndexOf(rest,"?");return-1!==qm?(out.search=rest.substr(qm),out.query=rest.substr(qm+1),parseQueryString&&(out.query=querystring.parse(out.query)),rest=rest.slice(0,qm)):parseQueryString&&(out.search="",out.query={}),rest&&(out.pathname=rest),slashedProtocol[proto]&&out.hostname&&!out.pathname&&(out.pathname="/"),(out.pathname||out.search)&&(out.path=(out.pathname?out.pathname:"")+(out.search?out.search:"")),out.href=urlFormat(out),out}function urlFormat(obj){"string"==typeof obj&&(obj=urlParse(obj));var auth=obj.auth||"";if(auth){auth=auth.split("@").join("%40");for(var i=0,l=nonAuthChars.length;l>i;i++){var nAC=nonAuthChars[i];auth=auth.split(nAC).join(encodeURIComponent(nAC))}auth+="@"}var protocol=obj.protocol||"",host=void 0!==obj.host?auth+obj.host:void 0!==obj.hostname?auth+obj.hostname+(obj.port?":"+obj.port:""):!1,pathname=obj.pathname||"",query=obj.query&&("object"==typeof obj.query&&objectKeys(obj.query).length?querystring.stringify(obj.query):"")||"",search=obj.search||query&&"?"+query||"",hash=obj.hash||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),obj.slashes||(!protocol||slashedProtocol[protocol])&&host!==!1?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),protocol+host+pathname+search+hash}function urlResolve(source,relative){return urlFormat(urlResolveObject(source,relative))}function urlResolveObject(source,relative){if(!source)return relative;if(source=urlParse(urlFormat(source),!1,!0),relative=urlParse(urlFormat(relative),!1,!0),source.hash=relative.hash,""===relative.href)return source.href=urlFormat(source),source;if(relative.slashes&&!relative.protocol)return relative.protocol=source.protocol,slashedProtocol[relative.protocol]&&relative.hostname&&!relative.pathname&&(relative.path=relative.pathname="/"),relative.href=urlFormat(relative),relative;if(relative.protocol&&relative.protocol!==source.protocol){if(!slashedProtocol[relative.protocol])return relative.href=urlFormat(relative),relative;if(source.protocol=relative.protocol,!relative.host&&!hostlessProtocol[relative.protocol]){for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),relative.pathname=relPath.join("/")}return source.pathname=relative.pathname,source.search=relative.search,source.query=relative.query,source.host=relative.host||"",source.auth=relative.auth,source.hostname=relative.hostname||relative.host,source.port=relative.port,(void 0!==source.pathname||void 0!==source.search)&&(source.path=(source.pathname?source.pathname:"")+(source.search?source.search:"")),source.slashes=source.slashes||relative.slashes,source.href=urlFormat(source),source}var isSourceAbs=source.pathname&&"/"===source.pathname.charAt(0),isRelAbs=void 0!==relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||source.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=source.pathname&&source.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=source.protocol&&!slashedProtocol[source.protocol];if(psychotic&&(delete source.hostname,delete source.port,source.host&&(""===srcPath[0]?srcPath[0]=source.host:srcPath.unshift(source.host)),delete source.host,relative.protocol&&(delete relative.hostname,delete relative.port,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),delete relative.host),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)source.host=relative.host||""===relative.host?relative.host:source.host,source.hostname=relative.hostname||""===relative.hostname?relative.hostname:source.hostname,source.search=relative.search,source.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),source.search=relative.search,source.query=relative.query;else if("search"in relative){if(psychotic){source.hostname=source.host=srcPath.shift();var authInHost=source.host&&arrayIndexOf(source.host,"@")>0?source.host.split("@"):!1;authInHost&&(source.auth=authInHost.shift(),source.host=source.hostname=authInHost.shift())}return source.search=relative.search,source.query=relative.query,(void 0!==source.pathname||void 0!==source.search)&&(source.path=(source.pathname?source.pathname:"")+(source.search?source.search:"")),source.href=urlFormat(source),source}if(!srcPath.length)return delete source.pathname,source.search?delete source.path:source.path="/"+source.search,source.href=urlFormat(source),source;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(source.host||relative.host)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)last=srcPath[i],"."==last?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);if(psychotic){source.hostname=source.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=source.host&&arrayIndexOf(source.host,"@")>0?source.host.split("@"):!1;authInHost&&(source.auth=authInHost.shift(),source.host=source.hostname=authInHost.shift())}return mustEndAbs=mustEndAbs||source.host&&srcPath.length,mustEndAbs&&!isAbsolute&&srcPath.unshift(""),source.pathname=srcPath.join("/"),(void 0!==source.pathname||void 0!==source.search)&&(source.path=(source.pathname?source.pathname:"")+(source.search?source.search:"")),source.auth=relative.auth||source.auth,source.slashes=source.slashes||relative.slashes,source.href=urlFormat(source),source}function parseHost(host){var out={},port=portPattern.exec(host);return port&&(port=port[0],out.port=port.substr(1),host=host.substr(0,host.length-port.length)),host&&(out.hostname=host),out}var punycode={encode:function(s){return s}};exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat;var objectKeys=Object.keys||function(object){if(object!==Object(object))throw new TypeError("Invalid object");var keys=[];for(var key in object)object.hasOwnProperty(key)&&(keys[keys.length]=key);return keys},protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]+$/,delims=["<",">",'"',"`"," ","\r","\n","	"],unwise=["{","}","|","\\","^","~","[","]","`"].concat(delims),autoEscape=["'"],nonHostChars=["%","/","?",";","#"].concat(unwise).concat(autoEscape),nonAuthChars=["/","@","?","#"].concat(delims),hostnameMaxLen=255,hostnamePartPattern=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,hostnamePartStart=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring")},{querystring:8}],9:[function(){},{}],10:[function(require){window.RAML={},window.RAML.Parser=require("../lib/raml")},{"../lib/raml":11}],12:[function(require,module,exports){!function(){var MarkedYAMLError,events,nodes,raml,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};events=require("./events"),MarkedYAMLError=require("./errors").MarkedYAMLError,nodes=require("./nodes"),raml=require("./raml"),this.ComposerError=function(_super){function ComposerError(){return _ref=ComposerError.__super__.constructor.apply(this,arguments)}return __extends(ComposerError,_super),ComposerError}(MarkedYAMLError),this.Composer=function(){function Composer(){this.anchors={}}return Composer.prototype.check_node=function(){return this.check_event(events.StreamStartEvent)&&this.get_event(),!this.check_event(events.StreamEndEvent)},Composer.prototype.get_node=function(){return this.check_event(events.StreamEndEvent)?void 0:this.compose_document()},Composer.prototype.get_single_node=function(validate,apply,join){var document,event;if(null==validate&&(validate=!0),null==apply&&(apply=!0),null==join&&(join=!0),this.get_event(),document=null,this.check_event(events.StreamEndEvent)||(document=this.compose_document()),!this.check_event(events.StreamEndEvent))throw event=this.get_event(),new exports.ComposerError("expected a single document in the stream",document.start_mark,"but found another document",event.start_mark);return this.get_event(),validate&&this.validate_document(document),apply&&this.apply_traits(document),join&&this.join_resources(document),document},Composer.prototype.compose_document=function(){var node;return this.get_event(),node=this.compose_node(),this.get_event(),this.anchors={},node},Composer.prototype.compose_node=function(parent,index){var anchor,event,node;if(this.check_event(events.AliasEvent)){if(event=this.get_event(),anchor=event.anchor,!(anchor in this.anchors))throw new exports.ComposerError(null,null,"found undefined alias "+anchor,event.start_mark);return this.anchors[anchor]}if(event=this.peek_event(),anchor=event.anchor,null!==anchor&&anchor in this.anchors)throw new exports.ComposerError("found duplicate anchor "+anchor+"; first occurence",this.anchors[anchor].start_mark,"second occurrence",event.start_mark);return this.descend_resolver(parent,index),this.check_event(events.ScalarEvent)?node=this.compose_scalar_node(anchor):this.check_event(events.SequenceStartEvent)?node=this.compose_sequence_node(anchor):this.check_event(events.MappingStartEvent)&&(node=this.compose_mapping_node(anchor)),this.ascend_resolver(),node},Composer.prototype.compose_fixed_scalar_node=function(anchor,value){var event,node;return event=this.get_event(),node=new nodes.ScalarNode("tag:yaml.org,2002:str",value,event.start_mark,event.end_mark,event.style),null!==anchor&&(this.anchors[anchor]=node),node},Composer.prototype.compose_scalar_node=function(anchor){var event,extension,node,tag;if(event=this.get_event(),tag=event.tag,(null===tag||"!"===tag)&&(tag=this.resolve(nodes.ScalarNode,event.value,event.implicit)),"tag:raml.org,0.1:include"===event.tag){if(extension=event.value.split(".").pop(),null!=this.src&&(event.value=require("url").resolve(this.src,event.value)),"yaml"===extension||"yml"===extension||"raml"===extension)return raml.composeFile(event.value,!1,!1,!1);node=new nodes.ScalarNode("tag:yaml.org,2002:str",raml.readFile(event.value),event.start_mark,event.end_mark,event.style)}else node=new nodes.ScalarNode(tag,event.value,event.start_mark,event.end_mark,event.style);return null!==anchor&&(this.anchors[anchor]=node),node},Composer.prototype.compose_sequence_node=function(anchor){var end_event,index,node,start_event,tag;for(start_event=this.get_event(),tag=start_event.tag,(null===tag||"!"===tag)&&(tag=this.resolve(nodes.SequenceNode,null,start_event.implicit)),node=new nodes.SequenceNode(tag,[],start_event.start_mark,null,start_event.flow_style),null!==anchor&&(this.anchors[anchor]=node),index=0;!this.check_event(events.SequenceEndEvent);)node.value.push(this.compose_node(node,index)),index++;return end_event=this.get_event(),node.end_mark=end_event.end_mark,node},Composer.prototype.compose_mapping_node=function(anchor){var end_event,item_key,item_value,node,start_event,tag;for(start_event=this.get_event(),tag=start_event.tag,(null===tag||"!"===tag)&&(tag=this.resolve(nodes.MappingNode,null,start_event.implicit)),node=new nodes.MappingNode(tag,[],start_event.start_mark,null,start_event.flow_style),null!==anchor&&(this.anchors[anchor]=node);!this.check_event(events.MappingEndEvent);)item_key=this.compose_node(node),item_value=this.compose_node(node,item_key),node.value.push([item_key,item_value]);return end_event=this.get_event(),node.end_mark=end_event.end_mark,node},Composer}()}.call(this)},{"./errors":1,"./events":2,"./nodes":13,"./raml":11,url:7}],14:[function(require,module){require=function(e,t,n,r){function i(r){if(!n[r]){if(!t[r]){if(e)return e(r);throw new Error("Cannot find module '"+r+"'")}var s=n[r]={exports:{}};t[r][0](function(e){var n=t[r][1][e];return i(n?n:e)},s,s.exports)}return n[r].exports}for(var s=0;s<r.length;s++)i(r[s]);return i}("undefined"!=typeof require&&require,{1:[function(require,module,exports){exports.readIEEE754=function(buffer,offset,isBE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isBE?0:nBytes-1,d=isBE?1:-1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?0/0:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.writeIEEE754=function(buffer,value,offset,isBE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isBE?nBytes-1:0,d=isBE?-1:1,s=0>value||0===value&&0>1/value?1:0;for(value=Math.abs(value),isNaN(value)||1/0===value?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],2:[function(require,module){!function(){function objectKeys(object){if(Object.keys)return Object.keys(object);var result=[];for(var name in object)Object.prototype.hasOwnProperty.call(object,name)&&result.push(name);return result}function replacer(key,value){return void 0===value?""+value:"number"!=typeof value||!isNaN(value)&&isFinite(value)?"function"==typeof value||value instanceof RegExp?value.toString():value:value.toString()}function truncate(s,n){return"string"==typeof s?s.length<n?s:s.slice(0,n):s}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected){if(actual===expected)return!0;if(Buffer.isBuffer(actual)&&Buffer.isBuffer(expected)){if(actual.length!=expected.length)return!1;for(var i=0;i<actual.length;i++)if(actual[i]!==expected[i])return!1;return!0}return actual instanceof Date&&expected instanceof Date?actual.getTime()===expected.getTime():"object"!=typeof actual&&"object"!=typeof expected?actual==expected:objEquiv(actual,expected)}function isUndefinedOrNull(value){return null===value||void 0===value}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function objEquiv(a,b){if(isUndefinedOrNull(a)||isUndefinedOrNull(b))return!1;if(a.prototype!==b.prototype)return!1;if(isArguments(a))return isArguments(b)?(a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b)):!1;try{var key,i,ka=objectKeys(a),kb=objectKeys(b)}catch(e){return!1}if(ka.length!=kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key]))return!1;return!0}function expectedException(actual,expected){return actual&&expected?expected instanceof RegExp?expected.test(actual):actual instanceof expected?!0:expected.call({},actual)===!0?!0:!1:!1}function _throws(shouldThrow,block,expected,message){var actual;"string"==typeof expected&&(message=expected,expected=null);try{block()}catch(e){actual=e}if(message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail("Missing expected exception"+message),!shouldThrow&&expectedException(actual,expected)&&fail("Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}var util=require("util"),Buffer=require("buffer").Buffer,pSlice=Array.prototype.slice,assert=module.exports=ok;assert.AssertionError=function(options){this.name="AssertionError",this.message=options.message,this.actual=options.actual,this.expected=options.expected,this.operator=options.operator;var stackStartFunction=options.stackStartFunction||fail;Error.captureStackTrace&&Error.captureStackTrace(this,stackStartFunction)},util.inherits(assert.AssertionError,Error),assert.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",truncate(JSON.stringify(this.actual,replacer),128),this.operator,truncate(JSON.stringify(this.expected,replacer),128)].join(" ")},assert.AssertionError.__proto__=Error.prototype,assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(err){if(err)throw err}}()},{util:3,buffer:4}],"buffer-browserify":[function(require,module){module.exports=require("q9TxCC")},{}],q9TxCC:[function(require,module,exports){!function(){function SlowBuffer(size){this.length=size}function toHex(n){return 16>n?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)if(str.charCodeAt(i)<=127)byteArray.push(str.charCodeAt(i));else for(var h=encodeURIComponent(str.charAt(i)).substr(1).split("%"),j=0;j<h.length;j++)byteArray.push(parseInt(h[j],16));return byteArray}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return byteArray}function base64ToBytes(str){return require("base64-js").toByteArray(str)}function blitBuffer(src,dst,offset,length){for(var i=0;length>i&&!(i+offset>=dst.length||i>=src.length);)dst[i+offset]=src[i],i++;return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}function coerce(length){return length=~~Math.ceil(+length),0>length?0:length}function Buffer(subject,encoding,offset){if(!(this instanceof Buffer))return new Buffer(subject,encoding,offset);var type;if("number"==typeof offset)this.length=coerce(encoding),this.parent=subject,this.offset=offset;else{switch(type=typeof subject){case"number":this.length=coerce(subject);break;case"string":this.length=Buffer.byteLength(subject,encoding);break;case"object":this.length=coerce(subject.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(this.length>Buffer.poolSize?(this.parent=new SlowBuffer(this.length),this.offset=0):((!pool||pool.length-pool.used<this.length)&&allocPool(),this.parent=pool,this.offset=pool.used,pool.used+=this.length),isArrayIsh(subject))for(var i=0;i<this.length;i++)this.parent[i+this.offset]=subject instanceof Buffer?subject.readUInt8(i):subject[i];else"string"==type&&(this.length=this.write(subject,0,encoding))}}function isArrayIsh(subject){return Array.isArray(subject)||Buffer.isBuffer(subject)||subject&&"object"==typeof subject&&"number"==typeof subject.length}function allocPool(){pool=new SlowBuffer(Buffer.poolSize),pool.used=0}function readUInt16(buffer,offset,isBigEndian,noAssert){var val=0;return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+1<buffer.length,"Trying to read beyond buffer length")),offset>=buffer.length?0:(isBigEndian?(val=buffer.parent[buffer.offset+offset]<<8,offset+1<buffer.length&&(val|=buffer.parent[buffer.offset+offset+1])):(val=buffer.parent[buffer.offset+offset],offset+1<buffer.length&&(val|=buffer.parent[buffer.offset+offset+1]<<8)),val)}function readUInt32(buffer,offset,isBigEndian,noAssert){var val=0;return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"Trying to read beyond buffer length")),offset>=buffer.length?0:(isBigEndian?(offset+1<buffer.length&&(val=buffer.parent[buffer.offset+offset+1]<<16),offset+2<buffer.length&&(val|=buffer.parent[buffer.offset+offset+2]<<8),offset+3<buffer.length&&(val|=buffer.parent[buffer.offset+offset+3]),val+=buffer.parent[buffer.offset+offset]<<24>>>0):(offset+2<buffer.length&&(val=buffer.parent[buffer.offset+offset+2]<<16),offset+1<buffer.length&&(val|=buffer.parent[buffer.offset+offset+1]<<8),val|=buffer.parent[buffer.offset+offset],offset+3<buffer.length&&(val+=buffer.parent[buffer.offset+offset+3]<<24>>>0)),val)}function readInt16(buffer,offset,isBigEndian,noAssert){var neg,val;return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+1<buffer.length,"Trying to read beyond buffer length")),val=readUInt16(buffer,offset,isBigEndian,noAssert),neg=32768&val,neg?-1*(65535-val+1):val}function readInt32(buffer,offset,isBigEndian,noAssert){var neg,val;return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"Trying to read beyond buffer length")),val=readUInt32(buffer,offset,isBigEndian,noAssert),neg=2147483648&val,neg?-1*(4294967295-val+1):val}function readFloat(buffer,offset,isBigEndian,noAssert){return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(offset+3<buffer.length,"Trying to read beyond buffer length")),require("./buffer_ieee754").readIEEE754(buffer,offset,isBigEndian,23,4)}function readDouble(buffer,offset,isBigEndian,noAssert){return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(offset+7<buffer.length,"Trying to read beyond buffer length")),require("./buffer_ieee754").readIEEE754(buffer,offset,isBigEndian,52,8)}function verifuint(value,max){assert.ok("number"==typeof value,"cannot write a non-number as a number"),assert.ok(value>=0,"specified a negative value for writing an unsigned value"),assert.ok(max>=value,"value is larger than maximum value for type"),assert.ok(Math.floor(value)===value,"value has a fractional component")}function writeUInt16(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+1<buffer.length,"trying to write beyond buffer length"),verifuint(value,65535));for(var i=0;i<Math.min(buffer.length-offset,2);i++)buffer.parent[buffer.offset+offset+i]=(value&255<<8*(isBigEndian?1-i:i))>>>8*(isBigEndian?1-i:i)}function writeUInt32(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"trying to write beyond buffer length"),verifuint(value,4294967295));for(var i=0;i<Math.min(buffer.length-offset,4);i++)buffer.parent[buffer.offset+offset+i]=255&value>>>8*(isBigEndian?3-i:i)}function verifsint(value,max,min){assert.ok("number"==typeof value,"cannot write a non-number as a number"),assert.ok(max>=value,"value larger than maximum allowed value"),assert.ok(value>=min,"value smaller than minimum allowed value"),assert.ok(Math.floor(value)===value,"value has a fractional component")}function verifIEEE754(value,max,min){assert.ok("number"==typeof value,"cannot write a non-number as a number"),assert.ok(max>=value,"value larger than maximum allowed value"),assert.ok(value>=min,"value smaller than minimum allowed value")}function writeInt16(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+1<buffer.length,"Trying to write beyond buffer length"),verifsint(value,32767,-32768)),value>=0?writeUInt16(buffer,value,offset,isBigEndian,noAssert):writeUInt16(buffer,65535+value+1,offset,isBigEndian,noAssert)}function writeInt32(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"Trying to write beyond buffer length"),verifsint(value,2147483647,-2147483648)),value>=0?writeUInt32(buffer,value,offset,isBigEndian,noAssert):writeUInt32(buffer,4294967295+value+1,offset,isBigEndian,noAssert)
}function writeFloat(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"Trying to write beyond buffer length"),verifIEEE754(value,3.4028234663852886e38,-3.4028234663852886e38)),require("./buffer_ieee754").writeIEEE754(buffer,value,offset,isBigEndian,23,4)}function writeDouble(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+7<buffer.length,"Trying to write beyond buffer length"),verifIEEE754(value,1.7976931348623157e308,-1.7976931348623157e308)),require("./buffer_ieee754").writeIEEE754(buffer,value,offset,isBigEndian,52,8)}var assert=require("assert");exports.INSPECT_MAX_BYTES=50,SlowBuffer.byteLength=function(str,encoding){switch(encoding||"utf8"){case"hex":return str.length/2;case"utf8":case"utf-8":return utf8ToBytes(str).length;case"ascii":case"binary":return str.length;case"base64":return base64ToBytes(str).length;default:throw new Error("Unknown encoding")}},SlowBuffer.prototype.utf8Write=function(string,offset,length){return SlowBuffer._charsWritten=blitBuffer(utf8ToBytes(string),this,offset,length)},SlowBuffer.prototype.asciiWrite=function(string,offset,length){return SlowBuffer._charsWritten=blitBuffer(asciiToBytes(string),this,offset,length)},SlowBuffer.prototype.binaryWrite=SlowBuffer.prototype.asciiWrite,SlowBuffer.prototype.base64Write=function(string,offset,length){return SlowBuffer._charsWritten=blitBuffer(base64ToBytes(string),this,offset,length)},SlowBuffer.prototype.base64Slice=function(){var bytes=Array.prototype.slice.apply(this,arguments);return require("base64-js").fromByteArray(bytes)},SlowBuffer.prototype.utf8Slice=function(){for(var bytes=Array.prototype.slice.apply(this,arguments),res="",tmp="",i=0;i<bytes.length;)bytes[i]<=127?(res+=decodeUtf8Char(tmp)+String.fromCharCode(bytes[i]),tmp=""):tmp+="%"+bytes[i].toString(16),i++;return res+decodeUtf8Char(tmp)},SlowBuffer.prototype.asciiSlice=function(){for(var bytes=Array.prototype.slice.apply(this,arguments),ret="",i=0;i<bytes.length;i++)ret+=String.fromCharCode(bytes[i]);return ret},SlowBuffer.prototype.binarySlice=SlowBuffer.prototype.asciiSlice,SlowBuffer.prototype.inspect=function(){for(var out=[],len=this.length,i=0;len>i;i++)if(out[i]=toHex(this[i]),i==exports.INSPECT_MAX_BYTES){out[i+1]="...";break}return"<SlowBuffer "+out.join(" ")+">"},SlowBuffer.prototype.hexSlice=function(start,end){var len=this.length;(!start||0>start)&&(start=0),(!end||0>end||end>len)&&(end=len);for(var out="",i=start;end>i;i++)out+=toHex(this[i]);return out},SlowBuffer.prototype.toString=function(encoding,start,end){if(encoding=String(encoding||"utf8").toLowerCase(),start=+start||0,"undefined"==typeof end&&(end=this.length),+end==start)return"";switch(encoding){case"hex":return this.hexSlice(start,end);case"utf8":case"utf-8":return this.utf8Slice(start,end);case"ascii":return this.asciiSlice(start,end);case"binary":return this.binarySlice(start,end);case"base64":return this.base64Slice(start,end);case"ucs2":case"ucs-2":return this.ucs2Slice(start,end);default:throw new Error("Unknown encoding")}},SlowBuffer.prototype.hexWrite=function(string,offset,length){offset=+offset||0;var remaining=this.length-offset;length?(length=+length,length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2)throw new Error("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;length>i;i++){var byte=parseInt(string.substr(2*i,2),16);if(isNaN(byte))throw new Error("Invalid hex string");this[offset+i]=byte}return SlowBuffer._charsWritten=2*i,i},SlowBuffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}offset=+offset||0;var remaining=this.length-offset;switch(length?(length=+length,length>remaining&&(length=remaining)):length=remaining,encoding=String(encoding||"utf8").toLowerCase()){case"hex":return this.hexWrite(string,offset,length);case"utf8":case"utf-8":return this.utf8Write(string,offset,length);case"ascii":return this.asciiWrite(string,offset,length);case"binary":return this.binaryWrite(string,offset,length);case"base64":return this.base64Write(string,offset,length);case"ucs2":case"ucs-2":return this.ucs2Write(string,offset,length);default:throw new Error("Unknown encoding")}},SlowBuffer.prototype.slice=function(start,end){if(void 0===end&&(end=this.length),end>this.length)throw new Error("oob");if(start>end)throw new Error("oob");return new Buffer(this,end-start,+start)},SlowBuffer.prototype.copy=function(target,targetstart,sourcestart,sourceend){for(var temp=[],i=sourcestart;sourceend>i;i++)assert.ok("undefined"!=typeof this[i],"copying undefined buffer bytes!"),temp.push(this[i]);for(var i=targetstart;i<targetstart+temp.length;i++)target[i]=temp[i-targetstart]},SlowBuffer.prototype.fill=function(value,start,end){if(end>this.length)throw new Error("oob");if(start>end)throw new Error("oob");for(var i=start;end>i;i++)this[i]=value},exports.SlowBuffer=SlowBuffer,exports.Buffer=Buffer,Buffer.poolSize=8192;var pool;Buffer.isBuffer=function(b){return b instanceof Buffer||b instanceof SlowBuffer},Buffer.concat=function(list,totalLength){if(!Array.isArray(list))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===list.length)return new Buffer(0);if(1===list.length)return list[0];if("number"!=typeof totalLength){totalLength=0;for(var i=0;i<list.length;i++){var buf=list[i];totalLength+=buf.length}}for(var buffer=new Buffer(totalLength),pos=0,i=0;i<list.length;i++){var buf=list[i];buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.prototype.inspect=function(){for(var out=[],len=this.length,i=0;len>i;i++)if(out[i]=toHex(this.parent[i+this.offset]),i==exports.INSPECT_MAX_BYTES){out[i+1]="...";break}return"<Buffer "+out.join(" ")+">"},Buffer.prototype.get=function(i){if(0>i||i>=this.length)throw new Error("oob");return this.parent[this.offset+i]},Buffer.prototype.set=function(i,v){if(0>i||i>=this.length)throw new Error("oob");return this.parent[this.offset+i]=v},Buffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}offset=+offset||0;var remaining=this.length-offset;length?(length=+length,length>remaining&&(length=remaining)):length=remaining,encoding=String(encoding||"utf8").toLowerCase();var ret;switch(encoding){case"hex":ret=this.parent.hexWrite(string,this.offset+offset,length);break;case"utf8":case"utf-8":ret=this.parent.utf8Write(string,this.offset+offset,length);break;case"ascii":ret=this.parent.asciiWrite(string,this.offset+offset,length);break;case"binary":ret=this.parent.binaryWrite(string,this.offset+offset,length);break;case"base64":ret=this.parent.base64Write(string,this.offset+offset,length);break;case"ucs2":case"ucs-2":ret=this.parent.ucs2Write(string,this.offset+offset,length);break;default:throw new Error("Unknown encoding")}return Buffer._charsWritten=SlowBuffer._charsWritten,ret},Buffer.prototype.toString=function(encoding,start,end){switch(encoding=String(encoding||"utf8").toLowerCase(),"undefined"==typeof start||0>start?start=0:start>this.length&&(start=this.length),"undefined"==typeof end||end>this.length?end=this.length:0>end&&(end=0),start+=this.offset,end+=this.offset,encoding){case"hex":return this.parent.hexSlice(start,end);case"utf8":case"utf-8":return this.parent.utf8Slice(start,end);case"ascii":return this.parent.asciiSlice(start,end);case"binary":return this.parent.binarySlice(start,end);case"base64":return this.parent.base64Slice(start,end);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(start,end);default:throw new Error("Unknown encoding")}},Buffer.byteLength=SlowBuffer.byteLength,Buffer.prototype.fill=function(value,start,end){if(value||(value=0),start||(start=0),end||(end=this.length),"string"==typeof value&&(value=value.charCodeAt(0)),"number"!=typeof value||isNaN(value))throw new Error("value is not a number");if(start>end)throw new Error("end < start");if(end===start)return 0;if(0==this.length)return 0;if(0>start||start>=this.length)throw new Error("start out of bounds");if(0>end||end>this.length)throw new Error("end out of bounds");return this.parent.fill(value,start+this.offset,end+this.offset)},Buffer.prototype.copy=function(target,target_start,start,end){var source=this;if(start||(start=0),end||(end=this.length),target_start||(target_start=0),start>end)throw new Error("sourceEnd < sourceStart");if(end===start)return 0;if(0==target.length||0==source.length)return 0;if(0>target_start||target_start>=target.length)throw new Error("targetStart out of bounds");if(0>start||start>=source.length)throw new Error("sourceStart out of bounds");if(0>end||end>source.length)throw new Error("sourceEnd out of bounds");return end>this.length&&(end=this.length),target.length-target_start<end-start&&(end=target.length-target_start+start),this.parent.copy(target.parent,target_start+target.offset,start+this.offset,end+this.offset)},Buffer.prototype.slice=function(start,end){if(void 0===end&&(end=this.length),end>this.length)throw new Error("oob");if(start>end)throw new Error("oob");return new Buffer(this.parent,end-start,+start+this.offset)},Buffer.prototype.utf8Slice=function(start,end){return this.toString("utf8",start,end)},Buffer.prototype.binarySlice=function(start,end){return this.toString("binary",start,end)},Buffer.prototype.asciiSlice=function(start,end){return this.toString("ascii",start,end)},Buffer.prototype.utf8Write=function(string,offset){return this.write(string,offset,"utf8")},Buffer.prototype.binaryWrite=function(string,offset){return this.write(string,offset,"binary")},Buffer.prototype.asciiWrite=function(string,offset){return this.write(string,offset,"ascii")},Buffer.prototype.readUInt8=function(offset,noAssert){var buffer=this;return noAssert||(assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset<buffer.length,"Trying to read beyond buffer length")),offset>=buffer.length?void 0:buffer.parent[buffer.offset+offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return readUInt16(this,offset,!1,noAssert)},Buffer.prototype.readUInt16BE=function(offset,noAssert){return readUInt16(this,offset,!0,noAssert)},Buffer.prototype.readUInt32LE=function(offset,noAssert){return readUInt32(this,offset,!1,noAssert)},Buffer.prototype.readUInt32BE=function(offset,noAssert){return readUInt32(this,offset,!0,noAssert)},Buffer.prototype.readInt8=function(offset,noAssert){var neg,buffer=this;return noAssert||(assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset<buffer.length,"Trying to read beyond buffer length")),offset>=buffer.length?void 0:(neg=128&buffer.parent[buffer.offset+offset],neg?-1*(255-buffer.parent[buffer.offset+offset]+1):buffer.parent[buffer.offset+offset])},Buffer.prototype.readInt16LE=function(offset,noAssert){return readInt16(this,offset,!1,noAssert)},Buffer.prototype.readInt16BE=function(offset,noAssert){return readInt16(this,offset,!0,noAssert)},Buffer.prototype.readInt32LE=function(offset,noAssert){return readInt32(this,offset,!1,noAssert)},Buffer.prototype.readInt32BE=function(offset,noAssert){return readInt32(this,offset,!0,noAssert)},Buffer.prototype.readFloatLE=function(offset,noAssert){return readFloat(this,offset,!1,noAssert)},Buffer.prototype.readFloatBE=function(offset,noAssert){return readFloat(this,offset,!0,noAssert)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return readDouble(this,offset,!1,noAssert)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return readDouble(this,offset,!0,noAssert)},Buffer.prototype.writeUInt8=function(value,offset,noAssert){var buffer=this;noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset<buffer.length,"trying to write beyond buffer length"),verifuint(value,255)),offset<buffer.length&&(buffer.parent[buffer.offset+offset]=value)},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){writeUInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){writeUInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){writeUInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){writeUInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt8=function(value,offset,noAssert){var buffer=this;noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset<buffer.length,"Trying to write beyond buffer length"),verifsint(value,127,-128)),value>=0?buffer.writeUInt8(value,offset,noAssert):buffer.writeUInt8(255+value+1,offset,noAssert)},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){writeInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){writeInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){writeInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){writeInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){writeDouble(this,value,offset,!0,noAssert)},SlowBuffer.prototype.readUInt8=Buffer.prototype.readUInt8,SlowBuffer.prototype.readUInt16LE=Buffer.prototype.readUInt16LE,SlowBuffer.prototype.readUInt16BE=Buffer.prototype.readUInt16BE,SlowBuffer.prototype.readUInt32LE=Buffer.prototype.readUInt32LE,SlowBuffer.prototype.readUInt32BE=Buffer.prototype.readUInt32BE,SlowBuffer.prototype.readInt8=Buffer.prototype.readInt8,SlowBuffer.prototype.readInt16LE=Buffer.prototype.readInt16LE,SlowBuffer.prototype.readInt16BE=Buffer.prototype.readInt16BE,SlowBuffer.prototype.readInt32LE=Buffer.prototype.readInt32LE,SlowBuffer.prototype.readInt32BE=Buffer.prototype.readInt32BE,SlowBuffer.prototype.readFloatLE=Buffer.prototype.readFloatLE,SlowBuffer.prototype.readFloatBE=Buffer.prototype.readFloatBE,SlowBuffer.prototype.readDoubleLE=Buffer.prototype.readDoubleLE,SlowBuffer.prototype.readDoubleBE=Buffer.prototype.readDoubleBE,SlowBuffer.prototype.writeUInt8=Buffer.prototype.writeUInt8,SlowBuffer.prototype.writeUInt16LE=Buffer.prototype.writeUInt16LE,SlowBuffer.prototype.writeUInt16BE=Buffer.prototype.writeUInt16BE,SlowBuffer.prototype.writeUInt32LE=Buffer.prototype.writeUInt32LE,SlowBuffer.prototype.writeUInt32BE=Buffer.prototype.writeUInt32BE,SlowBuffer.prototype.writeInt8=Buffer.prototype.writeInt8,SlowBuffer.prototype.writeInt16LE=Buffer.prototype.writeInt16LE,SlowBuffer.prototype.writeInt16BE=Buffer.prototype.writeInt16BE,SlowBuffer.prototype.writeInt32LE=Buffer.prototype.writeInt32LE,SlowBuffer.prototype.writeInt32BE=Buffer.prototype.writeInt32BE,SlowBuffer.prototype.writeFloatLE=Buffer.prototype.writeFloatLE,SlowBuffer.prototype.writeFloatBE=Buffer.prototype.writeFloatBE,SlowBuffer.prototype.writeDoubleLE=Buffer.prototype.writeDoubleLE,SlowBuffer.prototype.writeDoubleBE=Buffer.prototype.writeDoubleBE}()},{assert:2,"./buffer_ieee754":1,"base64-js":5}],3:[function(require,module,exports){function isArray(ar){return ar instanceof Array||Array.isArray(ar)||ar&&ar!==Object.prototype&&isArray(ar.__proto__)}function isRegExp(re){return re instanceof RegExp||"object"==typeof re&&"[object RegExp]"===Object.prototype.toString.call(re)}function isDate(d){if(d instanceof Date)return!0;if("object"!=typeof d)return!1;var properties=Date.prototype&&Object_getOwnPropertyNames(Date.prototype),proto=d.__proto__&&Object_getOwnPropertyNames(d.__proto__);return JSON.stringify(proto)===JSON.stringify(properties)}require("events"),exports.isArray=isArray,exports.isDate=function(obj){return"[object Date]"===Object.prototype.toString.call(obj)},exports.isRegExp=function(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},exports.print=function(){},exports.puts=function(){},exports.debug=function(){},exports.inspect=function(obj,showHidden,depth,colors){function format(value,recurseTimes){if(value&&"function"==typeof value.inspect&&value!==exports&&(!value.constructor||value.constructor.prototype!==value))return value.inspect(recurseTimes);switch(typeof value){case"undefined":return stylize("undefined","undefined");case"string":var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return stylize(simple,"string");case"number":return stylize(""+value,"number");case"boolean":return stylize(""+value,"boolean")}if(null===value)return stylize("null","null");var visible_keys=Object_keys(value),keys=showHidden?Object_getOwnPropertyNames(value):visible_keys;if("function"==typeof value&&0===keys.length){if(isRegExp(value))return stylize(""+value,"regexp");var name=value.name?": "+value.name:"";return stylize("[Function"+name+"]","special")}if(isDate(value)&&0===keys.length)return stylize(value.toUTCString(),"date");var base,type,braces;if(isArray(value)?(type="Array",braces=["[","]"]):(type="Object",braces=["{","}"]),"function"==typeof value){var n=value.name?": "+value.name:"";base=isRegExp(value)?" "+value:" [Function"+n+"]"}else base="";if(isDate(value)&&(base=" "+value.toUTCString()),0===keys.length)return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?stylize(""+value,"regexp"):stylize("[Object]","special");seen.push(value);var output=keys.map(function(key){var name,str;if(value.__lookupGetter__&&(value.__lookupGetter__(key)?str=value.__lookupSetter__(key)?stylize("[Getter/Setter]","special"):stylize("[Getter]","special"):value.__lookupSetter__(key)&&(str=stylize("[Setter]","special"))),visible_keys.indexOf(key)<0&&(name="["+key+"]"),str||(seen.indexOf(value[key])<0?(str=null===recurseTimes?format(value[key]):format(value[key],recurseTimes-1),str.indexOf("\n")>-1&&(str=isArray(value)?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=stylize("[Circular]","special")),"undefined"==typeof name){if("Array"===type&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=stylize(name,"string"))}return name+": "+str});seen.pop();var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.length+1},0);return output=length>50?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}var seen=[],stylize=function(str,styleType){var styles={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},style={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[styleType];return style?"["+styles[style][0]+"m"+str+"["+styles[style][1]+"m":str};return colors||(stylize=function(str){return str}),format(obj,"undefined"==typeof depth?2:depth)},exports.log=function(){},exports.pump=null;var Object_keys=Object.keys||function(obj){var res=[];for(var key in obj)res.push(key);return res},Object_getOwnPropertyNames=Object.getOwnPropertyNames||function(obj){var res=[];for(var key in obj)Object.hasOwnProperty.call(obj,key)&&res.push(key);return res},Object_create=Object.create||function(prototype,properties){var object;if(null===prototype)object={__proto__:null};else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != 'object'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return"undefined"!=typeof properties&&Object.defineProperties&&Object.defineProperties(object,properties),object};exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object_create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})};var formatRegExp=/%[sdj%]/g;exports.format=function(f){if("string"!=typeof f){for(var objects=[],i=0;i<arguments.length;i++)objects.push(exports.inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":return JSON.stringify(args[i++]);default:return x}}),x=args[i];len>i;x=args[++i])str+=null===x||"object"!=typeof x?" "+x:" "+exports.inspect(x);return str}},{events:6}],5:[function(require,module){!function(){"use strict";function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(placeHolders=b64.indexOf("="),placeHolders=placeHolders>0?b64.length-placeHolders:0,arr=[],l=placeHolders>0?b64.length-4:b64.length,i=0,j=0;l>i;i+=4,j+=3)tmp=lookup.indexOf(b64[i])<<18|lookup.indexOf(b64[i+1])<<12|lookup.indexOf(b64[i+2])<<6|lookup.indexOf(b64[i+3]),arr.push((16711680&tmp)>>16),arr.push((65280&tmp)>>8),arr.push(255&tmp);return 2===placeHolders?(tmp=lookup.indexOf(b64[i])<<2|lookup.indexOf(b64[i+1])>>4,arr.push(255&tmp)):1===placeHolders&&(tmp=lookup.indexOf(b64[i])<<10|lookup.indexOf(b64[i+1])<<4|lookup.indexOf(b64[i+2])>>2,arr.push(255&tmp>>8),arr.push(255&tmp)),arr}function uint8ToBase64(uint8){function tripletToBase64(num){return lookup[63&num>>18]+lookup[63&num>>12]+lookup[63&num>>6]+lookup[63&num]}var i,temp,length,extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;length>i;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=lookup[temp>>2],output+=lookup[63&temp<<4],output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=lookup[temp>>10],output+=lookup[63&temp>>4],output+=lookup[63&temp<<2],output+="="}return output}var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";module.exports.toByteArray=b64ToByteArray,module.exports.fromByteArray=uint8ToBase64}()},{}],7:[function(require,module,exports){exports.readIEEE754=function(buffer,offset,isBE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isBE?0:nBytes-1,d=isBE?1:-1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?0/0:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.writeIEEE754=function(buffer,value,offset,isBE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isBE?nBytes-1:0,d=isBE?-1:1,s=0>value||0===value&&0>1/value?1:0;for(value=Math.abs(value),isNaN(value)||1/0===value?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],8:[function(require,module){var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){if(ev.source===window&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")}},{}],6:[function(require,module,exports){!function(process){function indexOf(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0;i<xs.length;i++)if(x===xs[i])return i;return-1}process.EventEmitter||(process.EventEmitter=function(){});var EventEmitter=exports.EventEmitter=process.EventEmitter,isArray="function"==typeof Array.isArray?Array.isArray:function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){this._events||(this._events={}),this._events.maxListeners=n},EventEmitter.prototype.emit=function(type){if("error"===type&&(!this._events||!this._events.error||isArray(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var handler=this._events[type];if(!handler)return!1;if("function"==typeof handler){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:var args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}return!0}if(isArray(handler)){for(var args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),i=0,l=listeners.length;l>i;i++)listeners[i].apply(this,args);return!0}return!1},EventEmitter.prototype.addListener=function(type,listener){if("function"!=typeof listener)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",type,listener),this._events[type])if(isArray(this._events[type])){if(!this._events[type].warned){var m;m=void 0!==this._events.maxListeners?this._events.maxListeners:defaultMaxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace())}this._events[type].push(listener)}else this._events[type]=[this._events[type],listener];else this._events[type]=listener;return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){var self=this;return self.on(type,function g(){self.removeListener(type,g),listener.apply(this,arguments)}),this},EventEmitter.prototype.removeListener=function(type,listener){if("function"!=typeof listener)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[type])return this;var list=this._events[type];if(isArray(list)){var i=indexOf(list,listener);if(0>i)return this;list.splice(i,1),0==list.length&&delete this._events[type]}else this._events[type]===listener&&delete this._events[type];return this},EventEmitter.prototype.removeAllListeners=function(type){return 0===arguments.length?(this._events={},this):(type&&this._events&&this._events[type]&&(this._events[type]=null),this)},EventEmitter.prototype.listeners=function(type){return this._events||(this._events={}),this._events[type]||(this._events[type]=[]),isArray(this._events[type])||(this._events[type]=[this._events[type]]),this._events[type]}}(require("__browserify_process"))},{__browserify_process:8}],4:[function(require,module,exports){!function(){function SlowBuffer(size){this.length=size}function toHex(n){return 16>n?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)if(str.charCodeAt(i)<=127)byteArray.push(str.charCodeAt(i));else for(var h=encodeURIComponent(str.charAt(i)).substr(1).split("%"),j=0;j<h.length;j++)byteArray.push(parseInt(h[j],16));return byteArray}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return byteArray}function base64ToBytes(str){return require("base64-js").toByteArray(str)}function blitBuffer(src,dst,offset,length){for(var i=0;length>i&&!(i+offset>=dst.length||i>=src.length);)dst[i+offset]=src[i],i++;return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}function coerce(length){return length=~~Math.ceil(+length),0>length?0:length}function Buffer(subject,encoding,offset){if(!(this instanceof Buffer))return new Buffer(subject,encoding,offset);var type;if("number"==typeof offset)this.length=coerce(encoding),this.parent=subject,this.offset=offset;else{switch(type=typeof subject){case"number":this.length=coerce(subject);break;case"string":this.length=Buffer.byteLength(subject,encoding);break;case"object":this.length=coerce(subject.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(this.length>Buffer.poolSize?(this.parent=new SlowBuffer(this.length),this.offset=0):((!pool||pool.length-pool.used<this.length)&&allocPool(),this.parent=pool,this.offset=pool.used,pool.used+=this.length),isArrayIsh(subject))for(var i=0;i<this.length;i++)this.parent[i+this.offset]=subject[i];else"string"==type&&(this.length=this.write(subject,0,encoding))}}function isArrayIsh(subject){return Array.isArray(subject)||Buffer.isBuffer(subject)||subject&&"object"==typeof subject&&"number"==typeof subject.length}function allocPool(){pool=new SlowBuffer(Buffer.poolSize),pool.used=0}function readUInt16(buffer,offset,isBigEndian,noAssert){var val=0;return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+1<buffer.length,"Trying to read beyond buffer length")),isBigEndian?(val=buffer.parent[buffer.offset+offset]<<8,val|=buffer.parent[buffer.offset+offset+1]):(val=buffer.parent[buffer.offset+offset],val|=buffer.parent[buffer.offset+offset+1]<<8),val}function readUInt32(buffer,offset,isBigEndian,noAssert){var val=0;return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"Trying to read beyond buffer length")),isBigEndian?(val=buffer.parent[buffer.offset+offset+1]<<16,val|=buffer.parent[buffer.offset+offset+2]<<8,val|=buffer.parent[buffer.offset+offset+3],val+=buffer.parent[buffer.offset+offset]<<24>>>0):(val=buffer.parent[buffer.offset+offset+2]<<16,val|=buffer.parent[buffer.offset+offset+1]<<8,val|=buffer.parent[buffer.offset+offset],val+=buffer.parent[buffer.offset+offset+3]<<24>>>0),val}function readInt16(buffer,offset,isBigEndian,noAssert){var neg,val;return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+1<buffer.length,"Trying to read beyond buffer length")),val=readUInt16(buffer,offset,isBigEndian,noAssert),neg=32768&val,neg?-1*(65535-val+1):val
}function readInt32(buffer,offset,isBigEndian,noAssert){var neg,val;return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"Trying to read beyond buffer length")),val=readUInt32(buffer,offset,isBigEndian,noAssert),neg=2147483648&val,neg?-1*(4294967295-val+1):val}function readFloat(buffer,offset,isBigEndian,noAssert){return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(offset+3<buffer.length,"Trying to read beyond buffer length")),require("./buffer_ieee754").readIEEE754(buffer,offset,isBigEndian,23,4)}function readDouble(buffer,offset,isBigEndian,noAssert){return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(offset+7<buffer.length,"Trying to read beyond buffer length")),require("./buffer_ieee754").readIEEE754(buffer,offset,isBigEndian,52,8)}function verifuint(value,max){assert.ok("number"==typeof value,"cannot write a non-number as a number"),assert.ok(value>=0,"specified a negative value for writing an unsigned value"),assert.ok(max>=value,"value is larger than maximum value for type"),assert.ok(Math.floor(value)===value,"value has a fractional component")}function writeUInt16(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+1<buffer.length,"trying to write beyond buffer length"),verifuint(value,65535)),isBigEndian?(buffer.parent[buffer.offset+offset]=(65280&value)>>>8,buffer.parent[buffer.offset+offset+1]=255&value):(buffer.parent[buffer.offset+offset+1]=(65280&value)>>>8,buffer.parent[buffer.offset+offset]=255&value)}function writeUInt32(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"trying to write beyond buffer length"),verifuint(value,4294967295)),isBigEndian?(buffer.parent[buffer.offset+offset]=255&value>>>24,buffer.parent[buffer.offset+offset+1]=255&value>>>16,buffer.parent[buffer.offset+offset+2]=255&value>>>8,buffer.parent[buffer.offset+offset+3]=255&value):(buffer.parent[buffer.offset+offset+3]=255&value>>>24,buffer.parent[buffer.offset+offset+2]=255&value>>>16,buffer.parent[buffer.offset+offset+1]=255&value>>>8,buffer.parent[buffer.offset+offset]=255&value)}function verifsint(value,max,min){assert.ok("number"==typeof value,"cannot write a non-number as a number"),assert.ok(max>=value,"value larger than maximum allowed value"),assert.ok(value>=min,"value smaller than minimum allowed value"),assert.ok(Math.floor(value)===value,"value has a fractional component")}function verifIEEE754(value,max,min){assert.ok("number"==typeof value,"cannot write a non-number as a number"),assert.ok(max>=value,"value larger than maximum allowed value"),assert.ok(value>=min,"value smaller than minimum allowed value")}function writeInt16(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+1<buffer.length,"Trying to write beyond buffer length"),verifsint(value,32767,-32768)),value>=0?writeUInt16(buffer,value,offset,isBigEndian,noAssert):writeUInt16(buffer,65535+value+1,offset,isBigEndian,noAssert)}function writeInt32(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"Trying to write beyond buffer length"),verifsint(value,2147483647,-2147483648)),value>=0?writeUInt32(buffer,value,offset,isBigEndian,noAssert):writeUInt32(buffer,4294967295+value+1,offset,isBigEndian,noAssert)}function writeFloat(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"Trying to write beyond buffer length"),verifIEEE754(value,3.4028234663852886e38,-3.4028234663852886e38)),require("./buffer_ieee754").writeIEEE754(buffer,value,offset,isBigEndian,23,4)}function writeDouble(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+7<buffer.length,"Trying to write beyond buffer length"),verifIEEE754(value,1.7976931348623157e308,-1.7976931348623157e308)),require("./buffer_ieee754").writeIEEE754(buffer,value,offset,isBigEndian,52,8)}var assert=require("assert");exports.INSPECT_MAX_BYTES=50,SlowBuffer.byteLength=function(str,encoding){switch(encoding||"utf8"){case"hex":return str.length/2;case"utf8":case"utf-8":return utf8ToBytes(str).length;case"ascii":return str.length;case"base64":return base64ToBytes(str).length;default:throw new Error("Unknown encoding")}},SlowBuffer.prototype.utf8Write=function(string,offset,length){return SlowBuffer._charsWritten=blitBuffer(utf8ToBytes(string),this,offset,length)},SlowBuffer.prototype.asciiWrite=function(string,offset,length){return SlowBuffer._charsWritten=blitBuffer(asciiToBytes(string),this,offset,length)},SlowBuffer.prototype.base64Write=function(string,offset,length){return SlowBuffer._charsWritten=blitBuffer(base64ToBytes(string),this,offset,length)},SlowBuffer.prototype.base64Slice=function(){var bytes=Array.prototype.slice.apply(this,arguments);return require("base64-js").fromByteArray(bytes)},SlowBuffer.prototype.utf8Slice=function(){for(var bytes=Array.prototype.slice.apply(this,arguments),res="",tmp="",i=0;i<bytes.length;)bytes[i]<=127?(res+=decodeUtf8Char(tmp)+String.fromCharCode(bytes[i]),tmp=""):tmp+="%"+bytes[i].toString(16),i++;return res+decodeUtf8Char(tmp)},SlowBuffer.prototype.asciiSlice=function(){for(var bytes=Array.prototype.slice.apply(this,arguments),ret="",i=0;i<bytes.length;i++)ret+=String.fromCharCode(bytes[i]);return ret},SlowBuffer.prototype.inspect=function(){for(var out=[],len=this.length,i=0;len>i;i++)if(out[i]=toHex(this[i]),i==exports.INSPECT_MAX_BYTES){out[i+1]="...";break}return"<SlowBuffer "+out.join(" ")+">"},SlowBuffer.prototype.hexSlice=function(start,end){var len=this.length;(!start||0>start)&&(start=0),(!end||0>end||end>len)&&(end=len);for(var out="",i=start;end>i;i++)out+=toHex(this[i]);return out},SlowBuffer.prototype.toString=function(encoding,start,end){if(encoding=String(encoding||"utf8").toLowerCase(),start=+start||0,"undefined"==typeof end&&(end=this.length),+end==start)return"";switch(encoding){case"hex":return this.hexSlice(start,end);case"utf8":case"utf-8":return this.utf8Slice(start,end);case"ascii":return this.asciiSlice(start,end);case"binary":return this.binarySlice(start,end);case"base64":return this.base64Slice(start,end);case"ucs2":case"ucs-2":return this.ucs2Slice(start,end);default:throw new Error("Unknown encoding")}},SlowBuffer.prototype.hexWrite=function(string,offset,length){offset=+offset||0;var remaining=this.length-offset;length?(length=+length,length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2)throw new Error("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;length>i;i++){var byte=parseInt(string.substr(2*i,2),16);if(isNaN(byte))throw new Error("Invalid hex string");this[offset+i]=byte}return SlowBuffer._charsWritten=2*i,i},SlowBuffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}offset=+offset||0;var remaining=this.length-offset;switch(length?(length=+length,length>remaining&&(length=remaining)):length=remaining,encoding=String(encoding||"utf8").toLowerCase()){case"hex":return this.hexWrite(string,offset,length);case"utf8":case"utf-8":return this.utf8Write(string,offset,length);case"ascii":return this.asciiWrite(string,offset,length);case"binary":return this.binaryWrite(string,offset,length);case"base64":return this.base64Write(string,offset,length);case"ucs2":case"ucs-2":return this.ucs2Write(string,offset,length);default:throw new Error("Unknown encoding")}},SlowBuffer.prototype.slice=function(start,end){if(void 0===end&&(end=this.length),end>this.length)throw new Error("oob");if(start>end)throw new Error("oob");return new Buffer(this,end-start,+start)},SlowBuffer.prototype.copy=function(target,targetstart,sourcestart,sourceend){for(var temp=[],i=sourcestart;sourceend>i;i++)assert.ok("undefined"!=typeof this[i],"copying undefined buffer bytes!"),temp.push(this[i]);for(var i=targetstart;i<targetstart+temp.length;i++)target[i]=temp[i-targetstart]},exports.SlowBuffer=SlowBuffer,exports.Buffer=Buffer,Buffer.poolSize=8192;var pool;Buffer.isBuffer=function(b){return b instanceof Buffer||b instanceof SlowBuffer},Buffer.concat=function(list,totalLength){if(!Array.isArray(list))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===list.length)return new Buffer(0);if(1===list.length)return list[0];if("number"!=typeof totalLength){totalLength=0;for(var i=0;i<list.length;i++){var buf=list[i];totalLength+=buf.length}}for(var buffer=new Buffer(totalLength),pos=0,i=0;i<list.length;i++){var buf=list[i];buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.prototype.inspect=function(){for(var out=[],len=this.length,i=0;len>i;i++)if(out[i]=toHex(this.parent[i+this.offset]),i==exports.INSPECT_MAX_BYTES){out[i+1]="...";break}return"<Buffer "+out.join(" ")+">"},Buffer.prototype.get=function(i){if(0>i||i>=this.length)throw new Error("oob");return this.parent[this.offset+i]},Buffer.prototype.set=function(i,v){if(0>i||i>=this.length)throw new Error("oob");return this.parent[this.offset+i]=v},Buffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}offset=+offset||0;var remaining=this.length-offset;length?(length=+length,length>remaining&&(length=remaining)):length=remaining,encoding=String(encoding||"utf8").toLowerCase();var ret;switch(encoding){case"hex":ret=this.parent.hexWrite(string,this.offset+offset,length);break;case"utf8":case"utf-8":ret=this.parent.utf8Write(string,this.offset+offset,length);break;case"ascii":ret=this.parent.asciiWrite(string,this.offset+offset,length);break;case"binary":ret=this.parent.binaryWrite(string,this.offset+offset,length);break;case"base64":ret=this.parent.base64Write(string,this.offset+offset,length);break;case"ucs2":case"ucs-2":ret=this.parent.ucs2Write(string,this.offset+offset,length);break;default:throw new Error("Unknown encoding")}return Buffer._charsWritten=SlowBuffer._charsWritten,ret},Buffer.prototype.toString=function(encoding,start,end){switch(encoding=String(encoding||"utf8").toLowerCase(),"undefined"==typeof start||0>start?start=0:start>this.length&&(start=this.length),"undefined"==typeof end||end>this.length?end=this.length:0>end&&(end=0),start+=this.offset,end+=this.offset,encoding){case"hex":return this.parent.hexSlice(start,end);case"utf8":case"utf-8":return this.parent.utf8Slice(start,end);case"ascii":return this.parent.asciiSlice(start,end);case"binary":return this.parent.binarySlice(start,end);case"base64":return this.parent.base64Slice(start,end);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(start,end);default:throw new Error("Unknown encoding")}},Buffer.byteLength=SlowBuffer.byteLength,Buffer.prototype.fill=function(value,start,end){if(value||(value=0),start||(start=0),end||(end=this.length),"string"==typeof value&&(value=value.charCodeAt(0)),"number"!=typeof value||isNaN(value))throw new Error("value is not a number");if(start>end)throw new Error("end < start");if(end===start)return 0;if(0==this.length)return 0;if(0>start||start>=this.length)throw new Error("start out of bounds");if(0>end||end>this.length)throw new Error("end out of bounds");return this.parent.fill(value,start+this.offset,end+this.offset)},Buffer.prototype.copy=function(target,target_start,start,end){var source=this;if(start||(start=0),end||(end=this.length),target_start||(target_start=0),start>end)throw new Error("sourceEnd < sourceStart");if(end===start)return 0;if(0==target.length||0==source.length)return 0;if(0>target_start||target_start>=target.length)throw new Error("targetStart out of bounds");if(0>start||start>=source.length)throw new Error("sourceStart out of bounds");if(0>end||end>source.length)throw new Error("sourceEnd out of bounds");return end>this.length&&(end=this.length),target.length-target_start<end-start&&(end=target.length-target_start+start),this.parent.copy(target.parent,target_start+target.offset,start+this.offset,end+this.offset)},Buffer.prototype.slice=function(start,end){if(void 0===end&&(end=this.length),end>this.length)throw new Error("oob");if(start>end)throw new Error("oob");return new Buffer(this.parent,end-start,+start+this.offset)},Buffer.prototype.utf8Slice=function(start,end){return this.toString("utf8",start,end)},Buffer.prototype.binarySlice=function(start,end){return this.toString("binary",start,end)},Buffer.prototype.asciiSlice=function(start,end){return this.toString("ascii",start,end)},Buffer.prototype.utf8Write=function(string,offset){return this.write(string,offset,"utf8")},Buffer.prototype.binaryWrite=function(string,offset){return this.write(string,offset,"binary")},Buffer.prototype.asciiWrite=function(string,offset){return this.write(string,offset,"ascii")},Buffer.prototype.readUInt8=function(offset,noAssert){var buffer=this;return noAssert||(assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset<buffer.length,"Trying to read beyond buffer length")),buffer.parent[buffer.offset+offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return readUInt16(this,offset,!1,noAssert)},Buffer.prototype.readUInt16BE=function(offset,noAssert){return readUInt16(this,offset,!0,noAssert)},Buffer.prototype.readUInt32LE=function(offset,noAssert){return readUInt32(this,offset,!1,noAssert)},Buffer.prototype.readUInt32BE=function(offset,noAssert){return readUInt32(this,offset,!0,noAssert)},Buffer.prototype.readInt8=function(offset,noAssert){var neg,buffer=this;return noAssert||(assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset<buffer.length,"Trying to read beyond buffer length")),neg=128&buffer.parent[buffer.offset+offset],neg?-1*(255-buffer.parent[buffer.offset+offset]+1):buffer.parent[buffer.offset+offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){return readInt16(this,offset,!1,noAssert)},Buffer.prototype.readInt16BE=function(offset,noAssert){return readInt16(this,offset,!0,noAssert)},Buffer.prototype.readInt32LE=function(offset,noAssert){return readInt32(this,offset,!1,noAssert)},Buffer.prototype.readInt32BE=function(offset,noAssert){return readInt32(this,offset,!0,noAssert)},Buffer.prototype.readFloatLE=function(offset,noAssert){return readFloat(this,offset,!1,noAssert)},Buffer.prototype.readFloatBE=function(offset,noAssert){return readFloat(this,offset,!0,noAssert)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return readDouble(this,offset,!1,noAssert)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return readDouble(this,offset,!0,noAssert)},Buffer.prototype.writeUInt8=function(value,offset,noAssert){var buffer=this;noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset<buffer.length,"trying to write beyond buffer length"),verifuint(value,255)),buffer.parent[buffer.offset+offset]=value},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){writeUInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){writeUInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){writeUInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){writeUInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt8=function(value,offset,noAssert){var buffer=this;noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset<buffer.length,"Trying to write beyond buffer length"),verifsint(value,127,-128)),value>=0?buffer.writeUInt8(value,offset,noAssert):buffer.writeUInt8(255+value+1,offset,noAssert)},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){writeInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){writeInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){writeInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){writeInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){writeDouble(this,value,offset,!0,noAssert)},SlowBuffer.prototype.readUInt8=Buffer.prototype.readUInt8,SlowBuffer.prototype.readUInt16LE=Buffer.prototype.readUInt16LE,SlowBuffer.prototype.readUInt16BE=Buffer.prototype.readUInt16BE,SlowBuffer.prototype.readUInt32LE=Buffer.prototype.readUInt32LE,SlowBuffer.prototype.readUInt32BE=Buffer.prototype.readUInt32BE,SlowBuffer.prototype.readInt8=Buffer.prototype.readInt8,SlowBuffer.prototype.readInt16LE=Buffer.prototype.readInt16LE,SlowBuffer.prototype.readInt16BE=Buffer.prototype.readInt16BE,SlowBuffer.prototype.readInt32LE=Buffer.prototype.readInt32LE,SlowBuffer.prototype.readInt32BE=Buffer.prototype.readInt32BE,SlowBuffer.prototype.readFloatLE=Buffer.prototype.readFloatLE,SlowBuffer.prototype.readFloatBE=Buffer.prototype.readFloatBE,SlowBuffer.prototype.readDoubleLE=Buffer.prototype.readDoubleLE,SlowBuffer.prototype.readDoubleBE=Buffer.prototype.readDoubleBE,SlowBuffer.prototype.writeUInt8=Buffer.prototype.writeUInt8,SlowBuffer.prototype.writeUInt16LE=Buffer.prototype.writeUInt16LE,SlowBuffer.prototype.writeUInt16BE=Buffer.prototype.writeUInt16BE,SlowBuffer.prototype.writeUInt32LE=Buffer.prototype.writeUInt32LE,SlowBuffer.prototype.writeUInt32BE=Buffer.prototype.writeUInt32BE,SlowBuffer.prototype.writeInt8=Buffer.prototype.writeInt8,SlowBuffer.prototype.writeInt16LE=Buffer.prototype.writeInt16LE,SlowBuffer.prototype.writeInt16BE=Buffer.prototype.writeInt16BE,SlowBuffer.prototype.writeInt32LE=Buffer.prototype.writeInt32LE,SlowBuffer.prototype.writeInt32BE=Buffer.prototype.writeInt32BE,SlowBuffer.prototype.writeFloatLE=Buffer.prototype.writeFloatLE,SlowBuffer.prototype.writeFloatBE=Buffer.prototype.writeFloatBE,SlowBuffer.prototype.writeDoubleLE=Buffer.prototype.writeDoubleLE,SlowBuffer.prototype.writeDoubleBE=Buffer.prototype.writeDoubleBE}()},{assert:2,"./buffer_ieee754":7,"base64-js":9}],9:[function(require,module){!function(){"use strict";function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(placeHolders=b64.indexOf("="),placeHolders=placeHolders>0?b64.length-placeHolders:0,arr=[],l=placeHolders>0?b64.length-4:b64.length,i=0,j=0;l>i;i+=4,j+=3)tmp=lookup.indexOf(b64[i])<<18|lookup.indexOf(b64[i+1])<<12|lookup.indexOf(b64[i+2])<<6|lookup.indexOf(b64[i+3]),arr.push((16711680&tmp)>>16),arr.push((65280&tmp)>>8),arr.push(255&tmp);return 2===placeHolders?(tmp=lookup.indexOf(b64[i])<<2|lookup.indexOf(b64[i+1])>>4,arr.push(255&tmp)):1===placeHolders&&(tmp=lookup.indexOf(b64[i])<<10|lookup.indexOf(b64[i+1])<<4|lookup.indexOf(b64[i+2])>>2,arr.push(255&tmp>>8),arr.push(255&tmp)),arr}function uint8ToBase64(uint8){function tripletToBase64(num){return lookup[63&num>>18]+lookup[63&num>>12]+lookup[63&num>>6]+lookup[63&num]}var i,temp,length,extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;length>i;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=lookup[temp>>2],output+=lookup[63&temp<<4],output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=lookup[temp>>10],output+=lookup[63&temp>>4],output+=lookup[63&temp<<2],output+="="}return output}var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";module.exports.toByteArray=b64ToByteArray,module.exports.fromByteArray=uint8ToBase64}()},{}]},{},[]),module.exports=require("buffer-browserify")},{}],15:[function(require,module,exports){!function(Buffer){!function(){var MarkedYAMLError,nodes,util,_ref,_ref1,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1};MarkedYAMLError=require("./errors").MarkedYAMLError,nodes=require("./nodes"),util=require("./util"),this.ConstructorError=function(_super){function ConstructorError(){return _ref=ConstructorError.__super__.constructor.apply(this,arguments)}return __extends(ConstructorError,_super),ConstructorError}(MarkedYAMLError),this.BaseConstructor=function(){function BaseConstructor(){this.constructed_objects={},this.constructing_nodes=[],this.deferred_constructors=[]}return BaseConstructor.prototype.yaml_constructors={},BaseConstructor.prototype.yaml_multi_constructors={},BaseConstructor.add_constructor=function(tag,constructor){return this.prototype.hasOwnProperty("yaml_constructors")||(this.prototype.yaml_constructors=util.extend({},this.prototype.yaml_constructors)),this.prototype.yaml_constructors[tag]=constructor},BaseConstructor.add_multi_constructor=function(tag_prefix,multi_constructor){return this.prototype.hasOwnProperty("yaml_multi_constructors")||(this.prototype.yaml_multi_constructors=util.extend({},this.prototype.yaml_multi_constructors)),this.prototype.yaml_multi_constructors[tag_prefix]=multi_constructor},BaseConstructor.prototype.check_data=function(){return this.check_node()},BaseConstructor.prototype.get_data=function(){return this.check_node()?this.construct_document(this.get_node()):void 0},BaseConstructor.prototype.get_single_data=function(validate,apply,join){var node;return null==validate&&(validate=!0),null==apply&&(apply=!0),null==join&&(join=!0),node=this.get_single_node(validate,apply,join),null!=node?this.construct_document(node):null},BaseConstructor.prototype.construct_document=function(node){var data;for(data=this.construct_object(node);!util.is_empty(this.deferred_constructors);)this.deferred_constructors.pop()();return data},BaseConstructor.prototype.defer=function(f){return this.deferred_constructors.push(f)},BaseConstructor.prototype.construct_object=function(node){var constructor,object,tag_prefix,tag_suffix,_ref1;if(node.unique_id in this.constructed_objects)return this.constructed_objects[node.unique_id];if(_ref1=node.unique_id,__indexOf.call(this.constructing_nodes,_ref1)>=0)throw new exports.ConstructorError(null,null,"found unconstructable recursive node",node.start_mark);if(this.constructing_nodes.push(node.unique_id),constructor=null,tag_suffix=null,node.tag in this.yaml_constructors)constructor=this.yaml_constructors[node.tag];else{for(tag_prefix in this.yaml_multi_constructors)if(node.tag.indexOf(0===tag_prefix)){tag_suffix=node.tag.slice(tag_prefix.length),constructor=this.yaml_multi_constructors[tag_prefix];break}null==constructor&&(null in this.yaml_multi_constructors?(tag_suffix=node.tag,constructor=this.yaml_multi_constructors[null]):null in this.yaml_constructors?constructor=this.yaml_constructors[null]:node instanceof nodes.ScalarNode?constructor=this.construct_scalar:node instanceof nodes.SequenceNode?constructor=this.construct_sequence:node instanceof nodes.MappingNode&&(constructor=this.construct_mapping))}return object=constructor.call(this,null!=tag_suffix?tag_suffix:node,node),this.constructed_objects[node.unique_id]=object,this.constructing_nodes.pop(),object},BaseConstructor.prototype.construct_scalar=function(node){if(!(node instanceof nodes.ScalarNode))throw new exports.ConstructorError(null,null,"expected a scalar node but found "+node.id,node.start_mark);return node.value},BaseConstructor.prototype.construct_sequence=function(node){var child,_i,_len,_ref1,_results;if(!(node instanceof nodes.SequenceNode))throw new exports.ConstructorError(null,null,"expected a sequence node but found "+node.id,node.start_mark);for(_ref1=node.value,_results=[],_i=0,_len=_ref1.length;_len>_i;_i++)child=_ref1[_i],_results.push(this.construct_object(child));return _results},BaseConstructor.prototype.construct_mapping=function(node){var key,key_node,mapping,value,value_node,_i,_len,_ref1,_ref2;if(!(node instanceof nodes.MappingNode))throw new exports.ConstructorError(null,null,"expected a mapping node but found "+node.id,node.start_mark);for(mapping={},_ref1=node.value,_i=0,_len=_ref1.length;_len>_i;_i++){if(_ref2=_ref1[_i],key_node=_ref2[0],value_node=_ref2[1],key=this.construct_object(key_node),"object"==typeof key)throw new exports.ConstructorError("while constructing a mapping",node.start_mark,"found unhashable key",key_node.start_mark);value=this.construct_object(value_node),mapping[key]=value}return mapping},BaseConstructor.prototype.construct_pairs=function(node){var key,key_node,pairs,value,value_node,_i,_len,_ref1,_ref2;if(!(node instanceof nodes.MappingNode))throw new exports.ConstructorError(null,null,"expected a mapping node but found "+node.id,node.start_mark);for(pairs=[],_ref1=node.value,_i=0,_len=_ref1.length;_len>_i;_i++)_ref2=_ref1[_i],key_node=_ref2[0],value_node=_ref2[1],key=this.construct_object(key_node),value=this.construct_object(value_node),pairs.push([key,value]);return pairs},BaseConstructor}(),this.Constructor=function(_super){function Constructor(){return _ref1=Constructor.__super__.constructor.apply(this,arguments)}var BOOL_VALUES,TIMESTAMP_PARTS,TIMESTAMP_REGEX;return __extends(Constructor,_super),BOOL_VALUES={on:!0,off:!1,"true":!0,"false":!1,yes:!0,no:!1},TIMESTAMP_REGEX=/^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[\x20\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\.([0-9]*))?(?:[\x20\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$/,TIMESTAMP_PARTS={year:1,month:2,day:3,hour:4,minute:5,second:6,fraction:7,tz:8,tz_sign:9,tz_hour:10,tz_minute:11},Constructor.prototype.yaml_constructors={},Constructor.prototype.yaml_multi_constructors={},Constructor.prototype.construct_scalar=function(node){var key_node,value_node,_i,_len,_ref2,_ref3;if(node instanceof nodes.MappingNode)for(_ref2=node.value,_i=0,_len=_ref2.length;_len>_i;_i++)if(_ref3=_ref2[_i],key_node=_ref3[0],value_node=_ref3[1],"tag:yaml.org,2002:value"===key_node.tag)return this.construct_scalar(value_node);return Constructor.__super__.construct_scalar.call(this,node)},Constructor.prototype.flatten_mapping=function(node){var index,key_node,merge,submerge,subnode,value,value_node,_i,_j,_len,_len1,_ref2,_ref3;for(merge=[],index=0;index<node.value.length;)if(_ref2=node.value[index],key_node=_ref2[0],value_node=_ref2[1],"tag:yaml.org,2002:merge"===key_node.tag)if(node.value.splice(index,1),value_node instanceof nodes.MappingNode)this.flatten_mapping(value_node),merge=merge.concat(value_node.value);else{if(!(value_node instanceof nodes.SequenceNode))throw new exports.ConstructorError("while constructing a mapping",node.start_mark,"expected a mapping or list of mappings for            merging but found "+value_node.id,value_node.start_mark);for(submerge=[],_ref3=value_node.value,_i=0,_len=_ref3.length;_len>_i;_i++){if(subnode=_ref3[_i],!(subnode instanceof nodes.MappingNode))throw new exports.ConstructorError("while constructing a mapping",node.start_mark,"expected a mapping for merging, but found "+subnode.id,subnode.start_mark);this.flatten_mapping(subnode),submerge.push(subnode.value)}for(submerge.reverse(),_j=0,_len1=submerge.length;_len1>_j;_j++)value=submerge[_j],merge=merge.concat(value)}else"tag:yaml.org,2002:value"===key_node.tag?(key_node.tag="tag:yaml.org,2002:str",index++):index++;return merge.length?node.value=merge.concat(node.value):void 0},Constructor.prototype.construct_mapping=function(node){return node instanceof nodes.MappingNode&&this.flatten_mapping(node),Constructor.__super__.construct_mapping.call(this,node)},Constructor.prototype.construct_yaml_null=function(node){return this.construct_scalar(node),null},Constructor.prototype.construct_yaml_bool=function(node){var value;return value=this.construct_scalar(node),BOOL_VALUES[value.toLowerCase()]},Constructor.prototype.construct_yaml_int=function(node){var base,digit,digits,part,sign,value,_i,_len,_ref2;if(value=this.construct_scalar(node),value=value.replace(/_/g,""),sign="-"===value[0]?-1:1,_ref2=value[0],__indexOf.call("+-",_ref2)>=0&&(value=value.slice(1)),"0"===value)return 0;if(0===value.indexOf("0b"))return sign*parseInt(value.slice(2),2);if(0===value.indexOf("0x"))return sign*parseInt(value.slice(2),16);if(0===value.indexOf("0o"))return sign*parseInt(value.slice(2),8);if("0"===value[0])return sign*parseInt(value,8);if(__indexOf.call(value,":")>=0){for(digits=function(){var _i,_len,_ref3,_results;for(_ref3=value.split(/:/g),_results=[],_i=0,_len=_ref3.length;_len>_i;_i++)part=_ref3[_i],_results.push(parseInt(part));return _results}(),digits.reverse(),base=1,value=0,_i=0,_len=digits.length;_len>_i;_i++)digit=digits[_i],value+=digit*base,base*=60;return sign*value}return sign*parseInt(value)},Constructor.prototype.construct_yaml_float=function(node){var base,digit,digits,part,sign,value,_i,_len,_ref2;if(value=this.construct_scalar(node),value=value.replace(/_/g,"").toLowerCase(),sign="-"===value[0]?-1:1,_ref2=value[0],__indexOf.call("+-",_ref2)>=0&&(value=value.slice(1)),".inf"===value)return 1/0*sign;if(".nan"===value)return 0/0;if(__indexOf.call(value,":")>=0){for(digits=function(){var _i,_len,_ref3,_results;for(_ref3=value.split(/:/g),_results=[],_i=0,_len=_ref3.length;_len>_i;_i++)part=_ref3[_i],_results.push(parseFloat(part));return _results}(),digits.reverse(),base=1,value=0,_i=0,_len=digits.length;_len>_i;_i++)digit=digits[_i],value+=digit*base,base*=60;return sign*value}return sign*parseFloat(value)},Constructor.prototype.construct_yaml_binary=function(node){var error,value;value=this.construct_scalar(node);try{return"undefined"!=typeof window&&null!==window?atob(value):new Buffer(value,"base64").toString("ascii")}catch(_error){throw error=_error,new exports.ConstructorError(null,null,"failed to decode base64 data: "+error,node.start_mark)}},Constructor.prototype.construct_yaml_timestamp=function(node){var date,day,fraction,hour,index,key,match,millisecond,minute,month,second,tz_hour,tz_minute,tz_sign,value,values,year;value=this.construct_scalar(node),match=node.value.match(TIMESTAMP_REGEX),values={};for(key in TIMESTAMP_PARTS)index=TIMESTAMP_PARTS[key],values[key]=match[index];if(year=parseInt(values.year),month=parseInt(values.month)-1,day=parseInt(values.day),!values.hour)return new Date(Date.UTC(year,month,day));
if(hour=parseInt(values.hour),minute=parseInt(values.minute),second=parseInt(values.second),millisecond=0,values.fraction){for(fraction=values.fraction.slice(0,6);fraction.length<6;)fraction+="0";fraction=parseInt(fraction),millisecond=Math.round(fraction/1e3)}return values.tz_sign&&(tz_sign="-"===values.tz_sign?1:-1,(tz_hour=parseInt(values.tz_hour))&&(hour+=tz_sign*tz_hour),(tz_minute=parseInt(values.tz_minute))&&(minute+=tz_sign*tz_minute)),date=new Date(Date.UTC(year,month,day,hour,minute,second,millisecond))},Constructor.prototype.construct_yaml_pair_list=function(type,node){var list,_this=this;if(list=[],!(node instanceof nodes.SequenceNode))throw new exports.ConstructorError("while constructing "+type,node.start_mark,"expected a sequence but found "+node.id,node.start_mark);return this.defer(function(){var key,key_node,subnode,value,value_node,_i,_len,_ref2,_ref3,_results;for(_ref2=node.value,_results=[],_i=0,_len=_ref2.length;_len>_i;_i++){if(subnode=_ref2[_i],!(subnode instanceof nodes.MappingNode))throw new exports.ConstructorError("while constructing "+type,node.start_mark,"expected a mapping of length 1 but found "+subnode.id,subnode.start_mark);if(1!==subnode.value.length)throw new exports.ConstructorError("while constructing "+type,node.start_mark,"expected a mapping of length 1 but found "+subnode.id,subnode.start_mark);_ref3=subnode.value[0],key_node=_ref3[0],value_node=_ref3[1],key=_this.construct_object(key_node),value=_this.construct_object(value_node),_results.push(list.push([key,value]))}return _results}),list},Constructor.prototype.construct_yaml_omap=function(node){return this.construct_yaml_pair_list("an ordered map",node)},Constructor.prototype.construct_yaml_pairs=function(node){return this.construct_yaml_pair_list("pairs",node)},Constructor.prototype.construct_yaml_set=function(node){var data,_this=this;return data=[],this.defer(function(){var item,_results;_results=[];for(item in _this.construct_mapping(node))_results.push(data.push(item));return _results}),data},Constructor.prototype.construct_yaml_str=function(node){return this.construct_scalar(node)},Constructor.prototype.construct_yaml_seq=function(node){var data,_this=this;return data=[],this.defer(function(){var item,_i,_len,_ref2,_results;for(_ref2=_this.construct_sequence(node),_results=[],_i=0,_len=_ref2.length;_len>_i;_i++)item=_ref2[_i],_results.push(data.push(item));return _results}),data},Constructor.prototype.construct_yaml_map=function(node){var data,_this=this;return data={},this.defer(function(){var key,value,_ref2,_results;_ref2=_this.construct_mapping(node),_results=[];for(key in _ref2)value=_ref2[key],_results.push(data[key]=value);return _results}),data},Constructor.prototype.construct_yaml_object=function(node,klass){var data,_this=this;return data=new klass,this.defer(function(){var key,value,_ref2,_results;_ref2=_this.construct_mapping(node,!0),_results=[];for(key in _ref2)value=_ref2[key],_results.push(data[key]=value);return _results}),data},Constructor.prototype.construct_undefined=function(node){throw new exports.ConstructorError(null,null,"could not determine a constructor for the tag "+node.tag,node.start_mark)},Constructor}(this.BaseConstructor),this.Constructor.add_constructor("tag:yaml.org,2002:null",this.Constructor.prototype.construct_yaml_null),this.Constructor.add_constructor("tag:yaml.org,2002:bool",this.Constructor.prototype.construct_yaml_bool),this.Constructor.add_constructor("tag:yaml.org,2002:int",this.Constructor.prototype.construct_yaml_int),this.Constructor.add_constructor("tag:yaml.org,2002:float",this.Constructor.prototype.construct_yaml_float),this.Constructor.add_constructor("tag:yaml.org,2002:binary",this.Constructor.prototype.construct_yaml_binary),this.Constructor.add_constructor("tag:yaml.org,2002:timestamp",this.Constructor.prototype.construct_yaml_timestamp),this.Constructor.add_constructor("tag:yaml.org,2002:omap",this.Constructor.prototype.construct_yaml_omap),this.Constructor.add_constructor("tag:yaml.org,2002:pairs",this.Constructor.prototype.construct_yaml_pairs),this.Constructor.add_constructor("tag:yaml.org,2002:set",this.Constructor.prototype.construct_yaml_set),this.Constructor.add_constructor("tag:yaml.org,2002:str",this.Constructor.prototype.construct_yaml_str),this.Constructor.add_constructor("tag:yaml.org,2002:seq",this.Constructor.prototype.construct_yaml_seq),this.Constructor.add_constructor("tag:yaml.org,2002:map",this.Constructor.prototype.construct_yaml_map),this.Constructor.add_constructor("tag:raml.org,0.1:null",this.Constructor.prototype.construct_yaml_null),this.Constructor.add_constructor("tag:raml.org,0.1:bool",this.Constructor.prototype.construct_yaml_bool),this.Constructor.add_constructor("tag:raml.org,0.1:int",this.Constructor.prototype.construct_yaml_int),this.Constructor.add_constructor("tag:raml.org,0.1:float",this.Constructor.prototype.construct_yaml_float),this.Constructor.add_constructor("tag:raml.org,0.1:binary",this.Constructor.prototype.construct_yaml_binary),this.Constructor.add_constructor("tag:raml.org,0.1:timestamp",this.Constructor.prototype.construct_yaml_timestamp),this.Constructor.add_constructor("tag:raml.org,0.1:omap",this.Constructor.prototype.construct_yaml_omap),this.Constructor.add_constructor("tag:raml.org,0.1:pairs",this.Constructor.prototype.construct_yaml_pairs),this.Constructor.add_constructor("tag:raml.org,0.1:set",this.Constructor.prototype.construct_yaml_set),this.Constructor.add_constructor("tag:raml.org,0.1:str",this.Constructor.prototype.construct_yaml_str),this.Constructor.add_constructor("tag:raml.org,0.1:seq",this.Constructor.prototype.construct_yaml_seq),this.Constructor.add_constructor("tag:raml.org,0.1:map",this.Constructor.prototype.construct_yaml_map),this.Constructor.add_constructor(null,this.Constructor.prototype.construct_undefined),module.exports.Constructor=this.Constructor,module.exports.ConstructorError=this.ConstructorError}.call(this)}(require("__browserify_buffer").Buffer)},{"./errors":1,"./nodes":13,"./util":4,__browserify_buffer:14}],16:[function(require){!function(){var MarkedYAMLError,nodes,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};MarkedYAMLError=require("./errors").MarkedYAMLError,nodes=require("./nodes"),this.JoinError=function(_super){function JoinError(){return _ref=JoinError.__super__.constructor.apply(this,arguments)}return __extends(JoinError,_super),JoinError}(MarkedYAMLError),this.Joiner=function(){function Joiner(){}return Joiner.prototype.join_resources=function(node){var resources,resourcesArray,resourcesName,resourcesValue,_this=this;return resources=node.value.filter(function(childNode){return childNode[0].value.match(/^\//i)}),resourcesArray=[],resources.length>0?(node.value=node.value.filter(function(childNode){return!childNode[0].value.match(/^\//i)}),resourcesName=new nodes.ScalarNode("tag:yaml.org,2002:str","resources",resources[0][0].start_mark,resources[resources.length-1][1].end_mark),resources.forEach(function(resource){var relativeUriName,relativeUriValue;return relativeUriName=new nodes.ScalarNode("tag:yaml.org,2002:str","relativeUri",resource[0].start_mark,resource[1].end_mark),relativeUriValue=new nodes.ScalarNode("tag:yaml.org,2002:str",resource[0].value,resource[0].start_mark,resource[1].end_mark),resource[1].value.push([relativeUriName,relativeUriValue]),resourcesArray.push(resource[1]),_this.join_methods(resource[1]),_this.join_resources(resource[1])}),resourcesValue=new nodes.SequenceNode("tag:yaml.org,2002:seq",resourcesArray,resources[0][0].start_mark,resources[resources.length-1][1].end_mark),node.value.push([resourcesName,resourcesValue])):void 0},Joiner.prototype.join_methods=function(node){var methods,methodsArray,methodsName,methodsValue;return methods=node.value.filter(function(childNode){return childNode[0].value.match(/get|post|put|delete|head|patch|options/i)}),methodsArray=[],methods.length>0?(node.value=node.value.filter(function(childNode){return!childNode[0].value.match(/get|post|put|delete|head|patch|options/i)}),methodsName=new nodes.ScalarNode("tag:yaml.org,2002:str","methods",methods[0][0].start_mark,methods[methods.length-1][1].end_mark),methods.forEach(function(method){var methodName,methodValue;return methodName=new nodes.ScalarNode("tag:yaml.org,2002:str","method",method[0].start_mark,method[1].end_mark),methodValue=new nodes.ScalarNode("tag:yaml.org,2002:str",method[0].value,method[0].start_mark,method[1].end_mark),"tag:yaml.org,2002:null"===method[1].tag&&(method[1]=new nodes.MappingNode("tag:yaml.org,2002:map",[],method[1].start_mark,method[1].end_mark)),method[1].value.push([methodName,methodValue]),methodsArray.push(method[1])}),methodsValue=new nodes.SequenceNode("tag:yaml.org,2002:seq",methodsArray,methods[0][0].start_mark,methods[methods.length-1][1].end_mark),node.value.push([methodsName,methodsValue])):void 0},Joiner}()}.call(this)},{"./errors":1,"./nodes":13}],17:[function(require){!function(){var composer,construct,joiner,parser,reader,resolver,scanner,traits,util,validator;util=require("./util"),reader=require("./reader"),scanner=require("./scanner"),parser=require("./parser"),composer=require("./composer"),resolver=require("./resolver"),construct=require("./construct"),validator=require("./validator"),joiner=require("./joiner"),traits=require("./traits"),this.make_loader=function(Reader,Scanner,Parser,Composer,Resolver,Validator,Traits,Joiner,Constructor){return null==Reader&&(Reader=reader.Reader),null==Scanner&&(Scanner=scanner.Scanner),null==Parser&&(Parser=parser.Parser),null==Composer&&(Composer=composer.Composer),null==Resolver&&(Resolver=resolver.Resolver),null==Validator&&(Validator=validator.Validator),null==Traits&&(Traits=traits.Traits),null==Joiner&&(Joiner=joiner.Joiner),null==Constructor&&(Constructor=construct.Constructor),function(){function _Class(stream,location){var _i,_len,_ref;for(components[0].call(this,stream,location),_ref=components.slice(1),_i=0,_len=_ref.length;_len>_i;_i++)component=_ref[_i],component.call(this)}var component,components;return components=[Reader,Scanner,Parser,Composer,Resolver,Validator,Traits,Joiner,Constructor],util.extend.apply(util,[_Class.prototype].concat(function(){var _i,_len,_results;for(_results=[],_i=0,_len=components.length;_len>_i;_i++)component=components[_i],_results.push(component.prototype);return _results}())),_Class}()},this.Loader=this.make_loader()}.call(this)},{"./composer":12,"./construct":15,"./joiner":16,"./parser":20,"./reader":18,"./resolver":21,"./scanner":19,"./traits":23,"./util":4,"./validator":22}],13:[function(require,module,exports){!function(){var MarkedYAMLError,unique_id,_ref,_ref1,_ref2,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};MarkedYAMLError=require("./errors").MarkedYAMLError,unique_id=0,this.ApplicationError=function(_super){function ApplicationError(){return _ref=ApplicationError.__super__.constructor.apply(this,arguments)}return __extends(ApplicationError,_super),ApplicationError}(MarkedYAMLError),this.Node=function(){function Node(tag,value,start_mark,end_mark){this.tag=tag,this.value=value,this.start_mark=start_mark,this.end_mark=end_mark,this.unique_id="node_"+unique_id++}return Node.prototype.clone=function(){var temp;return temp=new this.constructor(this.tag,this.value.clone(),this.start_mark,this.end_mark)},Node}(),this.ScalarNode=function(_super){function ScalarNode(tag,value,start_mark,end_mark,style){this.tag=tag,this.value=value,this.start_mark=start_mark,this.end_mark=end_mark,this.style=style,ScalarNode.__super__.constructor.apply(this,arguments)}return __extends(ScalarNode,_super),ScalarNode.prototype.id="scalar",ScalarNode.prototype.clone=function(){var temp;return temp=new this.constructor(this.tag,this.value,this.start_mark,this.end_mark)},ScalarNode.prototype.combine=function(node){if(!(node instanceof ScalarNode))throw new exports.ApplicationError("while applying node",null,"different YAML structures",this.start_mark);return this.value=node.value},ScalarNode.prototype.remove_question_mark_properties=function(){},ScalarNode}(this.Node),this.CollectionNode=function(_super){function CollectionNode(tag,value,start_mark,end_mark,flow_style){this.tag=tag,this.value=value,this.start_mark=start_mark,this.end_mark=end_mark,this.flow_style=flow_style,CollectionNode.__super__.constructor.apply(this,arguments)}return __extends(CollectionNode,_super),CollectionNode}(this.Node),this.SequenceNode=function(_super){function SequenceNode(){return _ref1=SequenceNode.__super__.constructor.apply(this,arguments)}return __extends(SequenceNode,_super),SequenceNode.prototype.id="sequence",SequenceNode.prototype.clone=function(){var items,temp;return items=[],this.value.forEach(function(item){var value;return value=item.clone(),items.push(value)}),temp=new this.constructor(this.tag,items,this.start_mark,this.end_mark,this.flow_style)},SequenceNode.prototype.combine=function(node){var _this=this;if(!(node instanceof SequenceNode))throw new exports.ApplicationError("while applying node",null,"different YAML structures",this.start_mark);return node.value.forEach(function(property){var value;return value=property.clone(),_this.value.push(value)})},SequenceNode.prototype.remove_question_mark_properties=function(){return this.value.forEach(function(item){return item.remove_question_mark_properties()})},SequenceNode}(this.CollectionNode),this.MappingNode=function(_super){function MappingNode(){return _ref2=MappingNode.__super__.constructor.apply(this,arguments)}return __extends(MappingNode,_super),MappingNode.prototype.id="mapping",MappingNode.prototype.clone=function(){var properties,temp;return properties=[],this.value.forEach(function(property){var name,value;return name=property[0].clone(),value=property[1].clone(),properties.push([name,value])}),temp=new this.constructor(this.tag,properties,this.start_mark,this.end_mark,this.flow_style)},MappingNode.prototype.combine=function(node){var _this=this;if(!(node instanceof MappingNode))throw new exports.ApplicationError("while applying node",null,"different YAML structures",this.start_mark);return node.value.forEach(function(property2){var has_property,name;return name=property2[0].value,has_property=_this.value.some(function(property1){return property1[0].value===name||property1[0].value+"?"===name||property1[0].value===name+"?"}),has_property?_this.value.forEach(function(property1){return property1[0].value!==name&&property1[0].value+"?"!==name&&property1[0].value!==name+"?"||(property1[1].combine(property2[1]),-1===property1[0].value.indexOf("?",property1[0].value.length-1))?void 0:property1[0].value=property1[0].value.substring(0,property1[0].value.length-1)}):_this.value.push([property2[0].clone(),property2[1].clone()])})},MappingNode.prototype.remove_question_mark_properties=function(){return this.value=this.value.filter(function(property){return-1===property[0].value.indexOf("?",property[0].value.length-1)}),this.value.forEach(function(property){return property[1].remove_question_mark_properties()})},MappingNode}(this.CollectionNode)}.call(this)},{"./errors":1}],20:[function(require,module,exports){!function(){var MarkedYAMLError,events,tokens,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},__slice=[].slice;events=require("./events"),MarkedYAMLError=require("./errors").MarkedYAMLError,tokens=require("./tokens"),this.ParserError=function(_super){function ParserError(){return _ref=ParserError.__super__.constructor.apply(this,arguments)}return __extends(ParserError,_super),ParserError}(MarkedYAMLError),this.Parser=function(){function Parser(){this.current_event=null,this.yaml_version=null,this.tag_handles={},this.states=[],this.marks=[],this.state="parse_stream_start"}var DEFAULT_TAGS;return DEFAULT_TAGS={"!":"!","!!":"tag:yaml.org,2002:"},Parser.prototype.dispose=function(){return this.states=[],this.state=null},Parser.prototype.check_event=function(){var choice,choices,_i,_len;if(choices=1<=arguments.length?__slice.call(arguments,0):[],null===this.current_event&&null!=this.state&&(this.current_event=this[this.state]()),null!==this.current_event){if(0===choices.length)return!0;for(_i=0,_len=choices.length;_len>_i;_i++)if(choice=choices[_i],this.current_event instanceof choice)return!0}return!1},Parser.prototype.peek_event=function(){return null===this.current_event&&null!=this.state&&(this.current_event=this[this.state]()),this.current_event},Parser.prototype.get_event=function(){var event;return null===this.current_event&&null!=this.state&&(this.current_event=this[this.state]()),event=this.current_event,this.current_event=null,event},Parser.prototype.parse_stream_start=function(){var event,token;return token=this.get_token(),event=new events.StreamStartEvent(token.start_mark,token.end_mark),this.state="parse_implicit_document_start",event},Parser.prototype.parse_implicit_document_start=function(){var end_mark,event,start_mark,token;return this.check_token(tokens.DirectiveToken,tokens.DocumentStartToken,tokens.StreamEndToken)?this.parse_document_start():(this.tag_handles=DEFAULT_TAGS,token=this.peek_token(),start_mark=end_mark=token.start_mark,event=new events.DocumentStartEvent(start_mark,end_mark,!1),this.states.push("parse_document_end"),this.state="parse_block_node",event)},Parser.prototype.parse_document_start=function(){for(var end_mark,event,start_mark,tags,token,version,_ref1;this.check_token(tokens.DocumentEndToken);)this.get_token();if(this.check_token(tokens.StreamEndToken)){if(token=this.get_token(),event=new events.StreamEndEvent(token.start_mark,token.end_mark),0!==this.states.length)throw new Error("assertion error, states should be empty");if(0!==this.marks.length)throw new Error("assertion error, marks should be empty");this.state=null}else{if(start_mark=this.peek_token().start_mark,_ref1=this.process_directives(),version=_ref1[0],tags=_ref1[1],!this.check_token(tokens.DocumentStartToken))throw new exports.ParserError("expected '<document start>', but found "+this.peek_token().id,this.peek_token().start_mark);token=this.get_token(),end_mark=token.end_mark,event=new events.DocumentStartEvent(start_mark,end_mark,!0,version,tags),this.states.push("parse_document_end"),this.state="parse_document_content"}return event},Parser.prototype.parse_document_end=function(){var end_mark,event,explicit,start_mark,token;return token=this.peek_token(),start_mark=end_mark=token.start_mark,explicit=!1,this.check_token(tokens.DocumentEndToken)&&(token=this.get_token(),end_mark=token.end_mark,explicit=!0),event=new events.DocumentEndEvent(start_mark,end_mark,explicit),this.state="parse_document_start",event},Parser.prototype.parse_document_content=function(){var event;return this.check_token(tokens.DirectiveToken,tokens.DocumentStartToken,tokens.DocumentEndToken,tokens.StreamEndToken)?(event=this.process_empty_scalar(this.peek_token().start_mark),this.state=this.states.pop(),event):this.parse_block_node()},Parser.prototype.process_directives=function(){var handle,major,minor,prefix,tag_handles_copy,token,value,_ref1,_ref2,_ref3;for(this.yaml_version=null,this.tag_handles={};this.check_token(tokens.DirectiveToken);)if(token=this.get_token(),"YAML"===token.name){if(null!==this.yaml_version)throw new exports.ParserError(null,null,"found duplicate YAML directive",token.start_mark);if(_ref1=token.value,major=_ref1[0],minor=_ref1[1],1!==major||2!==minor)throw new exports.ParserError(null,null,"found incompatible YAML document (version 1.2 is required)",token.start_mark);this.yaml_version=token.value}else if("TAG"===token.name){if(_ref2=token.value,handle=_ref2[0],prefix=_ref2[1],handle in this.tag_handles)throw new exports.ParserError(null,null,"duplicate tag handle "+handle,token.start_mark);this.tag_handles[handle]=prefix}tag_handles_copy=null,_ref3=this.tag_handles;for(handle in _ref3)__hasProp.call(_ref3,handle)&&(prefix=_ref3[handle],null==tag_handles_copy&&(tag_handles_copy={}),tag_handles_copy[handle]=prefix);value=[this.yaml_version,tag_handles_copy];for(handle in DEFAULT_TAGS)__hasProp.call(DEFAULT_TAGS,handle)&&(prefix=DEFAULT_TAGS[handle],prefix in this.tag_handles||(this.tag_handles[handle]=prefix));return value},Parser.prototype.parse_block_node=function(){return this.parse_node(!0)},Parser.prototype.parse_flow_node=function(){return this.parse_node()},Parser.prototype.parse_block_node_or_indentless_sequence=function(){return this.parse_node(!0,!0)},Parser.prototype.parse_node=function(block,indentless_sequence){var anchor,end_mark,event,handle,implicit,node,start_mark,suffix,tag,tag_mark,token;if(null==block&&(block=!1),null==indentless_sequence&&(indentless_sequence=!1),this.check_token(tokens.AliasToken))token=this.get_token(),event=new events.AliasEvent(token.value,token.start_mark,token.end_mark),this.state=this.states.pop();else{if(anchor=null,tag=null,start_mark=end_mark=tag_mark=null,this.check_token(tokens.AnchorToken)?(token=this.get_token(),start_mark=token.start_mark,end_mark=token.end_mark,anchor=token.value,this.check_token(tokens.TagToken)&&(token=this.get_token(),tag_mark=token.start_mark,end_mark=token.end_mark,tag=token.value)):this.check_token(tokens.TagToken)&&(token=this.get_token(),start_mark=tag_mark=token.start_mark,end_mark=token.end_mark,tag=token.value,this.check_token(tokens.AnchorToken)&&(token=this.get_token(),end_mark=token.end_mark,anchor=token.value)),null!==tag)if(handle=tag[0],suffix=tag[1],null!==handle){if(!(handle in this.tag_handles))throw new exports.ParserError("while parsing a node",start_mark,"found undefined tag handle "+handle,tag_mark);tag=this.tag_handles[handle]+suffix}else tag=suffix;if(null===start_mark&&(start_mark=end_mark=this.peek_token().start_mark),event=null,implicit=null===tag||"!"===tag,indentless_sequence&&this.check_token(tokens.BlockEntryToken))end_mark=this.peek_token().end_mark,event=new events.SequenceStartEvent(anchor,tag,implicit,start_mark,end_mark),this.state="parse_indentless_sequence_entry";else if(this.check_token(tokens.ScalarToken))token=this.get_token(),end_mark=token.end_mark,implicit=token.plain&&null===tag||"!"===tag?[!0,!1]:null===tag?[!1,!0]:[!1,!1],event=new events.ScalarEvent(anchor,tag,implicit,token.value,start_mark,end_mark,token.style),this.state=this.states.pop();else if(this.check_token(tokens.FlowSequenceStartToken))end_mark=this.peek_token().end_mark,event=new events.SequenceStartEvent(anchor,tag,implicit,start_mark,end_mark,!0),this.state="parse_flow_sequence_first_entry";else if(this.check_token(tokens.FlowMappingStartToken))end_mark=this.peek_token().end_mark,event=new events.MappingStartEvent(anchor,tag,implicit,start_mark,end_mark,!0),this.state="parse_flow_mapping_first_key";else if(block&&this.check_token(tokens.BlockSequenceStartToken))end_mark=this.peek_token().end_mark,event=new events.SequenceStartEvent(anchor,tag,implicit,start_mark,end_mark,!1),this.state="parse_block_sequence_first_entry";else if(block&&this.check_token(tokens.BlockMappingStartToken))end_mark=this.peek_token().end_mark,event=new events.MappingStartEvent(anchor,tag,implicit,start_mark,end_mark,!1),this.state="parse_block_mapping_first_key";else{if(null===anchor&&null===tag)throw node=block?"block":"flow",token=this.peek_token(),new exports.ParserError("while parsing a "+node+" node",start_mark,"expected the node content, but found "+token.id,token.start_mark);event=new events.ScalarEvent(anchor,tag,[implicit,!1],"",start_mark,end_mark),this.state=this.states.pop()}}return event},Parser.prototype.parse_block_sequence_first_entry=function(){var token;return token=this.get_token(),this.marks.push(token.start_mark),this.parse_block_sequence_entry()},Parser.prototype.parse_block_sequence_entry=function(){var event,token;if(this.check_token(tokens.BlockEntryToken))return token=this.get_token(),this.check_token(tokens.BlockEntryToken,tokens.BlockEndToken)?(this.state="parse_block_sequence_entry",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_block_sequence_entry"),this.parse_block_node());if(!this.check_token(tokens.BlockEndToken))throw token=this.peek_token(),new exports.ParserError("while parsing a block collection",this.marks.slice(-1)[0],"expected <block end>, but found "+token.id,token.start_mark);return token=this.get_token(),event=new events.SequenceEndEvent(token.start_mark,token.end_mark),this.state=this.states.pop(),this.marks.pop(),event},Parser.prototype.parse_indentless_sequence_entry=function(){var event,token;return this.check_token(tokens.BlockEntryToken)?(token=this.get_token(),this.check_token(tokens.BlockEntryToken,tokens.KeyToken,tokens.ValueToken,tokens.BlockEndToken)?(this.state="parse_indentless_sequence_entry",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_indentless_sequence_entry"),this.parse_block_node())):(token=this.peek_token(),event=new events.SequenceEndEvent(token.start_mark,token.start_mark),this.state=this.states.pop(),event)},Parser.prototype.parse_block_mapping_first_key=function(){var token;return token=this.get_token(),this.marks.push(token.start_mark),this.parse_block_mapping_key()},Parser.prototype.parse_block_mapping_key=function(){var event,token;if(this.check_token(tokens.KeyToken))return token=this.get_token(),this.check_token(tokens.KeyToken,tokens.ValueToken,tokens.BlockEndToken)?(this.state="parse_block_mapping_value",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_block_mapping_value"),this.parse_block_node_or_indentless_sequence());if(!this.check_token(tokens.BlockEndToken))throw token=this.peek_token(),new exports.ParserError("while parsing a block mapping",this.marks.slice(-1)[0],"expected <block end>, but found "+token.id,token.start_mark);return token=this.get_token(),event=new events.MappingEndEvent(token.start_mark,token.end_mark),this.state=this.states.pop(),this.marks.pop(),event},Parser.prototype.parse_block_mapping_value=function(){var token;return this.check_token(tokens.ValueToken)?(token=this.get_token(),this.check_token(tokens.KeyToken,tokens.ValueToken,tokens.BlockEndToken)?(this.state="parse_block_mapping_key",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_block_mapping_key"),this.parse_block_node_or_indentless_sequence())):(this.state="parse_block_mapping_key",token=this.peek_token(),this.process_empty_scalar(token.start_mark))},Parser.prototype.parse_flow_sequence_first_entry=function(){var token;return token=this.get_token(),this.marks.push(token.start_mark),this.parse_flow_sequence_entry(!0)},Parser.prototype.parse_flow_sequence_entry=function(first){var event,token;if(null==first&&(first=!1),!this.check_token(tokens.FlowSequenceEndToken)){if(!first){if(!this.check_token(tokens.FlowEntryToken))throw token=this.peek_token(),new exports.ParserError("while parsing a flow sequence",this.marks.slice(-1)[0],"expected ',' or ']', but got "+token.id,token.start_mark);this.get_token()}if(this.check_token(tokens.KeyToken))return token=this.peek_token(),event=new events.MappingStartEvent(null,null,!0,token.start_mark,token.end_mark,!0),this.state="parse_flow_sequence_entry_mapping_key",event;if(!this.check_token(tokens.FlowSequenceEndToken))return this.states.push("parse_flow_sequence_entry"),this.parse_flow_node()}return token=this.get_token(),event=new events.SequenceEndEvent(token.start_mark,token.end_mark),this.state=this.states.pop(),this.marks.pop(),event},Parser.prototype.parse_flow_sequence_entry_mapping_key=function(){var token;return token=this.get_token(),this.check_token(tokens.ValueToken,tokens.FlowEntryToken,tokens.FlowSequenceEndToken)?(this.state="parse_flow_sequence_entry_mapping_value",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_flow_sequence_entry_mapping_value"),this.parse_flow_node())},Parser.prototype.parse_flow_sequence_entry_mapping_value=function(){var token;return this.check_token(tokens.ValueToken)?(token=this.get_token(),this.check_token(tokens.FlowEntryToken,tokens.FlowSequenceEndToken)?(this.state="parse_flow_sequence_entry_mapping_end",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_flow_sequence_entry_mapping_end"),this.parse_flow_node())):(this.state="parse_flow_sequence_entry_mapping_end",token=this.peek_token(),this.process_empty_scalar(token.start_mark))},Parser.prototype.parse_flow_sequence_entry_mapping_end=function(){var token;return this.state="parse_flow_sequence_entry",token=this.peek_token(),new events.MappingEndEvent(token.start_mark,token.start_mark)},Parser.prototype.parse_flow_mapping_first_key=function(){var token;return token=this.get_token(),this.marks.push(token.start_mark),this.parse_flow_mapping_key(!0)},Parser.prototype.parse_flow_mapping_key=function(first){var event,token;if(null==first&&(first=!1),!this.check_token(tokens.FlowMappingEndToken)){if(!first){if(!this.check_token(tokens.FlowEntryToken))throw token=this.peek_token(),new exports.ParserError("while parsing a flow mapping",this.marks.slice(-1)[0],"expected ',' or '}', but got "+token.id,token.start_mark);this.get_token()}if(this.check_token(tokens.KeyToken))return token=this.get_token(),this.check_token(tokens.ValueToken,tokens.FlowEntryToken,tokens.FlowMappingEndToken)?(this.state="parse_flow_mapping_value",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_flow_mapping_value"),this.parse_flow_node());if(!this.check_token(tokens.FlowMappingEndToken))return this.states.push("parse_flow_mapping_empty_value"),this.parse_flow_node()}return token=this.get_token(),event=new events.MappingEndEvent(token.start_mark,token.end_mark),this.state=this.states.pop(),this.marks.pop(),event},Parser.prototype.parse_flow_mapping_value=function(){var token;return this.check_token(tokens.ValueToken)?(token=this.get_token(),this.check_token(tokens.FlowEntryToken,tokens.FlowMappingEndToken)?(this.state="parse_flow_mapping_key",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_flow_mapping_key"),this.parse_flow_node())):(this.state="parse_flow_mapping_key",token=this.peek_token(),this.process_empty_scalar(token.start_mark))},Parser.prototype.parse_flow_mapping_empty_value=function(){return this.state="parse_flow_mapping_key",this.process_empty_scalar(this.peek_token().start_mark)},Parser.prototype.process_empty_scalar=function(mark){return new events.ScalarEvent(null,null,[!0,!1],"",mark,mark)},Parser}()}.call(this)},{"./errors":1,"./events":2,"./tokens":3}],18:[function(require,module,exports){!function(){var Mark,YAMLError,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1};_ref=require("./errors"),Mark=_ref.Mark,YAMLError=_ref.YAMLError,this.ReaderError=function(_super){function ReaderError(name,position,character,reason){this.name=name,this.position=position,this.character=character,this.reason=reason,ReaderError.__super__.constructor.call(this)}return __extends(ReaderError,_super),ReaderError.prototype.toString=function(){return"unacceptable character "+this.character.charCodeAt()+": "+this.reason+'\n  in "'+this.name+'", position '+this.position},ReaderError
}(YAMLError),this.Reader=function(){function Reader(string,src){this.string=string,this.src=src,this.line=0,this.column=0,this.index=0,this.check_printable(),this.string+="\0"}var NON_PRINTABLE;return NON_PRINTABLE=/[^\x09\x0A\x0D\x20-\x7E\x85\xA0-\uD7FF\uE000-\uFFFD]/,Reader.prototype.peek=function(index){return null==index&&(index=0),this.string[this.index+index]},Reader.prototype.prefix=function(length){return null==length&&(length=1),this.string.slice(this.index,this.index+length)},Reader.prototype.forward=function(length){var char,_results;for(null==length&&(length=1),_results=[];length;)char=this.string[this.index],this.index++,__indexOf.call("\n₂\u2029",char)>=0||"\r"===char&&"\n"!==this.string[this.index]?(this.line++,this.column=0):this.column++,_results.push(length--);return _results},Reader.prototype.get_mark=function(){return new Mark(this.src,this.line,this.column,this.string,this.index)},Reader.prototype.check_printable=function(){var character,match,position;if(match=NON_PRINTABLE.exec(this.string))throw character=match[0],position=this.string.length-this.index+match.index,new exports.ReaderError(this.name,position,character.charCodeAt(),"special characters are not allowed")},Reader}()}.call(this)},{"./errors":1}],21:[function(require){!function(){var YAMLError,nodes,util,_ref,_ref1,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1};nodes=require("./nodes"),util=require("./util"),YAMLError=require("./errors").YAMLError,this.ResolverError=function(_super){function ResolverError(){return _ref=ResolverError.__super__.constructor.apply(this,arguments)}return __extends(ResolverError,_super),ResolverError}(YAMLError),this.BaseResolver=function(){function BaseResolver(){this.resolver_exact_paths=[],this.resolver_prefix_paths=[]}var DEFAULT_MAPPING_TAG,DEFAULT_SCALAR_TAG,DEFAULT_SEQUENCE_TAG;return DEFAULT_SCALAR_TAG="tag:yaml.org,2002:str",DEFAULT_SEQUENCE_TAG="tag:yaml.org,2002:seq",DEFAULT_MAPPING_TAG="tag:yaml.org,2002:map",BaseResolver.prototype.yaml_implicit_resolvers={},BaseResolver.prototype.yaml_path_resolvers={},BaseResolver.add_implicit_resolver=function(tag,regexp,first){var char,_base,_i,_len,_results;for(null==first&&(first=[null]),this.prototype.hasOwnProperty("yaml_implicit_resolvers")||(this.prototype.yaml_implicit_resolvers=util.extend({},this.prototype.yaml_implicit_resolvers)),_results=[],_i=0,_len=first.length;_len>_i;_i++)char=first[_i],_results.push((null!=(_base=this.prototype.yaml_implicit_resolvers)[char]?(_base=this.prototype.yaml_implicit_resolvers)[char]:_base[char]=[]).push([tag,regexp]));return _results},BaseResolver.prototype.descend_resolver=function(current_node,current_index){var depth,exact_paths,kind,path,prefix_paths,_i,_j,_len,_len1,_ref1,_ref2,_ref3,_ref4;if(!util.is_empty(this.yaml_path_resolvers)){if(exact_paths={},prefix_paths=[],current_node)for(depth=this.resolver_prefix_paths.length,_ref1=this.resolver_prefix_paths.slice(-1)[0],_i=0,_len=_ref1.length;_len>_i;_i++)_ref2=_ref1[_i],path=_ref2[0],kind=_ref2[1],this.check_resolver_prefix(depth,path,kind,current_node,current_index)&&(path.length>depth?prefix_paths.push([path,kind]):exact_paths[kind]=this.yaml_path_resolvers[path][kind]);else for(_ref3=this.yaml_path_resolvers,_j=0,_len1=_ref3.length;_len1>_j;_j++)_ref4=_ref3[_j],path=_ref4[0],kind=_ref4[1],path?prefix_paths.push([path,kind]):exact_paths[kind]=this.yaml_path_resolvers[path][kind];return this.resolver_exact_paths.push(exact_paths),this.resolver_prefix_paths.push(prefix_paths)}},BaseResolver.prototype.ascend_resolver=function(){return util.is_empty(this.yaml_path_resolvers)?void 0:(this.resolver_exact_paths.pop(),this.resolver_prefix_paths.pop())},BaseResolver.prototype.check_resolver_prefix=function(depth,path,kind,current_node,current_index){var index_check,node_check,_ref1;if(_ref1=path[depth-1],node_check=_ref1[0],index_check=_ref1[1],"string"==typeof node_check){if(current_node.tag!==node_check)return}else if(null!==node_check&&!(current_node instanceof node_check))return;if((index_check!==!0||null===current_index)&&(index_check!==!1&&null!==index_check||null!==current_index)){if("string"==typeof index_check){if(!(current_index instanceof nodes.ScalarNode)&&index_check===current_index.value)return}else if("number"==typeof index_check&&index_check!==current_index)return;return!0}},BaseResolver.prototype.resolve=function(kind,value,implicit){var empty,exact_paths,k,regexp,resolvers,tag,_i,_len,_ref1,_ref2,_ref3,_ref4;if(kind===nodes.ScalarNode&&implicit[0]){for(resolvers=""===value?null!=(_ref1=this.yaml_implicit_resolvers[""])?_ref1:[]:null!=(_ref2=this.yaml_implicit_resolvers[value[0]])?_ref2:[],resolvers=resolvers.concat(null!=(_ref3=this.yaml_implicit_resolvers[null])?_ref3:[]),_i=0,_len=resolvers.length;_len>_i;_i++)if(_ref4=resolvers[_i],tag=_ref4[0],regexp=_ref4[1],value.match(regexp))return tag;implicit=implicit[1]}empty=!0;for(k in this.yaml_path_resolvers)null=={}[k]&&(empty=!1);if(!empty){if(exact_paths=this.resolver_exact_paths.slice(-1)[0],__indexOf.call(exact_paths,kind)>=0)return exact_paths[kind];if(__indexOf.call(exact_paths,null)>=0)return exact_paths[null]}return kind===nodes.ScalarNode?DEFAULT_SCALAR_TAG:kind===nodes.SequenceNode?DEFAULT_SEQUENCE_TAG:kind===nodes.MappingNode?DEFAULT_MAPPING_TAG:void 0},BaseResolver}(),this.Resolver=function(_super){function Resolver(){return _ref1=Resolver.__super__.constructor.apply(this,arguments)}return __extends(Resolver,_super),Resolver}(this.BaseResolver),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:bool",/^(?:yes|Yes|YES|true|True|TRUE|on|On|ON|no|No|NO|false|False|FALSE|off|Off|OFF)$/,"yYnNtTfFoO"),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:float",/^(?:[-+]?(?:[0-9][0-9_]*)\.[0-9_]*(?:[eE][-+][0-9]+)?|\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*|[-+]?\.(?:inf|Inf|INF)|\.(?:nan|NaN|NAN))$/,"-+0123456789."),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:int",/^(?:[-+]?0b[01_]+|[-+]?0[0-7_]+|[-+]?(?:0|[1-9][0-9_]*)|[-+]?0x[0-9a-fA-F_]+|[-+]?0o[0-7_]+|[-+]?[1-9][0-9_]*(?::[0-5]?[0-9])+)$/,"-+0123456789"),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:merge",/^(?:<<)$/,"<"),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:null",/^(?:~|null|Null|NULL|)$/,["~","n","N",""]),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:timestamp",/^(?:[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]|[0-9][0-9][0-9][0-9]-[0-9][0-9]?-[0-9][0-9]?(?:[Tt]|[\x20\t]+)[0-9][0-9]?:[0-9][0-9]:[0-9][0-9](?:\.[0-9]*)?(?:[\x20\t]*(?:Z|[-+][0-9][0-9]?(?::[0-9][0-9])?))?)$/,"0123456789"),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:value",/^(?:=)$/,"="),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:yaml",/^(?:!|&|\*)$/,"!&*")}.call(this)},{"./errors":1,"./nodes":13,"./util":4}],19:[function(require,module,exports){!function(){var MarkedYAMLError,SimpleKey,tokens,util,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},__slice=[].slice,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1};MarkedYAMLError=require("./errors").MarkedYAMLError,tokens=require("./tokens"),util=require("./util"),this.ScannerError=function(_super){function ScannerError(){return _ref=ScannerError.__super__.constructor.apply(this,arguments)}return __extends(ScannerError,_super),ScannerError}(MarkedYAMLError),SimpleKey=function(){function SimpleKey(token_number,required,index,line,column,mark){this.token_number=token_number,this.required=required,this.index=index,this.line=line,this.column=column,this.mark=mark}return SimpleKey}(),this.Scanner=function(){function Scanner(){this.done=!1,this.flow_level=0,this.tokens=[],this.fetch_stream_start(),this.tokens_taken=0,this.indent=-1,this.indents=[],this.allow_simple_key=!0,this.possible_simple_keys={}}var C_LB,C_NUMBERS,C_WS,ESCAPE_CODES,ESCAPE_REPLACEMENTS;return C_LB="\r\n\u2028\u2029",C_WS="	 ",C_NUMBERS="0123456789",ESCAPE_REPLACEMENTS={0:"\0",a:"",b:"\b",t:"	","	":"	",n:"\n",v:"",f:"\f",r:"\r",e:""," ":" ",'"':'"',"\\":"\\",N:"",_:" ",L:"\u2028",P:"\u2029"},ESCAPE_CODES={x:2,u:4,U:8},Scanner.prototype.check_token=function(){var choice,choices,_i,_len;for(choices=1<=arguments.length?__slice.call(arguments,0):[];this.need_more_tokens();)this.fetch_more_tokens();if(0!==this.tokens.length){if(0===choices.length)return!0;for(_i=0,_len=choices.length;_len>_i;_i++)if(choice=choices[_i],this.tokens[0]instanceof choice)return!0}return!1},Scanner.prototype.peek_token=function(){for(;this.need_more_tokens();)this.fetch_more_tokens();return 0!==this.tokens.length?this.tokens[0]:void 0},Scanner.prototype.get_token=function(){for(;this.need_more_tokens();)this.fetch_more_tokens();return 0!==this.tokens.length?(this.tokens_taken++,this.tokens.shift()):void 0},Scanner.prototype.need_more_tokens=function(){return this.done?!1:0===this.tokens.length?!0:(this.stale_possible_simple_keys(),this.next_possible_simple_key()===this.tokens_taken?!0:!1)},Scanner.prototype.fetch_more_tokens=function(){var char;if(this.scan_to_next_token(),this.stale_possible_simple_keys(),this.unwind_indent(this.column),char=this.peek(),"\0"===char)return this.fetch_stream_end();if("%"===char&&this.check_directive())return this.fetch_directive();if("-"===char&&this.check_document_start())return this.fetch_document_start();if("."===char&&this.check_document_end())return this.fetch_document_end();if("["===char)return this.fetch_flow_sequence_start();if("{"===char)return this.fetch_flow_mapping_start();if("]"===char)return this.fetch_flow_sequence_end();if("}"===char)return this.fetch_flow_mapping_end();if(","===char)return this.fetch_flow_entry();if("-"===char&&this.check_block_entry())return this.fetch_block_entry();if("?"===char&&this.check_key())return this.fetch_key();if(":"===char&&this.check_value())return this.fetch_value();if("*"===char)return this.fetch_alias();if("&"===char)return this.fetch_anchor();if("!"===char)return this.fetch_tag();if("|"===char&&0===this.flow_level)return this.fetch_literal();if(">"===char&&0===this.flow_level)return this.fetch_folded();if("'"===char)return this.fetch_single();if('"'===char)return this.fetch_double();if(this.check_plain())return this.fetch_plain();throw new exports.ScannerError("while scanning for the next token",null,"found character "+char+" that cannot start any token",this.get_mark())},Scanner.prototype.next_possible_simple_key=function(){var key,level,min_token_number,_ref1;min_token_number=null,_ref1=this.possible_simple_keys;for(level in _ref1)__hasProp.call(_ref1,level)&&(key=_ref1[level],(null===min_token_number||key.token_number<min_token_number)&&(min_token_number=key.token_number));return min_token_number},Scanner.prototype.stale_possible_simple_keys=function(){var key,level,_ref1,_results;_ref1=this.possible_simple_keys,_results=[];for(level in _ref1)if(__hasProp.call(_ref1,level)&&(key=_ref1[level],!(key.line===this.line&&this.index-key.index<=1024))){if(key.required)throw new exports.ScannerError("while scanning a simple key",key.mark,"could not find expected ':'",this.get_mark());_results.push(delete this.possible_simple_keys[level])}return _results},Scanner.prototype.save_possible_simple_key=function(){var required,token_number;if(required=0===this.flow_level&&this.indent===this.column,required&&!this.allow_simple_key)throw new Error("logic failure");return this.allow_simple_key?(this.remove_possible_simple_key(),token_number=this.tokens_taken+this.tokens.length,this.possible_simple_keys[this.flow_level]=new SimpleKey(token_number,required,this.index,this.line,this.column,this.get_mark())):void 0},Scanner.prototype.remove_possible_simple_key=function(){var key;if(key=this.possible_simple_keys[this.flow_level]){if(key.required)throw new exports.ScannerError("while scanning a simple key",key.mark,"could not find expected ':'",this.get_mark());return delete this.possible_simple_keys[this.flow_level]}},Scanner.prototype.unwind_indent=function(column){var mark,_results;if(0===this.flow_level){for(_results=[];this.indent>column;)mark=this.get_mark(),this.indent=this.indents.pop(),_results.push(this.tokens.push(new tokens.BlockEndToken(mark,mark)));return _results}},Scanner.prototype.add_indent=function(column){return column>this.indent?(this.indents.push(this.indent),this.indent=column,!0):!1},Scanner.prototype.fetch_stream_start=function(){var mark;return mark=this.get_mark(),this.tokens.push(new tokens.StreamStartToken(mark,mark,this.encoding))},Scanner.prototype.fetch_stream_end=function(){var mark;return this.unwind_indent(-1),this.remove_possible_simple_key(),this.allow_possible_simple_key=!1,this.possible_simple_keys={},mark=this.get_mark(),this.tokens.push(new tokens.StreamEndToken(mark,mark)),this.done=!0},Scanner.prototype.fetch_directive=function(){return this.unwind_indent(-1),this.remove_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_directive())},Scanner.prototype.fetch_document_start=function(){return this.fetch_document_indicator(tokens.DocumentStartToken)},Scanner.prototype.fetch_document_end=function(){return this.fetch_document_indicator(tokens.DocumentEndToken)},Scanner.prototype.fetch_document_indicator=function(TokenClass){var start_mark;return this.unwind_indent(-1),this.remove_possible_simple_key(),this.allow_simple_key=!1,start_mark=this.get_mark(),this.forward(3),this.tokens.push(new TokenClass(start_mark,this.get_mark()))},Scanner.prototype.fetch_flow_sequence_start=function(){return this.fetch_flow_collection_start(tokens.FlowSequenceStartToken)},Scanner.prototype.fetch_flow_mapping_start=function(){return this.fetch_flow_collection_start(tokens.FlowMappingStartToken)},Scanner.prototype.fetch_flow_collection_start=function(TokenClass){var start_mark;return this.save_possible_simple_key(),this.flow_level++,this.allow_simple_key=!0,start_mark=this.get_mark(),this.forward(),this.tokens.push(new TokenClass(start_mark,this.get_mark()))},Scanner.prototype.fetch_flow_sequence_end=function(){return this.fetch_flow_collection_end(tokens.FlowSequenceEndToken)},Scanner.prototype.fetch_flow_mapping_end=function(){return this.fetch_flow_collection_end(tokens.FlowMappingEndToken)},Scanner.prototype.fetch_flow_collection_end=function(TokenClass){var start_mark;return this.remove_possible_simple_key(),this.flow_level--,this.allow_simple_key=!1,start_mark=this.get_mark(),this.forward(),this.tokens.push(new TokenClass(start_mark,this.get_mark()))},Scanner.prototype.fetch_flow_entry=function(){var start_mark;return this.allow_simple_key=!0,this.remove_possible_simple_key(),start_mark=this.get_mark(),this.forward(),this.tokens.push(new tokens.FlowEntryToken(start_mark,this.get_mark()))},Scanner.prototype.fetch_block_entry=function(){var mark,start_mark;if(0===this.flow_level){if(!this.allow_simple_key)throw new exports.ScannerError(null,null,"sequence entries are not allowed here",this.get_mark());this.add_indent(this.column)&&(mark=this.get_mark(),this.tokens.push(new tokens.BlockSequenceStartToken(mark,mark)))}return this.allow_simple_key=!0,this.remove_possible_simple_key(),start_mark=this.get_mark(),this.forward(),this.tokens.push(new tokens.BlockEntryToken(start_mark,this.get_mark()))},Scanner.prototype.fetch_key=function(){var mark,start_mark;if(0===this.flow_level){if(!this.allow_simple_key)throw new exports.ScannerError(null,null,"mapping keys are not allowed here",this.et_mark());this.add_indent(this.column)&&(mark=this.get_mark(),this.tokens.push(new tokens.BlockMappingStartToken(mark,mark)))}return this.allow_simple_key=!this.flow_level,this.remove_possible_simple_key(),start_mark=this.get_mark(),this.forward(),this.tokens.push(new tokens.KeyToken(start_mark,this.get_mark()))},Scanner.prototype.fetch_value=function(){var key,mark,start_mark;if(key=this.possible_simple_keys[this.flow_level])delete this.possible_simple_keys[this.flow_level],this.tokens.splice(key.token_number-this.tokens_taken,0,new tokens.KeyToken(key.mark,key.mark)),0===this.flow_level&&this.add_indent(key.column)&&this.tokens.splice(key.token_number-this.tokens_taken,0,new tokens.BlockMappingStartToken(key.mark,key.mark)),this.allow_simple_key=!1;else{if(0===this.flow_level){if(!this.allow_simple_key)throw new exports.ScannerError(null,null,"mapping values are not allowed here",this.get_mark());this.add_indent(this.column)&&(mark=this.get_mark(),this.tokens.push(new tokens.BlockMappingStartToken(mark,mark)))}this.allow_simple_key=!this.flow_level,this.remove_possible_simple_key()}return start_mark=this.get_mark(),this.forward(),this.tokens.push(new tokens.ValueToken(start_mark,this.get_mark()))},Scanner.prototype.fetch_alias=function(){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_anchor(tokens.AliasToken))},Scanner.prototype.fetch_anchor=function(){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_anchor(tokens.AnchorToken))},Scanner.prototype.fetch_tag=function(){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_tag())},Scanner.prototype.fetch_literal=function(){return this.fetch_block_scalar("|")},Scanner.prototype.fetch_folded=function(){return this.fetch_block_scalar(">")},Scanner.prototype.fetch_block_scalar=function(style){return this.allow_simple_key=!0,this.remove_possible_simple_key(),this.tokens.push(this.scan_block_scalar(style))},Scanner.prototype.fetch_single=function(){return this.fetch_flow_scalar("'")},Scanner.prototype.fetch_double=function(){return this.fetch_flow_scalar('"')},Scanner.prototype.fetch_flow_scalar=function(style){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_flow_scalar(style))},Scanner.prototype.fetch_plain=function(){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_plain())},Scanner.prototype.check_directive=function(){return 0===this.column?!0:!1},Scanner.prototype.check_document_start=function(){var _ref1;return 0===this.column&&"---"===this.prefix(3)&&(_ref1=this.peek(3),__indexOf.call(C_LB+C_WS+"\0",_ref1)>=0)?!0:!1},Scanner.prototype.check_document_end=function(){var _ref1;return 0===this.column&&"..."===this.prefix(3)&&(_ref1=this.peek(3),__indexOf.call(C_LB+C_WS+"\0",_ref1)>=0)?!0:!1},Scanner.prototype.check_block_entry=function(){var _ref1;return _ref1=this.peek(1),__indexOf.call(C_LB+C_WS+"\0",_ref1)>=0},Scanner.prototype.check_key=function(){var _ref1;return 0!==this.flow_level?!0:(_ref1=this.peek(1),__indexOf.call(C_LB+C_WS+"\0",_ref1)>=0)},Scanner.prototype.check_value=function(){var _ref1;return 0!==this.flow_level?!0:(_ref1=this.peek(1),__indexOf.call(C_LB+C_WS+"\0",_ref1)>=0)},Scanner.prototype.check_plain=function(){var char,_ref1;return char=this.peek(),__indexOf.call(C_LB+C_WS+"\0-?:,[]{}#&*!|>'\"%@`",char)<0||(_ref1=this.peek(1),__indexOf.call(C_LB+C_WS+"\0",_ref1)<0&&("-"===char||0===this.flow_level&&__indexOf.call("?:",char)>=0))},Scanner.prototype.scan_to_next_token=function(){var found,_ref1,_results;for(0===this.index&&"﻿"===this.peek()&&this.forward(),found=!1,_results=[];!found;){for(;" "===this.peek();)this.forward();if("#"===this.peek())for(;_ref1=this.peek(),__indexOf.call(C_LB+"\0",_ref1)<0;)this.forward();this.scan_line_break()?0===this.flow_level?_results.push(this.allow_simple_key=!0):_results.push(void 0):_results.push(found=!0)}return _results},Scanner.prototype.scan_directive=function(){var end_mark,name,start_mark,value,_ref1;if(start_mark=this.get_mark(),this.forward(),name=this.scan_directive_name(start_mark),value=null,"YAML"===name)value=this.scan_yaml_directive_value(start_mark),end_mark=this.get_mark();else if("TAG"===name)value=this.scan_tag_directive_value(start_mark),end_mark=this.get_mark();else for(end_mark=this.get_mark();_ref1=this.peek(),__indexOf.call(C_LB+"\0",_ref1)<0;)this.forward();return this.scan_directive_ignored_line(start_mark),new tokens.DirectiveToken(name,value,start_mark,end_mark)},Scanner.prototype.scan_directive_name=function(start_mark){var char,length,value;for(length=0,char=this.peek(length);char>="0"&&"9">=char||char>="A"&&"Z">=char||char>="a"&&"z">=char||__indexOf.call("-_",char)>=0;)length++,char=this.peek(length);if(0===length)throw new exports.ScannerError("while scanning a directive",start_mark,"expected alphanumeric or numeric character but found "+char,this.get_mark());if(value=this.prefix(length),this.forward(length),char=this.peek(),__indexOf.call(C_LB+"\0 ",char)<0)throw new exports.ScannerError("while scanning a directive",start_mark,"expected alphanumeric or numeric character but found "+char,this.get_mark());return value},Scanner.prototype.scan_yaml_directive_value=function(start_mark){for(var major,minor,_ref1;" "===this.peek();)this.forward();if(major=this.scan_yaml_directive_number(start_mark),"."!==this.peek())throw new exports.ScannerError("while scanning a directive",start_mark,"expected a digit or '.' but found "+this.peek(),this.get_mark());if(this.forward(),minor=this.scan_yaml_directive_number(start_mark),_ref1=this.peek(),__indexOf.call(C_LB+"\0 ",_ref1)<0)throw new exports.ScannerError("while scanning a directive",start_mark,"expected a digit or ' ' but found "+this.peek(),this.get_mark());return[major,minor]},Scanner.prototype.scan_yaml_directive_number=function(start_mark){var char,length,value,_ref1;if(char=this.peek(),!(char>="0"&&"9">=char))throw new exports.ScannerError("while scanning a directive",start_mark,"expected a digit but found "+char,this.get_mark());for(length=0;"0"<=(_ref1=this.peek(length))&&"9">=_ref1;)length++;return value=parseInt(this.prefix(length)),this.forward(length),value},Scanner.prototype.scan_tag_directive_value=function(start_mark){for(var handle,prefix;" "===this.peek();)this.forward();for(handle=this.scan_tag_directive_handle(start_mark);" "===this.peek();)this.forward();return prefix=this.scan_tag_directive_prefix(start_mark),[handle,prefix]},Scanner.prototype.scan_tag_directive_handle=function(start_mark){var char,value;if(value=this.scan_tag_handle("directive",start_mark),char=this.peek()," "!==char)throw new exports.ScannerError("while scanning a directive",start_mark,"expected ' ' but found "+char,this.get_mark());return value},Scanner.prototype.scan_tag_directive_prefix=function(start_mark){var char,value;if(value=this.scan_tag_uri("directive",start_mark),char=this.peek(),__indexOf.call(C_LB+"\0 ",char)<0)throw new exports.ScannerError("while scanning a directive",start_mark,"expected ' ' but found "+char,this.get_mark());return value},Scanner.prototype.scan_directive_ignored_line=function(start_mark){for(var char,_ref1;" "===this.peek();)this.forward();if("#"===this.peek())for(;_ref1=this.peek(),__indexOf.call(C_LB+"\0",_ref1)<0;)this.forward();if(char=this.peek(),__indexOf.call(C_LB+"\0",char)<0)throw new exports.ScannerError("while scanning a directive",start_mark,"expected a comment or a line break but found "+char,this.get_mark());return this.scan_line_break()},Scanner.prototype.scan_anchor=function(TokenClass){var char,indicator,length,name,start_mark,value;for(start_mark=this.get_mark(),indicator=this.peek(),name="*"===indicator?"alias":"anchor",this.forward(),length=0,char=this.peek(length);char>="0"&&"9">=char||char>="A"&&"Z">=char||char>="a"&&"z">=char||__indexOf.call("-_",char)>=0;)length++,char=this.peek(length);if(0===length)throw new exports.ScannerError("while scanning an "+name,start_mark,"expected alphabetic or numeric character but found '"+char+"'",this.get_mark());if(value=this.prefix(length),this.forward(length),char=this.peek(),__indexOf.call(C_LB+C_WS+"\0"+"?:,]}%@`",char)<0)throw new exports.ScannerError("while scanning an "+name,start_mark,"expected alphabetic or numeric character but found '"+char+"'",this.get_mark());return new TokenClass(value,start_mark,this.get_mark())},Scanner.prototype.scan_tag=function(){var char,handle,length,start_mark,suffix,use_handle;if(start_mark=this.get_mark(),char=this.peek(1),"<"===char){if(handle=null,this.forward(2),suffix=this.scan_tag_uri("tag",start_mark),">"!==this.peek())throw new exports.ScannerError("while parsing a tag",start_mark,"expected '>' but found "+this.peek(),this.get_mark());this.forward()}else if(__indexOf.call(C_LB+C_WS+"\0",char)>=0)handle=null,suffix="!",this.forward();else{for(length=1,use_handle=!1;__indexOf.call(C_LB+"\0 ",char)<0;){if("!"===char){use_handle=!0;break}length++,char=this.peek(length)}use_handle?handle=this.scan_tag_handle("tag",start_mark):(handle="!",this.forward()),suffix=this.scan_tag_uri("tag",start_mark)}if(char=this.peek(),__indexOf.call(C_LB+"\0 ",char)<0)throw new exports.ScannerError("while scanning a tag",start_mark,"expected ' ' but found "+char,this.get_mark());return new tokens.TagToken([handle,suffix],start_mark,this.get_mark())},Scanner.prototype.scan_block_scalar=function(style){var breaks,chomping,chunks,end_mark,folded,increment,indent,leading_non_space,length,line_break,max_indent,min_indent,start_mark,_ref1,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7;for(folded=">"===style,chunks=[],start_mark=this.get_mark(),this.forward(),_ref1=this.scan_block_scalar_indicators(start_mark),chomping=_ref1[0],increment=_ref1[1],this.scan_block_scalar_ignored_line(start_mark),min_indent=this.indent+1,1>min_indent&&(min_indent=1),null==increment?(_ref2=this.scan_block_scalar_indentation(),breaks=_ref2[0],max_indent=_ref2[1],end_mark=_ref2[2],indent=Math.max(min_indent,max_indent)):(indent=min_indent+increment-1,_ref3=this.scan_block_scalar_breaks(indent),breaks=_ref3[0],end_mark=_ref3[1]),line_break="";this.column===indent&&"\0"!==this.peek();){for(chunks=chunks.concat(breaks),_ref4=this.peek(),leading_non_space=__indexOf.call(" 	",_ref4)<0,length=0;_ref5=this.peek(length),__indexOf.call(C_LB+"\0",_ref5)<0;)length++;if(chunks.push(this.prefix(length)),this.forward(length),line_break=this.scan_line_break(),_ref6=this.scan_block_scalar_breaks(indent),breaks=_ref6[0],end_mark=_ref6[1],this.column!==indent||"\0"===this.peek())break;folded&&"\n"===line_break&&leading_non_space&&(_ref7=this.peek(),__indexOf.call(" 	",_ref7)<0)?util.is_empty(breaks)&&chunks.push(" "):chunks.push(line_break)}return chomping!==!1&&chunks.push(line_break),chomping===!0&&(chunks=chunks.concat(breaks)),new tokens.ScalarToken(chunks.join(""),!1,start_mark,end_mark,style)},Scanner.prototype.scan_block_scalar_indicators=function(start_mark){var char,chomping,increment;if(chomping=null,increment=null,char=this.peek(),__indexOf.call("+-",char)>=0){if(chomping="+"===char,this.forward(),char=this.peek(),__indexOf.call(C_NUMBERS,char)>=0){if(increment=parseInt(char),0===increment)throw new exports.ScannerError("while scanning a block scalar",start_mark,"expected indentation indicator in the range 1-9 but found 0",this.get_mark());this.forward()}}else if(__indexOf.call(C_NUMBERS,char)>=0){if(increment=parseInt(char),0===increment)throw new exports.ScannerError("while scanning a block scalar",start_mark,"expected indentation indicator in the range 1-9 but found 0",this.get_mark());this.forward(),char=this.peek(),__indexOf.call("+-",char)>=0&&(chomping="+"===char,this.forward())}if(char=this.peek(),__indexOf.call(C_LB+"\0 ",char)<0)throw new exports.ScannerError("while scanning a block scalar",start_mark,"expected chomping or indentation indicators, but found "+char,this.get_mark());return[chomping,increment]},Scanner.prototype.scan_block_scalar_ignored_line=function(start_mark){for(var char,_ref1;" "===this.peek();)this.forward();if("#"===this.peek())for(;_ref1=this.peek(),__indexOf.call(C_LB+"\0",_ref1)<0;)this.forward();if(char=this.peek(),__indexOf.call(C_LB+"\0",char)<0)throw new exports.ScannerError("while scanning a block scalar",start_mark,"expected a comment or a line break but found "+char,this.get_mark());return this.scan_line_break()},Scanner.prototype.scan_block_scalar_indentation=function(){var chunks,end_mark,max_indent,_ref1;for(chunks=[],max_indent=0,end_mark=this.get_mark();_ref1=this.peek(),__indexOf.call(C_LB+" ",_ref1)>=0;)" "!==this.peek()?(chunks.push(this.scan_line_break()),end_mark=this.get_mark()):(this.forward(),this.column>max_indent&&(max_indent=this.column));return[chunks,max_indent,end_mark]},Scanner.prototype.scan_block_scalar_breaks=function(indent){var chunks,end_mark,_ref1;for(chunks=[],end_mark=this.get_mark();this.column<indent&&" "===this.peek();)this.forward();for(;_ref1=this.peek(),__indexOf.call(C_LB,_ref1)>=0;)for(chunks.push(this.scan_line_break()),end_mark=this.get_mark();this.column<indent&&" "===this.peek();)this.forward();return[chunks,end_mark]},Scanner.prototype.scan_flow_scalar=function(style){var chunks,double,quote,start_mark;for(double='"'===style,chunks=[],start_mark=this.get_mark(),quote=this.peek(),this.forward(),chunks=chunks.concat(this.scan_flow_scalar_non_spaces(double,start_mark));this.peek()!==quote;)chunks=chunks.concat(this.scan_flow_scalar_spaces(double,start_mark)),chunks=chunks.concat(this.scan_flow_scalar_non_spaces(double,start_mark));return this.forward(),new tokens.ScalarToken(chunks.join(""),!1,start_mark,this.get_mark(),style)},Scanner.prototype.scan_flow_scalar_non_spaces=function(double,start_mark){var char,chunks,code,k,length,_i,_ref1;for(chunks=[];;){for(length=0;_ref1=this.peek(length),__indexOf.call(C_LB+C_WS+"'\"\\\0",_ref1)<0;)length++;if(0!==length&&(chunks.push(this.prefix(length)),this.forward(length)),char=this.peek(),double||"'"!==char||"'"!==this.peek(1))if(double&&"'"===char||!double&&__indexOf.call('"\\',char)>=0)chunks.push(char),this.forward();else{if(!double||"\\"!==char)return chunks;if(this.forward(),char=this.peek(),char in ESCAPE_REPLACEMENTS)chunks.push(ESCAPE_REPLACEMENTS[char]),this.forward();else if(char in ESCAPE_CODES){for(length=ESCAPE_CODES[char],this.forward(),k=_i=0;length>=0?length>_i:_i>length;k=length>=0?++_i:--_i)if(this.peek(__indexOf.call(C_NUMBERS+"ABCDEFabcdef",k)<0))throw new exports.ScannerError("while scanning a double-quoted scalar",start_mark,"expected escape sequence of "+length+" hexadecimal numbers, but              found "+this.peek(k),this.get_mark());code=parseInt(this.prefix(length),16),chunks.push(String.fromCharCode(code)),this.forward(length)}else{if(!(__indexOf.call(C_LB,char)>=0))throw new exports.ScannerError("while scanning a double-quoted scalar",start_mark,"found unknown escape character "+char,this.get_mark());this.scan_line_break(),chunks=chunks.concat(this.scan_flow_scalar_breaks(double,start_mark))}}else chunks.push("'"),this.forward(2)}},Scanner.prototype.scan_flow_scalar_spaces=function(double,start_mark){var breaks,char,chunks,length,line_break,whitespaces,_ref1;for(chunks=[],length=0;_ref1=this.peek(length),__indexOf.call(C_WS,_ref1)>=0;)length++;if(whitespaces=this.prefix(length),this.forward(length),char=this.peek(),"\0"===char)throw new exports.ScannerError("while scanning a quoted scalar",start_mark,"found unexpected end of stream",this.get_mark());return __indexOf.call(C_LB,char)>=0?(line_break=this.scan_line_break(),breaks=this.scan_flow_scalar_breaks(double,start_mark),"\n"!==line_break?chunks.push(line_break):breaks||chunks.push(" "),chunks=chunks.concat(breaks)):chunks.push(whitespaces),chunks},Scanner.prototype.scan_flow_scalar_breaks=function(double,start_mark){var chunks,prefix,_ref1,_ref2;for(chunks=[];;){if(prefix=this.prefix(3),"---"===prefix||"..."===prefix&&this.peek(__indexOf.call(C_LB+C_WS+"\0",3)>=0))throw new exports.ScannerError("while scanning a quoted scalar",start_mark,"found unexpected document separator",this.get_mark());
for(;_ref1=this.peek(),__indexOf.call(C_WS,_ref1)>=0;)this.forward();if(_ref2=this.peek(),!(__indexOf.call(C_LB,_ref2)>=0))return chunks;chunks.push(this.scan_line_break())}},Scanner.prototype.scan_plain=function(){var char,chunks,end_mark,indent,length,spaces,start_mark,_ref1,_ref2;for(chunks=[],start_mark=end_mark=this.get_mark(),indent=this.indent+1,spaces=[];;){if(length=0,"#"===this.peek())break;for(;;){if(char=this.peek(length),__indexOf.call(C_LB+C_WS+"\0",char)>=0||0===this.flow_level&&":"===char&&(_ref1=this.peek(length+1),__indexOf.call(C_LB+C_WS+"\0",_ref1)>=0)||0!==this.flow_level&&__indexOf.call(",:?[]{}",char)>=0)break;length++}if(0!==this.flow_level&&":"===char&&(_ref2=this.peek(length+1),__indexOf.call(C_LB+C_WS+"\0,[]{}",_ref2)<0))throw this.forward(length),new exports.ScannerError("while scanning a plain scalar",start_mark,"found unexpected ':'",this.get_mark(),"Please check http://pyyaml.org/wiki/YAMLColonInFlowContext");if(0===length)break;if(this.allow_simple_key=!1,chunks=chunks.concat(spaces),chunks.push(this.prefix(length)),this.forward(length),end_mark=this.get_mark(),spaces=this.scan_plain_spaces(indent,start_mark),null==spaces||0===spaces.length||"#"===this.peek()||0===this.flow_level&&this.column<indent)break}return new tokens.ScalarToken(chunks.join(""),!0,start_mark,end_mark)},Scanner.prototype.scan_plain_spaces=function(){var breaks,char,chunks,length,line_break,prefix,whitespaces,_ref1,_ref2;for(chunks=[],length=0;_ref1=this.peek(length),__indexOf.call(" ",_ref1)>=0;)length++;if(whitespaces=this.prefix(length),this.forward(length),char=this.peek(),__indexOf.call(C_LB,char)>=0){if(line_break=this.scan_line_break(),this.allow_simple_key=!0,prefix=this.prefix(3),"---"===prefix||"..."===prefix&&this.peek(__indexOf.call(C_LB+C_WS+"\0",3)>=0))return;for(breaks=[];_ref2=this.peek(),__indexOf.call(C_LB+" ",_ref2)>=0;)if(" "===this.peek())this.forward();else if(breaks.push(this.scan_line_break()),prefix=this.prefix(3),"---"===prefix||"..."===prefix&&this.peek(__indexOf.call(C_LB+C_WS+"\0",3)>=0))return;"\n"!==line_break?chunks.push(line_break):0===breaks.length&&chunks.push(" "),chunks=chunks.concat(breaks)}else whitespaces&&chunks.push(whitespaces);return chunks},Scanner.prototype.scan_tag_handle=function(name,start_mark){var char,length,value;if(char=this.peek(),"!"!==char)throw new exports.ScannerError("while scanning a "+name,start_mark,"expected '!' but found "+char,this.get_mark());if(length=1,char=this.peek(length)," "!==char){for(;char>="0"&&"9">=char||char>="A"&&"Z">=char||char>="a"&&"z">=char||__indexOf.call("-_",char)>=0;)length++,char=this.peek(length);if("!"!==char)throw this.forward(length),new exports.ScannerError("while scanning a "+name,start_mark,"expected '!' but found "+char,this.get_mark());length++}return value=this.prefix(length),this.forward(length),value},Scanner.prototype.scan_tag_uri=function(name,start_mark){var char,chunks,length;for(chunks=[],length=0,char=this.peek(length);char>="0"&&"9">=char||char>="A"&&"Z">=char||char>="a"&&"z">=char||__indexOf.call("-;/?:@&=+$,_.!~*'()[]%",char)>=0;)"%"===char?(chunks.push(this.prefix(length)),this.forward(length),length=0,chunks.push(this.scan_uri_escapes(name,start_mark))):length++,char=this.peek(length);if(0!==length&&(chunks.push(this.prefix(length)),this.forward(length),length=0),0===chunks.length)throw new exports.ScannerError("while parsing a "+name,start_mark,"expected URI but found "+char,this.get_mark());return chunks.join("")},Scanner.prototype.scan_uri_escapes=function(name,start_mark){var bytes,k,mark,_i;for(bytes=[],mark=this.get_mark();"%"===this.peek();){for(this.forward(),k=_i=0;2>=_i;k=++_i)throw new exports.ScannerError("while scanning a "+name,start_mark,"expected URI escape sequence of 2 hexadecimal numbers but found          "+this.peek(k),this.get_mark());bytes.push(String.fromCharCode(parseInt(this.prefix(2),16))),this.forward(2)}return bytes.join("")},Scanner.prototype.scan_line_break=function(){var char;return char=this.peek(),__indexOf.call("\r\n",char)>=0?("\r\n"===this.prefix(2)?this.forward(2):this.forward(),"\n"):__indexOf.call("\u2028\u2029",char)>=0?(this.forward(),char):""},Scanner}()}.call(this)},{"./errors":1,"./tokens":3,"./util":4}],23:[function(require){!function(){var MarkedYAMLError,nodes,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};MarkedYAMLError=require("./errors").MarkedYAMLError,nodes=require("./nodes"),this.TraitError=function(_super){function TraitError(){return _ref=TraitError.__super__.constructor.apply(this,arguments)}return __extends(TraitError,_super),TraitError}(MarkedYAMLError),this.Traits=function(){function Traits(){this.declaredTraits=[]}return Traits.prototype.has_traits=function(node){return this.has_property(node,/^traits$/i)&&(this.declaredTraits=this.property_value(node,/^traits$/i)),this.declaredTraits.length>0},Traits.prototype.apply_traits=function(node){var resources,_this=this;return this.check_is_map(node),this.has_traits(node)?(resources=this.child_resources(node),resources.forEach(function(resource){var uses;return _this.has_property(resource[1],/^use$/i)&&(uses=_this.property_value(resource[1],/^use$/i),uses.forEach(function(use){var temp,trait;return trait=_this.get_trait(_this.key_or_value(use)),temp=trait.clone(),temp.combine(resource[1]),resource[1]=temp})),resource[1].remove_question_mark_properties(),_this.apply_traits(resource[1])})):void 0},Traits.prototype.get_trait=function(traitName){var provides,trait;return trait=this.declaredTraits.filter(function(declaredTrait){return declaredTrait[0].value===traitName}),provides=trait[0][1].value.filter(function(property){return"provides"===property[0].value}),provides[0][1]},Traits}()}.call(this)},{"./errors":1,"./nodes":13}],8:[function(require,module,exports){function promote(parent,key){if(0==parent[key].length)return parent[key]={};var t={};for(var i in parent[key])t[i]=parent[key][i];return parent[key]=t,t}function parse(parts,parent,key,val){var part=parts.shift();if(part){var obj=parent[key]=parent[key]||[];"]"==part?isArray(obj)?""!=val&&obj.push(val):"object"==typeof obj?obj[objectKeys(obj).length]=val:obj=parent[key]=[parent[key],val]:~indexOf(part,"]")?(part=part.substr(0,part.length-1),!isint.test(part)&&isArray(obj)&&(obj=promote(parent,key)),parse(parts,obj,part,val)):(!isint.test(part)&&isArray(obj)&&(obj=promote(parent,key)),parse(parts,obj,part,val))}else isArray(parent[key])?parent[key].push(val):parent[key]="object"==typeof parent[key]?val:"undefined"==typeof parent[key]?val:[parent[key],val]}function merge(parent,key,val){if(~indexOf(key,"]")){var parts=key.split("[");parts.length,parse(parts,parent,"base",val)}else{if(!isint.test(key)&&isArray(parent.base)){var t={};for(var k in parent.base)t[k]=parent.base[k];parent.base=t}set(parent.base,key,val)}return parent}function parseObject(obj){var ret={base:{}};return forEach(objectKeys(obj),function(name){merge(ret,name,obj[name])}),ret.base}function parseString(str){return reduce(String(str).split("&"),function(ret,pair){var eql=indexOf(pair,"="),brace=lastBraceInKey(pair),key=pair.substr(0,brace||eql),val=pair.substr(brace||eql,pair.length),val=val.substr(indexOf(val,"=")+1,val.length);return""==key&&(key=pair,val=""),""==key?ret:merge(ret,decode(key),decode(val))},{base:{}}).base}function stringifyString(str,prefix){if(!prefix)throw new TypeError("stringify expects an object");return prefix+"="+encodeURIComponent(str)}function stringifyArray(arr,prefix){var ret=[];if(!prefix)throw new TypeError("stringify expects an object");for(var i=0;i<arr.length;i++)ret.push(stringify(arr[i],prefix+"["+i+"]"));return ret.join("&")}function stringifyObject(obj,prefix){for(var key,ret=[],keys=objectKeys(obj),i=0,len=keys.length;len>i;++i)key=keys[i],null==obj[key]?ret.push(encodeURIComponent(key)+"="):ret.push(stringify(obj[key],prefix?prefix+"["+encodeURIComponent(key)+"]":encodeURIComponent(key)));return ret.join("&")}function set(obj,key,val){var v=obj[key];void 0===v?obj[key]=val:isArray(v)?v.push(val):obj[key]=[v,val]}function lastBraceInKey(str){for(var brace,c,len=str.length,i=0;len>i;++i)if(c=str[i],"]"==c&&(brace=!1),"["==c&&(brace=!0),"="==c&&!brace)return i}function decode(str){try{return decodeURIComponent(str.replace(/\+/g," "))}catch(err){return str}}var toString=Object.prototype.toString,indexOf="function"==typeof Array.prototype.indexOf?function(arr,el){return arr.indexOf(el)}:function(arr,el){for(var i=0;i<arr.length;i++)if(arr[i]===el)return i;return-1},isArray=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)},objectKeys=Object.keys||function(obj){var ret=[];for(var key in obj)ret.push(key);return ret},forEach="function"==typeof Array.prototype.forEach?function(arr,fn){return arr.forEach(fn)}:function(arr,fn){for(var i=0;i<arr.length;i++)fn(arr[i])},reduce=function(arr,fn,initial){if("function"==typeof arr.reduce)return arr.reduce(fn,initial);for(var res=initial,i=0;i<arr.length;i++)res=fn(res,arr[i]);return res},isint=/^[0-9]+$/;exports.parse=function(str){return null==str||""==str?{}:"object"==typeof str?parseObject(str):parseString(str)};var stringify=exports.stringify=function(obj,prefix){return isArray(obj)?stringifyArray(obj,prefix):"[object Object]"==toString.call(obj)?stringifyObject(obj,prefix):"string"==typeof obj?stringifyString(obj,prefix):prefix+"="+encodeURIComponent(String(obj))}},{}],11:[function(require,module,exports){!function(){var _ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};this.composer=require("./composer"),this.constructor=require("./construct"),this.errors=require("./errors"),this.events=require("./events"),this.loader=require("./loader"),this.nodes=require("./nodes"),this.parser=require("./parser"),this.reader=require("./reader"),this.resolver=require("./resolver"),this.scanner=require("./scanner"),this.tokens=require("./tokens"),this.q=require("q"),this.FileError=function(_super){function FileError(){return _ref=FileError.__super__.constructor.apply(this,arguments)}return __extends(FileError,_super),FileError}(this.errors.MarkedYAMLError),this.scan=function(stream,location){var loader,_results;for(loader=new exports.loader.Loader(stream,location),_results=[];loader.check_token();)_results.push(loader.get_token());return _results},this.parse=function(stream,location){var loader,_results;for(loader=new exports.loader.Loader(stream,location),_results=[];loader.check_event();)_results.push(loader.get_event());return _results},this.compose=function(stream,validate,apply,join,location){var loader;return null==validate&&(validate=!0),null==apply&&(apply=!0),null==join&&(join=!0),loader=new exports.loader.Loader(stream,location),loader.get_single_node(validate,apply,join)},this.load=function(stream,validate,location){var deferred,error,loader,result;null==validate&&(validate=!0),loader=new exports.loader.Loader(stream,location),deferred=new this.q.defer;try{result=loader.get_single_data(),deferred.resolve(result)}catch(_error){error=_error,deferred.reject(error)}return deferred.promise},this.resources=function(stream,validate,location){var deferred,error,loader,result;null==validate&&(validate=!0),loader=new exports.loader.Loader(stream,location),deferred=new this.q.defer;try{result=loader.resources(),deferred.resolve(result)}catch(_error){error=_error,deferred.reject(error)}return deferred.promise},this.loadFile=function(file,validate){var stream;return null==validate&&(validate=!0),stream=this.readFile(file),this.load(stream,validate,file)},this.composeFile=function(file,validate,apply,join){var stream;return null==validate&&(validate=!0),null==apply&&(apply=!0),null==join&&(join=!0),stream=this.readFile(file),this.compose(stream,validate,apply,join,file)},this.resourcesFile=function(file,validate){var stream;return null==validate&&(validate=!0),stream=this.readFile(file),this.resources(stream,validate,file)},this.readFile=function(file){var fs,url;if(url=require("url").parse(file),null!=url.protocol){if(url.protocol.match(/^https?/i))return this.fetchFile(file);throw new exports.FileError("while reading "+file,null,"unknown protocol "+url.protocol,this.start_mark)}if("undefined"==typeof window||null===window){if(fs=require("fs"),fs.existsSync(file))return fs.readFileSync(file).toString();throw new exports.FileError("while reading "+file,null,"cannot find "+file,this.start_mark)}return this.fetchFile(file)},this.fetchFile=function(file){var xhr;if(xhr="undefined"==typeof window||null===window?new(require("xmlhttprequest").XMLHttpRequest):new XMLHttpRequest,xhr.open("GET",file,!1),xhr.setRequestHeader("Accept","application/raml+yaml, */*"),xhr.send(null),"number"==typeof xhr.status&&200===xhr.status||"string"==typeof xhr.status&&xhr.status.match(/^200/i))return xhr.responseText;throw new exports.FileError("while reading "+file,null,"error "+xhr.status,this.start_mark)}}.call(this)},{"./composer":12,"./construct":15,"./errors":1,"./events":2,"./loader":17,"./nodes":13,"./parser":20,"./reader":18,"./resolver":21,"./scanner":19,"./tokens":3,fs:9,q:6,url:7,xmlhttprequest:24}],22:[function(require,module,exports){!function(){var MarkedYAMLError,nodes,uritemplate,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};MarkedYAMLError=require("./errors").MarkedYAMLError,nodes=require("./nodes"),uritemplate=require("uritemplate"),this.ValidationError=function(_super){function ValidationError(){return _ref=ValidationError.__super__.constructor.apply(this,arguments)}return __extends(ValidationError,_super),ValidationError}(MarkedYAMLError),this.ValidationErrors=function(_super){function ValidationErrors(validation_errors){this.validation_errors=validation_errors}return __extends(ValidationErrors,_super),ValidationErrors.prototype.get_validation_errors=function(){return this.validation_errors},ValidationErrors}(MarkedYAMLError),this.Validator=function(){function Validator(){this.validations=[this.has_title,this.valid_base_uri,this.validate_base_uri_parameters,this.valid_root_properties,this.validate_traits,this.valid_absolute_uris,this.valid_trait_consumption]}return Validator.prototype.validate_document=function(node){var _this=this;return this.validations.forEach(function(validation){return validation.call(_this,node)}),!0},Validator.prototype.validate_uri_parameters=function(uri,node){var child_resources,err,expressions,template,uriParameters,_this=this;if(this.check_is_map(node),this.has_property(node,/^uriParameters$/i)){try{template=uritemplate.parse(uri)}catch(_error){throw err=_error,new exports.ValidationError("while validating uri parameters",null,err.options.message,node.start_mark)}expressions=template.expressions.filter(function(expr){return expr.hasOwnProperty("templateText")}),uriParameters=this.property_value(node,/^uriParameters$/i),uriParameters.forEach(function(uriParameter){var found,uriParameterName;if(uriParameterName=uriParameter[0].value,found=expressions.filter(function(expression){return expression.templateText===uriParameterName}),0===found.length)throw new exports.ValidationError("while validating baseUri",null,uriParameterName+" uri parameter unused",uriParameter[0].start_mark)})}return child_resources=this.child_resources(node),child_resources.forEach(function(childResource){return _this.validate_uri_parameters(childResource[0].value,childResource[1])})},Validator.prototype.validate_base_uri_parameters=function(node){var baseUri;if(this.check_is_map(node),this.has_property(node,/^uriParameters$/i)){if(!this.has_property(node,/^baseUri$/i))throw new exports.ValidationError("while validating uri parameters",null,"uri parameters defined when there is no baseUri",node.start_mark);return baseUri=this.property_value(node,/^baseUri$/i),this.validate_uri_parameters(baseUri,node)}},Validator.prototype.validate_traits=function(node){var traits,_this=this;return this.check_is_map(node),this.has_property(node,/^traits$/i)?(traits=this.property_value(node,/^traits$/i),traits.forEach(function(trait){if(_this.valid_traits_properties(trait[1]),!_this.has_property(trait[1],/^provides$/i))throw new exports.ValidationError("while validating trait properties",null,"every trait must have a provides property",node.start_mark);if(!_this.has_property(trait[1],/^name$/i))throw new exports.ValidationError("while validating trait properties",null,"every trait must have a name property",node.start_mark)})):void 0},Validator.prototype.valid_traits_properties=function(node){var invalid;if(this.check_is_map(node),invalid=node.value.filter(function(childNode){return!(childNode[0].value.match(/^name$/i)||childNode[0].value.match(/^description$/i)||childNode[0].value.match(/^provides$/i))}),invalid.length>0)throw new exports.ValidationError("while validating trait properties",null,"unknown property "+invalid[0][0].value,node.start_mark)},Validator.prototype.valid_root_properties=function(node){var invalid;if(this.check_is_map(node),invalid=node.value.filter(function(childNode){return!(childNode[0].value.match(/^title$/i)||childNode[0].value.match(/^baseUri$/i)||childNode[0].value.match(/^version$/i)||childNode[0].value.match(/^traits$/i)||childNode[0].value.match(/^documentation$/i)||childNode[0].value.match(/^uriParameters$/i)||childNode[0].value.match(/^\//i))}),invalid.length>0)throw new exports.ValidationError("while validating root properties",null,"unknown property "+invalid[0][0].value,node.start_mark)},Validator.prototype.child_resources=function(node){return node.value.filter(function(childNode){return childNode[0].value.match(/^\//i)})},Validator.prototype.has_property=function(node,property){return node.value.some(function(childNode){return childNode[0].value.match(property)})},Validator.prototype.property_value=function(node,property){var filteredNodes;return filteredNodes=node.value.filter(function(childNode){return childNode[0].value.match(property)}),filteredNodes[0][1].value},Validator.prototype.check_is_map=function(node){if(!node instanceof nodes.MappingNode)throw new exports.ValidationError("while validating node",null,"must be a map",node.start_mark)},Validator.prototype.resources=function(node,parentPath){var child_resources,response,_this=this;return null==node&&(node=this.get_single_node(!0,!0,!1)),this.check_is_map(node),response=[],child_resources=this.child_resources(node),child_resources.forEach(function(childResource){var resourceResponse;return resourceResponse={},resourceResponse.methods=[],resourceResponse.uri=null!=parentPath?parentPath+childResource[0].value:childResource[0].value,_this.has_property(childResource[1],/^name$/i)&&(resourceResponse.name=_this.property_value(childResource[1],/^name$/i)),_this.has_property(childResource[1],/^get$/i)&&resourceResponse.methods.push("get"),_this.has_property(childResource[1],/^post$/i)&&resourceResponse.methods.push("post"),_this.has_property(childResource[1],/^put$/i)&&resourceResponse.methods.push("put"),_this.has_property(childResource[1],/^patch$/i)&&resourceResponse.methods.push("patch"),_this.has_property(childResource[1],/^delete$/i)&&resourceResponse.methods.push("delete"),_this.has_property(childResource[1],/^head$/i)&&resourceResponse.methods.push("head"),_this.has_property(childResource[1],/^options$/i)&&resourceResponse.methods.push("options"),resourceResponse.line=childResource[0].start_mark.line+1,resourceResponse.column=childResource[0].start_mark.column+1,null!=childResource[0].start_mark.name&&(resourceResponse.src=childResource[0].start_mark.name),response.push(resourceResponse),response=response.concat(_this.resources(childResource[1],resourceResponse.uri))}),response},Validator.prototype.valid_absolute_uris=function(node){var i,sorted_uris,uris,_i,_ref1,_results;if(uris=this.get_absolute_uris(node),sorted_uris=uris.sort(),sorted_uris.length>1){for(_results=[],i=_i=0,_ref1=sorted_uris.length;_ref1>=0?_ref1>_i:_i>_ref1;i=_ref1>=0?++_i:--_i){if(sorted_uris[i+1]===sorted_uris[i])throw new exports.ValidationError("while validating trait consumption",null,"two resources share same URI "+sorted_uris[i],null);_results.push(void 0)}return _results}},Validator.prototype.get_absolute_uris=function(node,parentPath){var child_resources,response,_this=this;return null==node&&(node=this.get_single_node(!0,!0,!1)),this.check_is_map(node),response=[],child_resources=this.child_resources(node),child_resources.forEach(function(childResource){var uri;return uri=null!=parentPath?parentPath+childResource[0].value:childResource[0].value,response.push(uri),response=response.concat(_this.get_absolute_uris(childResource[1],uri))}),response},Validator.prototype.key_or_value=function(node){return node instanceof nodes.ScalarNode?node.value:node instanceof nodes.MappingNode?node.value[0][0].value:console.log(node)},Validator.prototype.valid_trait_consumption=function(node,traits){var resources,_this=this;return null==traits&&(traits=void 0),this.check_is_map(node),null==traits&&this.has_property(node,/^traits$/i)&&(traits=this.property_value(node,/^traits$/i)),resources=this.child_resources(node),resources.forEach(function(resource){var uses;if(_this.has_property(resource[1],/^use$/i)){if(uses=_this.property_value(resource[1],/^use$/i),!(uses instanceof Array))throw new exports.ValidationError("while validating trait consumption",null,"use property must be an array",node.start_mark);uses.forEach(function(use){if(!traits.some(function(trait){return trait[0].value===_this.key_or_value(use)}))throw new exports.ValidationError("while validating trait consumption",null,"there is no trait named "+_this.key_or_value(use),node.start_mark)})}return _this.valid_trait_consumption(resource[1],traits)})},Validator.prototype.has_title=function(node){if(this.check_is_map(node),!this.has_property(node,/^title$/i))throw new exports.ValidationError("while validating title",null,"missing title",node.start_mark)},Validator.prototype.has_version=function(node){if(this.check_is_map(node),!this.has_property(node,/^version$/i))throw new exports.ValidationError("while validating version",null,"missing version",node.start_mark)},Validator.prototype.valid_base_uri=function(node){var baseUri,err,expression,expressions,template,_i,_len,_results;if(this.has_property(node,/^baseUri$/i)){baseUri=this.property_value(node,/^baseUri$/i);try{template=uritemplate.parse(baseUri)}catch(_error){throw err=_error,new exports.ValidationError("while validating baseUri",null,err.options.message,node.start_mark)}for(expressions=template.expressions.filter(function(expr){return expr.hasOwnProperty("templateText")}),_results=[],_i=0,_len=expressions.length;_len>_i;_i++)expression=expressions[_i],"version"===expression.templateText?_results.push(this.has_version(node)):_results.push(void 0);return _results}},Validator.prototype.get_validation_errors=function(){return this.validation_errors},Validator.prototype.is_valid=function(){return 0===this.validation_errors.length},Validator}()}.call(this)},{"./errors":1,"./nodes":13,uritemplate:25}],24:[function(require,module,exports){!function(process,Buffer){var Url=require("url"),spawn=require("child_process").spawn,fs=require("fs");exports.XMLHttpRequest=function(){var request,response,self=this,http=require("http"),https=require("https"),settings={},disableHeaderCheck=!1,defaultHeaders={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},headers=defaultHeaders,forbiddenRequestHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],forbiddenRequestMethods=["TRACE","TRACK","CONNECT"],sendFlag=!1,errorFlag=!1,listeners={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;var isAllowedHttpHeader=function(header){return disableHeaderCheck||header&&-1===forbiddenRequestHeaders.indexOf(header.toLowerCase())},isAllowedHttpMethod=function(method){return method&&-1===forbiddenRequestMethods.indexOf(method)};this.open=function(method,url,async,user,password){if(this.abort(),errorFlag=!1,!isAllowedHttpMethod(method))throw"SecurityError: Request method not allowed";settings={method:method,url:url.toString(),async:"boolean"!=typeof async?!0:async,user:user||null,password:password||null},setState(this.OPENED)},this.setDisableHeaderCheck=function(state){disableHeaderCheck=state},this.setRequestHeader=function(header,value){if(this.readyState!=this.OPENED)throw"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN";if(!isAllowedHttpHeader(header))return console.warn('Refused to set unsafe header "'+header+'"'),void 0;if(sendFlag)throw"INVALID_STATE_ERR: send flag is true";headers[header]=value},this.getResponseHeader=function(header){return"string"==typeof header&&this.readyState>this.OPENED&&response.headers[header.toLowerCase()]&&!errorFlag?response.headers[header.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||errorFlag)return"";var result="";for(var i in response.headers)"set-cookie"!==i&&"set-cookie2"!==i&&(result+=i+": "+response.headers[i]+"\r\n");return result.substr(0,result.length-2)},this.getRequestHeader=function(name){return"string"==typeof name&&headers[name]?headers[name]:""},this.send=function(data){if(this.readyState!=this.OPENED)throw"INVALID_STATE_ERR: connection must be opened before send() is called";if(sendFlag)throw"INVALID_STATE_ERR: send has already been called";var ssl=!1,local=!1,url=Url.parse(settings.url);switch(url.protocol){case"https:":ssl=!0;case"http:":var host=url.hostname;break;case"file:":local=!0;break;case void 0:case"":var host="localhost";break;default:throw"Protocol not supported."}if(local){if("GET"!==settings.method)throw"XMLHttpRequest: Only GET method is supported";if(settings.async)fs.readFile(url.pathname,"utf8",function(error,data){error?self.handleError(error):(self.status=200,self.responseText=data,setState(self.DONE))});else try{this.responseText=fs.readFileSync(url.pathname,"utf8"),this.status=200,setState(self.DONE)}catch(e){this.handleError(e)}}else{var port=url.port||(ssl?443:80),uri=url.pathname+(url.search?url.search:"");if(headers.Host=host,ssl&&443===port||80===port||(headers.Host+=":"+url.port),settings.user){"undefined"==typeof settings.password&&(settings.password="");var authBuf=new Buffer(settings.user+":"+settings.password);headers.Authorization="Basic "+authBuf.toString("base64")}"GET"===settings.method||"HEAD"===settings.method?data=null:data?(headers["Content-Length"]=Buffer.byteLength(data),headers["Content-Type"]||(headers["Content-Type"]="text/plain;charset=UTF-8")):"POST"===settings.method&&(headers["Content-Length"]=0);var options={host:host,port:port,path:uri,method:settings.method,headers:headers,agent:!1};if(errorFlag=!1,settings.async){var doRequest=ssl?https.request:http.request;sendFlag=!0,self.dispatchEvent("readystatechange"),request=doRequest(options,function(resp){response=resp,response.setEncoding("utf8"),setState(self.HEADERS_RECEIVED),self.status=response.statusCode,response.on("data",function(chunk){chunk&&(self.responseText+=chunk),sendFlag&&setState(self.LOADING)}),response.on("end",function(){sendFlag&&(setState(self.DONE),sendFlag=!1)}),response.on("error",function(error){self.handleError(error)})}).on("error",function(error){self.handleError(error)}),data&&request.write(data),request.end(),self.dispatchEvent("loadstart")}else{var syncFile=".node-xmlhttprequest-sync-"+process.pid;fs.writeFileSync(syncFile,"","utf8");var execString="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(ssl?"s":"")+".request;"+"var options = "+JSON.stringify(options)+";"+"var responseText = '';"+"var req = doRequest(options, function(response) {"+"response.setEncoding('utf8');"+"response.on('data', function(chunk) {"+"responseText += chunk;"+"});"+"response.on('end', function() {"+"fs.writeFileSync('"+syncFile+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');"+"});"+"response.on('error', function(error) {"+"fs.writeFileSync('"+syncFile+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');"+"});"+"}).on('error', function(error) {"+"fs.writeFileSync('"+syncFile+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');"+"});"+(data?"req.write('"+data.replace(/'/g,"\\'")+"');":"")+"req.end();";for(syncProc=spawn(process.argv[0],["-e",execString]);""==(self.responseText=fs.readFileSync(syncFile,"utf8")););if(syncProc.stdin.end(),fs.unlinkSync(syncFile),self.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var errorObj=self.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");self.handleError(errorObj)}else self.status=self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),self.responseText=self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),setState(self.DONE)}}},this.handleError=function(error){this.status=503,this.statusText=error,this.responseText=error.stack,errorFlag=!0,setState(this.DONE)},this.abort=function(){request&&(request.abort(),request=null),headers=defaultHeaders,this.responseText="",this.responseXML="",errorFlag=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!sendFlag||this.readyState===this.DONE||(sendFlag=!1,setState(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(event,callback){event in listeners||(listeners[event]=[]),listeners[event].push(callback)},this.removeEventListener=function(event,callback){event in listeners&&(listeners[event]=listeners[event].filter(function(ev){return ev!==callback}))},this.dispatchEvent=function(event){if("function"==typeof self["on"+event]&&self["on"+event](),event in listeners)for(var i=0,len=listeners[event].length;len>i;i++)listeners[event][i].call(self)};var setState=function(state){self.readyState!==state&&(self.readyState=state,(settings.async||self.readyState<self.OPENED||self.readyState===self.DONE)&&self.dispatchEvent("readystatechange"),self.readyState!==self.DONE||errorFlag||(self.dispatchEvent("load"),self.dispatchEvent("loadend")))}}}(require("__browserify_process"),require("__browserify_buffer").Buffer)},{__browserify_buffer:14,__browserify_process:5,child_process:26,fs:9,http:27,https:28,url:7}],25:[function(require,module){!function(global){!function(exportCallback){"use strict";function isDefined(object){var propertyName;if(null===object||void 0===object)return!1;if(objectHelper.isArray(object))return object.length>0;if("string"==typeof object||"number"==typeof object||"boolean"==typeof object)return!0;for(propertyName in object)if(object.hasOwnProperty(propertyName)&&isDefined(object[propertyName]))return!0;return!1}var UriTemplateError=function(){function UriTemplateError(options){this.options=options}return UriTemplateError.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},UriTemplateError}(),objectHelper=function(){function isArray(value){return"[object Array]"===Object.prototype.toString.apply(value)}function isString(value){return"[object String]"===Object.prototype.toString.apply(value)}function isNumber(value){return"[object Number]"===Object.prototype.toString.apply(value)
}function isBoolean(value){return"[object Boolean]"===Object.prototype.toString.apply(value)}function join(arr,separator){var index,result="",first=!0;for(index=0;index<arr.length;index+=1)first?first=!1:result+=separator,result+=arr[index];return result}function map(arr,mapper){for(var result=[],index=0;index<arr.length;index+=1)result.push(mapper(arr[index]));return result}function filter(arr,predicate){for(var result=[],index=0;index<arr.length;index+=1)predicate(arr[index])&&result.push(arr[index]);return result}function deepFreezeUsingObjectFreeze(object){if("object"!=typeof object||null===object)return object;Object.freeze(object);var property,propertyName;for(propertyName in object)object.hasOwnProperty(propertyName)&&(property=object[propertyName],"object"==typeof property&&deepFreeze(property));return object}function deepFreeze(object){return"function"==typeof Object.freeze?deepFreezeUsingObjectFreeze(object):object}return{isArray:isArray,isString:isString,isNumber:isNumber,isBoolean:isBoolean,join:join,map:map,filter:filter,deepFreeze:deepFreeze}}(),charHelper=function(){function isAlpha(chr){return chr>="a"&&"z">=chr||chr>="A"&&"Z">=chr}function isDigit(chr){return chr>="0"&&"9">=chr}function isHexDigit(chr){return isDigit(chr)||chr>="a"&&"f">=chr||chr>="A"&&"F">=chr}return{isAlpha:isAlpha,isDigit:isDigit,isHexDigit:isHexDigit}}(),pctEncoder=function(){function encodeCharacter(chr){var octet,index,result="",octets=utf8.encode(chr);for(index=0;index<octets.length;index+=1)octet=octets.charCodeAt(index),result+="%"+(16>octet?"0":"")+octet.toString(16).toUpperCase();return result}function isPercentDigitDigit(text,start){return"%"===text.charAt(start)&&charHelper.isHexDigit(text.charAt(start+1))&&charHelper.isHexDigit(text.charAt(start+2))}function parseHex2(text,start){return parseInt(text.substr(start,2),16)}function isPctEncoded(chr){if(!isPercentDigitDigit(chr,0))return!1;var firstCharCode=parseHex2(chr,1),numBytes=utf8.numBytes(firstCharCode);if(0===numBytes)return!1;for(var byteNumber=1;numBytes>byteNumber;byteNumber+=1)if(!isPercentDigitDigit(chr,3*byteNumber)||!utf8.isValidFollowingCharCode(parseHex2(chr,3*byteNumber+1)))return!1;return!0}function pctCharAt(text,startIndex){var chr=text.charAt(startIndex);if(!isPercentDigitDigit(text,startIndex))return chr;var utf8CharCode=parseHex2(text,startIndex+1),numBytes=utf8.numBytes(utf8CharCode);if(0===numBytes)return chr;for(var byteNumber=1;numBytes>byteNumber;byteNumber+=1)if(!isPercentDigitDigit(text,startIndex+3*byteNumber)||!utf8.isValidFollowingCharCode(parseHex2(text,startIndex+3*byteNumber+1)))return chr;return text.substr(startIndex,3*numBytes)}var utf8={encode:function(chr){return unescape(encodeURIComponent(chr))},numBytes:function(firstCharCode){return 127>=firstCharCode?1:firstCharCode>=194&&223>=firstCharCode?2:firstCharCode>=224&&239>=firstCharCode?3:firstCharCode>=240&&244>=firstCharCode?4:0},isValidFollowingCharCode:function(charCode){return charCode>=128&&191>=charCode}};return{encodeCharacter:encodeCharacter,isPctEncoded:isPctEncoded,pctCharAt:pctCharAt}}(),rfcCharHelper=function(){function isVarchar(chr){return charHelper.isAlpha(chr)||charHelper.isDigit(chr)||"_"===chr||pctEncoder.isPctEncoded(chr)}function isUnreserved(chr){return charHelper.isAlpha(chr)||charHelper.isDigit(chr)||"-"===chr||"."===chr||"_"===chr||"~"===chr}function isReserved(chr){return":"===chr||"/"===chr||"?"===chr||"#"===chr||"["===chr||"]"===chr||"@"===chr||"!"===chr||"$"===chr||"&"===chr||"("===chr||")"===chr||"*"===chr||"+"===chr||","===chr||";"===chr||"="===chr||"'"===chr}return{isVarchar:isVarchar,isUnreserved:isUnreserved,isReserved:isReserved}}(),encodingHelper=function(){function encode(text,passReserved){var index,result="",chr="";for(("number"==typeof text||"boolean"==typeof text)&&(text=text.toString()),index=0;index<text.length;index+=chr.length)chr=text.charAt(index),result+=rfcCharHelper.isUnreserved(chr)||passReserved&&rfcCharHelper.isReserved(chr)?chr:pctEncoder.encodeCharacter(chr);return result}function encodePassReserved(text){return encode(text,!0)}function encodeLiteralCharacter(literal,index){var chr=pctEncoder.pctCharAt(literal,index);return chr.length>1?chr:rfcCharHelper.isReserved(chr)||rfcCharHelper.isUnreserved(chr)?chr:pctEncoder.encodeCharacter(chr)}function encodeLiteral(literal){var index,result="",chr="";for(index=0;index<literal.length;index+=chr.length)chr=pctEncoder.pctCharAt(literal,index),result+=chr.length>1?chr:rfcCharHelper.isReserved(chr)||rfcCharHelper.isUnreserved(chr)?chr:pctEncoder.encodeCharacter(chr);return result}return{encode:encode,encodePassReserved:encodePassReserved,encodeLiteral:encodeLiteral,encodeLiteralCharacter:encodeLiteralCharacter}}(),operators=function(){function create(symbol){bySymbol[symbol]={symbol:symbol,separator:"?"===symbol?"&":""===symbol||"+"===symbol||"#"===symbol?",":symbol,named:";"===symbol||"&"===symbol||"?"===symbol,ifEmpty:"&"===symbol||"?"===symbol?"=":"",first:"+"===symbol?"":symbol,encode:"+"===symbol||"#"===symbol?encodingHelper.encodePassReserved:encodingHelper.encode,toString:function(){return this.symbol}}}var bySymbol={};return create(""),create("+"),create("#"),create("."),create("/"),create(";"),create("?"),create("&"),{valueOf:function(chr){return bySymbol[chr]?bySymbol[chr]:"=,!@|".indexOf(chr)>=0?null:bySymbol[""]}}}(),LiteralExpression=function(){function LiteralExpression(literal){this.literal=encodingHelper.encodeLiteral(literal)}return LiteralExpression.prototype.expand=function(){return this.literal},LiteralExpression.prototype.toString=LiteralExpression.prototype.expand,LiteralExpression}(),parse=function(){function parseExpression(expressionText){function closeVarname(){var varname=expressionText.substring(varnameStart,index);if(0===varname.length)throw new UriTemplateError({expressionText:expressionText,message:"a varname must be specified",position:index});varspec={varname:varname,exploded:!1,maxLength:null},varnameStart=null}function closeMaxLength(){if(maxLengthStart===index)throw new UriTemplateError({expressionText:expressionText,message:"after a ':' you have to specify the length",position:index});varspec.maxLength=parseInt(expressionText.substring(maxLengthStart,index),10),maxLengthStart=null}var operator,index,varspecs=[],varspec=null,varnameStart=null,maxLengthStart=null,chr="";for(operator=function(operatorText){var op=operators.valueOf(operatorText);if(null===op)throw new UriTemplateError({expressionText:expressionText,message:"illegal use of reserved operator",position:index,operator:operatorText});return op}(expressionText.charAt(0)),index=operator.symbol.length,varnameStart=index;index<expressionText.length;index+=chr.length){if(chr=pctEncoder.pctCharAt(expressionText,index),null!==varnameStart){if("."===chr){if(varnameStart===index)throw new UriTemplateError({expressionText:expressionText,message:"a varname MUST NOT start with a dot",position:index});continue}if(rfcCharHelper.isVarchar(chr))continue;closeVarname()}if(null!==maxLengthStart){if(index===maxLengthStart&&"0"===chr)throw new UriTemplateError({expressionText:expressionText,message:"A :prefix must not start with digit 0",position:index});if(charHelper.isDigit(chr)){if(index-maxLengthStart>=4)throw new UriTemplateError({expressionText:expressionText,message:"A :prefix must have max 4 digits",position:index});continue}closeMaxLength()}if(":"!==chr)if("*"!==chr){if(","!==chr)throw new UriTemplateError({expressionText:expressionText,message:"illegal character",character:chr,position:index});varspecs.push(varspec),varspec=null,varnameStart=index+1}else{if(null===varspec)throw new UriTemplateError({expressionText:expressionText,message:"exploded without varspec",position:index});if(varspec.exploded)throw new UriTemplateError({expressionText:expressionText,message:"exploded twice",position:index});if(varspec.maxLength)throw new UriTemplateError({expressionText:expressionText,message:"an explode (*) MUST NOT follow to a prefix",position:index});varspec.exploded=!0}else{if(null!==varspec.maxLength)throw new UriTemplateError({expressionText:expressionText,message:"only one :maxLength is allowed per varspec",position:index});if(varspec.exploded)throw new UriTemplateError({expressionText:expressionText,message:"an exploeded varspec MUST NOT be varspeced",position:index});maxLengthStart=index+1}}return null!==varnameStart&&closeVarname(),null!==maxLengthStart&&closeMaxLength(),varspecs.push(varspec),new VariableExpression(expressionText,operator,varspecs)}function parse(uriTemplateText){var index,chr,expressions=[],braceOpenIndex=null,literalStart=0;for(index=0;index<uriTemplateText.length;index+=1)if(chr=uriTemplateText.charAt(index),null===literalStart){if(null===braceOpenIndex)throw new Error("reached unreachable code");if("{"===chr)throw new UriTemplateError({templateText:uriTemplateText,message:"brace already opened",position:index});if("}"===chr){if(braceOpenIndex+1===index)throw new UriTemplateError({templateText:uriTemplateText,message:"empty braces",position:braceOpenIndex});try{expressions.push(parseExpression(uriTemplateText.substring(braceOpenIndex+1,index)))}catch(error){if(error.prototype===UriTemplateError.prototype)throw new UriTemplateError({templateText:uriTemplateText,message:error.options.message,position:braceOpenIndex+error.options.position,details:error.options});throw error}braceOpenIndex=null,literalStart=index+1}}else{if("}"===chr)throw new UriTemplateError({templateText:uriTemplateText,message:"unopened brace closed",position:index});"{"===chr&&(index>literalStart&&expressions.push(new LiteralExpression(uriTemplateText.substring(literalStart,index))),literalStart=null,braceOpenIndex=index)}if(null!==braceOpenIndex)throw new UriTemplateError({templateText:uriTemplateText,message:"unclosed brace",position:braceOpenIndex});return literalStart<uriTemplateText.length&&expressions.push(new LiteralExpression(uriTemplateText.substr(literalStart))),new UriTemplate(uriTemplateText,expressions)}return parse}(),VariableExpression=function(){function prettyPrint(value){return JSON&&JSON.stringify?JSON.stringify(value):value}function isEmpty(value){if(!isDefined(value))return!0;if(objectHelper.isString(value))return""===value;if(objectHelper.isNumber(value)||objectHelper.isBoolean(value))return!1;if(objectHelper.isArray(value))return 0===value.length;for(var propertyName in value)if(value.hasOwnProperty(propertyName))return!1;return!0}function propertyArray(object){var propertyName,result=[];for(propertyName in object)object.hasOwnProperty(propertyName)&&result.push({name:propertyName,value:object[propertyName]});return result}function VariableExpression(templateText,operator,varspecs){this.templateText=templateText,this.operator=operator,this.varspecs=varspecs}function expandSimpleValue(varspec,operator,value){var result="";if(value=value.toString(),operator.named){if(result+=encodingHelper.encodeLiteral(varspec.varname),""===value)return result+=operator.ifEmpty;result+="="}return null!==varspec.maxLength&&(value=value.substr(0,varspec.maxLength)),result+=operator.encode(value)}function valueDefined(nameValue){return isDefined(nameValue.value)}function expandNotExploded(varspec,operator,value){var arr=[],result="";if(operator.named){if(result+=encodingHelper.encodeLiteral(varspec.varname),isEmpty(value))return result+=operator.ifEmpty;result+="="}return objectHelper.isArray(value)?(arr=value,arr=objectHelper.filter(arr,isDefined),arr=objectHelper.map(arr,operator.encode),result+=objectHelper.join(arr,",")):(arr=propertyArray(value),arr=objectHelper.filter(arr,valueDefined),arr=objectHelper.map(arr,function(nameValue){return operator.encode(nameValue.name)+","+operator.encode(nameValue.value)}),result+=objectHelper.join(arr,",")),result}function expandExplodedNamed(varspec,operator,value){var isArray=objectHelper.isArray(value),arr=[];return isArray?(arr=value,arr=objectHelper.filter(arr,isDefined),arr=objectHelper.map(arr,function(listElement){var tmp=encodingHelper.encodeLiteral(varspec.varname);return tmp+=isEmpty(listElement)?operator.ifEmpty:"="+operator.encode(listElement)})):(arr=propertyArray(value),arr=objectHelper.filter(arr,valueDefined),arr=objectHelper.map(arr,function(nameValue){var tmp=encodingHelper.encodeLiteral(nameValue.name);return tmp+=isEmpty(nameValue.value)?operator.ifEmpty:"="+operator.encode(nameValue.value)})),objectHelper.join(arr,operator.separator)}function expandExplodedUnnamed(operator,value){var arr=[],result="";return objectHelper.isArray(value)?(arr=value,arr=objectHelper.filter(arr,isDefined),arr=objectHelper.map(arr,operator.encode),result+=objectHelper.join(arr,operator.separator)):(arr=propertyArray(value),arr=objectHelper.filter(arr,function(nameValue){return isDefined(nameValue.value)}),arr=objectHelper.map(arr,function(nameValue){return operator.encode(nameValue.name)+"="+operator.encode(nameValue.value)}),result+=objectHelper.join(arr,operator.separator)),result}return VariableExpression.prototype.toString=function(){return this.templateText},VariableExpression.prototype.expand=function(variables){var index,varspec,value,valueIsArr,expanded=[],oneExploded=!1,operator=this.operator;for(index=0;index<this.varspecs.length;index+=1)if(varspec=this.varspecs[index],value=variables[varspec.varname],null!==value&&void 0!==value)if(varspec.exploded&&(oneExploded=!0),valueIsArr=objectHelper.isArray(value),"string"==typeof value||"number"==typeof value||"boolean"==typeof value)expanded.push(expandSimpleValue(varspec,operator,value));else{if(varspec.maxLength&&isDefined(value))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+prettyPrint(value));varspec.exploded?isDefined(value)&&(operator.named?expanded.push(expandExplodedNamed(varspec,operator,value)):expanded.push(expandExplodedUnnamed(operator,value))):(operator.named||!isEmpty(value))&&expanded.push(expandNotExploded(varspec,operator,value))}return 0===expanded.length?"":operator.first+objectHelper.join(expanded,operator.separator)},VariableExpression}(),UriTemplate=function(){function UriTemplate(templateText,expressions){this.templateText=templateText,this.expressions=expressions,objectHelper.deepFreeze(this)}return UriTemplate.prototype.toString=function(){return this.templateText},UriTemplate.prototype.expand=function(variables){var index,result="";for(index=0;index<this.expressions.length;index+=1)result+=this.expressions[index].expand(variables);return result},UriTemplate.parse=parse,UriTemplate.UriTemplateError=UriTemplateError,UriTemplate}();exportCallback(UriTemplate)}(function(UriTemplate){"use strict";"undefined"!=typeof module?module.exports=UriTemplate:"function"==typeof define?define([],function(){return UriTemplate}):"undefined"!=typeof window?window.UriTemplate=UriTemplate:global.UriTemplate=UriTemplate})}(window)},{}],26:[function(require,module,exports){exports.spawn=function(){},exports.exec=function(){}},{}],28:[function(require,module){var http=require("http"),https=module.exports;for(var key in http)http.hasOwnProperty(key)&&(https[key]=http[key]);https.request=function(params,cb){return params||(params={}),params.scheme="https",http.request.call(this,params,cb)}},{http:27}],29:[function(require,module,exports){!function(process){function indexOf(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0;i<xs.length;i++)if(x===xs[i])return i;return-1}process.EventEmitter||(process.EventEmitter=function(){});var EventEmitter=exports.EventEmitter=process.EventEmitter,isArray="function"==typeof Array.isArray?Array.isArray:function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){this._events||(this._events={}),this._events.maxListeners=n},EventEmitter.prototype.emit=function(type){if("error"===type&&(!this._events||!this._events.error||isArray(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var handler=this._events[type];if(!handler)return!1;if("function"==typeof handler){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:var args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}return!0}if(isArray(handler)){for(var args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),i=0,l=listeners.length;l>i;i++)listeners[i].apply(this,args);return!0}return!1},EventEmitter.prototype.addListener=function(type,listener){if("function"!=typeof listener)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",type,listener),this._events[type])if(isArray(this._events[type])){if(!this._events[type].warned){var m;m=void 0!==this._events.maxListeners?this._events.maxListeners:defaultMaxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace())}this._events[type].push(listener)}else this._events[type]=[this._events[type],listener];else this._events[type]=listener;return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){var self=this;return self.on(type,function g(){self.removeListener(type,g),listener.apply(this,arguments)}),this},EventEmitter.prototype.removeListener=function(type,listener){if("function"!=typeof listener)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[type])return this;var list=this._events[type];if(isArray(list)){var i=indexOf(list,listener);if(0>i)return this;list.splice(i,1),0==list.length&&delete this._events[type]}else this._events[type]===listener&&delete this._events[type];return this},EventEmitter.prototype.removeAllListeners=function(type){return 0===arguments.length?(this._events={},this):(type&&this._events&&this._events[type]&&(this._events[type]=null),this)},EventEmitter.prototype.listeners=function(type){return this._events||(this._events={}),this._events[type]||(this._events[type]=[]),isArray(this._events[type])||(this._events[type]=[this._events[type]]),this._events[type]}}(require("__browserify_process"))},{__browserify_process:5}],27:[function(require,module){var http=module.exports;require("events").EventEmitter;var Request=require("./lib/request");http.request=function(params,cb){params||(params={}),params.host||(params.host=window.location.host.split(":")[0]),params.port||(params.port=window.location.port),params.scheme||(params.scheme=window.location.protocol.split(":")[0]);var req=new Request(new xhrHttp,params);return cb&&req.on("response",cb),req},http.get=function(params,cb){params.method="GET";var req=http.request(params,cb);return req.end(),req},http.Agent=function(){},http.Agent.defaultMaxSockets=4;var xhrHttp=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var axs=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],i=0;i<axs.length;i++)try{var ax=new window.ActiveXObject(axs[i]);return function(){if(ax){var ax_=ax;return ax=null,ax_}return new window.ActiveXObject(axs[i])}}catch(e){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}()},{"./lib/request":30,events:29}],31:[function(require,module){function Stream(){events.EventEmitter.call(this)}var events=require("events"),util=require("util");util.inherits(Stream,events.EventEmitter),module.exports=Stream,Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}function onend(){didOnEnd||(didOnEnd=!0,dest._pipeCount--,cleanup(),dest._pipeCount>0||dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,dest._pipeCount--,cleanup(),dest._pipeCount>0||dest.destroy())}function onerror(er){if(cleanup(),0===this.listeners("error").length)throw er}function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("end",cleanup),dest.removeListener("close",cleanup)}var source=this;source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&options.end===!1||(dest._pipeCount=dest._pipeCount||0,dest._pipeCount++,source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("end",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest}},{events:29,util:32}],32:[function(require,module,exports){function isArray(ar){return ar instanceof Array||Array.isArray(ar)||ar&&ar!==Object.prototype&&isArray(ar.__proto__)}function isRegExp(re){return re instanceof RegExp||"object"==typeof re&&"[object RegExp]"===Object.prototype.toString.call(re)}function isDate(d){if(d instanceof Date)return!0;if("object"!=typeof d)return!1;var properties=Date.prototype&&Object_getOwnPropertyNames(Date.prototype),proto=d.__proto__&&Object_getOwnPropertyNames(d.__proto__);return JSON.stringify(proto)===JSON.stringify(properties)}require("events"),exports.isArray=isArray,exports.isDate=function(obj){return"[object Date]"===Object.prototype.toString.call(obj)},exports.isRegExp=function(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},exports.print=function(){},exports.puts=function(){},exports.debug=function(){},exports.inspect=function(obj,showHidden,depth,colors){function format(value,recurseTimes){if(value&&"function"==typeof value.inspect&&value!==exports&&(!value.constructor||value.constructor.prototype!==value))return value.inspect(recurseTimes);switch(typeof value){case"undefined":return stylize("undefined","undefined");case"string":var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return stylize(simple,"string");case"number":return stylize(""+value,"number");case"boolean":return stylize(""+value,"boolean")}if(null===value)return stylize("null","null");var visible_keys=Object_keys(value),keys=showHidden?Object_getOwnPropertyNames(value):visible_keys;if("function"==typeof value&&0===keys.length){if(isRegExp(value))return stylize(""+value,"regexp");var name=value.name?": "+value.name:"";return stylize("[Function"+name+"]","special")}if(isDate(value)&&0===keys.length)return stylize(value.toUTCString(),"date");var base,type,braces;if(isArray(value)?(type="Array",braces=["[","]"]):(type="Object",braces=["{","}"]),"function"==typeof value){var n=value.name?": "+value.name:"";base=isRegExp(value)?" "+value:" [Function"+n+"]"}else base="";if(isDate(value)&&(base=" "+value.toUTCString()),0===keys.length)return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?stylize(""+value,"regexp"):stylize("[Object]","special");seen.push(value);var output=keys.map(function(key){var name,str;if(value.__lookupGetter__&&(value.__lookupGetter__(key)?str=value.__lookupSetter__(key)?stylize("[Getter/Setter]","special"):stylize("[Getter]","special"):value.__lookupSetter__(key)&&(str=stylize("[Setter]","special"))),visible_keys.indexOf(key)<0&&(name="["+key+"]"),str||(seen.indexOf(value[key])<0?(str=null===recurseTimes?format(value[key]):format(value[key],recurseTimes-1),str.indexOf("\n")>-1&&(str=isArray(value)?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=stylize("[Circular]","special")),"undefined"==typeof name){if("Array"===type&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=stylize(name,"string"))}return name+": "+str});seen.pop();var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.length+1},0);return output=length>50?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}var seen=[],stylize=function(str,styleType){var styles={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},style={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[styleType];return style?"["+styles[style][0]+"m"+str+"["+styles[style][1]+"m":str};return colors||(stylize=function(str){return str}),format(obj,"undefined"==typeof depth?2:depth)},exports.log=function(){},exports.pump=null;var Object_keys=Object.keys||function(obj){var res=[];for(var key in obj)res.push(key);return res},Object_getOwnPropertyNames=Object.getOwnPropertyNames||function(obj){var res=[];for(var key in obj)Object.hasOwnProperty.call(obj,key)&&res.push(key);return res},Object_create=Object.create||function(prototype,properties){var object;if(null===prototype)object={__proto__:null};else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != 'object'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return"undefined"!=typeof properties&&Object.defineProperties&&Object.defineProperties(object,properties),object};exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object_create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})};var formatRegExp=/%[sdj%]/g;exports.format=function(f){if("string"!=typeof f){for(var objects=[],i=0;i<arguments.length;i++)objects.push(exports.inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":return JSON.stringify(args[i++]);default:return x}}),x=args[i];len>i;x=args[++i])str+=null===x||"object"!=typeof x?" "+x:" "+exports.inspect(x);return str}},{events:29}],33:[function(require,module){!function(){function objectKeys(object){if(Object.keys)return Object.keys(object);var result=[];for(var name in object)Object.prototype.hasOwnProperty.call(object,name)&&result.push(name);return result}function replacer(key,value){return void 0===value?""+value:"number"!=typeof value||!isNaN(value)&&isFinite(value)?"function"==typeof value||value instanceof RegExp?value.toString():value:value.toString()}function truncate(s,n){return"string"==typeof s?s.length<n?s:s.slice(0,n):s}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected){if(actual===expected)return!0;if(Buffer.isBuffer(actual)&&Buffer.isBuffer(expected)){if(actual.length!=expected.length)return!1;for(var i=0;i<actual.length;i++)if(actual[i]!==expected[i])return!1;return!0}return actual instanceof Date&&expected instanceof Date?actual.getTime()===expected.getTime():"object"!=typeof actual&&"object"!=typeof expected?actual==expected:objEquiv(actual,expected)}function isUndefinedOrNull(value){return null===value||void 0===value}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function objEquiv(a,b){if(isUndefinedOrNull(a)||isUndefinedOrNull(b))return!1;if(a.prototype!==b.prototype)return!1;if(isArguments(a))return isArguments(b)?(a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b)):!1;try{var key,i,ka=objectKeys(a),kb=objectKeys(b)}catch(e){return!1}if(ka.length!=kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key]))return!1;return!0}function expectedException(actual,expected){return actual&&expected?expected instanceof RegExp?expected.test(actual):actual instanceof expected?!0:expected.call({},actual)===!0?!0:!1:!1}function _throws(shouldThrow,block,expected,message){var actual;"string"==typeof expected&&(message=expected,expected=null);try{block()}catch(e){actual=e}if(message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail("Missing expected exception"+message),!shouldThrow&&expectedException(actual,expected)&&fail("Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}var util=require("util"),Buffer=require("buffer").Buffer,pSlice=Array.prototype.slice,assert=module.exports=ok;assert.AssertionError=function(options){this.name="AssertionError",this.message=options.message,this.actual=options.actual,this.expected=options.expected,this.operator=options.operator;var stackStartFunction=options.stackStartFunction||fail;Error.captureStackTrace&&Error.captureStackTrace(this,stackStartFunction)},util.inherits(assert.AssertionError,Error),assert.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",truncate(JSON.stringify(this.actual,replacer),128),this.operator,truncate(JSON.stringify(this.expected,replacer),128)].join(" ")},assert.AssertionError.__proto__=Error.prototype,assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(err){if(err)throw err}}()},{buffer:34,util:32}],35:[function(require,module){function parseHeaders(res){for(var lines=res.getAllResponseHeaders().split(/\r?\n/),headers={},i=0;i<lines.length;i++){var line=lines[i];if(""!==line){var m=line.match(/^([^:]+):\s*(.*)/);if(m){var key=m[1].toLowerCase(),value=m[2];void 0!==headers[key]?isArray(headers[key])?headers[key].push(value):headers[key]=[headers[key],value]:headers[key]=value}else headers[line]=!0}}return headers}var Stream=require("stream"),Response=module.exports=function(){this.offset=0,this.readable=!0};Response.prototype=new Stream;var capable={streaming:!0,status2:!0};Response.prototype.getResponse=function(xhr){var respType=String(xhr.responseType).toLowerCase();return"blob"===respType?xhr.responseBlob||xhr.response:"arraybuffer"===respType?xhr.response:xhr.responseText},Response.prototype.getHeader=function(key){return this.headers[key.toLowerCase()]
},Response.prototype.handle=function(res){if(2===res.readyState&&capable.status2){try{this.statusCode=res.status,this.headers=parseHeaders(res)}catch(err){capable.status2=!1}capable.status2&&this.emit("ready")}else if(capable.streaming&&3===res.readyState){try{this.statusCode||(this.statusCode=res.status,this.headers=parseHeaders(res),this.emit("ready"))}catch(err){}try{this._emitData(res)}catch(err){capable.streaming=!1}}else 4===res.readyState&&(this.statusCode||(this.statusCode=res.status,this.emit("ready")),this._emitData(res),res.error?this.emit("error",this.getResponse(res)):this.emit("end"),this.emit("close"))},Response.prototype._emitData=function(res){var respBody=this.getResponse(res);return respBody.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(respBody,this.offset)),this.offset=respBody.byteLength,void 0):(respBody.length>this.offset&&(this.emit("data",respBody.slice(this.offset)),this.offset=respBody.length),void 0)};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},{stream:31}],36:[function(require,module,exports){exports.readIEEE754=function(buffer,offset,isBE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isBE?0:nBytes-1,d=isBE?1:-1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?0/0:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.writeIEEE754=function(buffer,value,offset,isBE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isBE?nBytes-1:0,d=isBE?-1:1,s=0>value||0===value&&0>1/value?1:0;for(value=Math.abs(value),isNaN(value)||1/0===value?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],34:[function(require,module,exports){!function(){function Buffer(subject,encoding,offset){if(!(this instanceof Buffer))return new Buffer(subject,encoding,offset);this.parent=this,this.offset=0;var type;if("number"==typeof offset)this.length=coerce(encoding),this.offset=offset;else{switch(type=typeof subject){case"number":this.length=coerce(subject);break;case"string":this.length=Buffer.byteLength(subject,encoding);break;case"object":this.length=coerce(subject.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(isArrayIsh(subject))for(var i=0;i<this.length;i++)this[i]=subject instanceof Buffer?subject.readUInt8(i):subject[i];else if("string"==type)this.length=this.write(subject,0,encoding);else if("number"===type)for(var i=0;i<this.length;i++)this[i]=0}}function coerce(length){return length=~~Math.ceil(+length),0>length?0:length}function isArray(subject){return(Array.isArray||function(subject){return"[object Array]"=={}.toString.apply(subject)})(subject)}function isArrayIsh(subject){return isArray(subject)||Buffer.isBuffer(subject)||subject&&"object"==typeof subject&&"number"==typeof subject.length}function toHex(n){return 16>n?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)if(str.charCodeAt(i)<=127)byteArray.push(str.charCodeAt(i));else for(var h=encodeURIComponent(str.charAt(i)).substr(1).split("%"),j=0;j<h.length;j++)byteArray.push(parseInt(h[j],16));return byteArray}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return byteArray}function base64ToBytes(str){return require("base64-js").toByteArray(str)}function blitBuffer(src,dst,offset,length){for(var i=0;length>i&&!(i+offset>=dst.length||i>=src.length);)dst[i+offset]=src[i],i++;return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}function readUInt16(buffer,offset,isBigEndian,noAssert){var val=0;return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+1<buffer.length,"Trying to read beyond buffer length")),offset>=buffer.length?0:(isBigEndian?(val=buffer[offset]<<8,offset+1<buffer.length&&(val|=buffer[offset+1])):(val=buffer[offset],offset+1<buffer.length&&(val|=buffer[offset+1]<<8)),val)}function readUInt32(buffer,offset,isBigEndian,noAssert){var val=0;return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"Trying to read beyond buffer length")),offset>=buffer.length?0:(isBigEndian?(offset+1<buffer.length&&(val=buffer[offset+1]<<16),offset+2<buffer.length&&(val|=buffer[offset+2]<<8),offset+3<buffer.length&&(val|=buffer[offset+3]),val+=buffer[offset]<<24>>>0):(offset+2<buffer.length&&(val=buffer[offset+2]<<16),offset+1<buffer.length&&(val|=buffer[offset+1]<<8),val|=buffer[offset],offset+3<buffer.length&&(val+=buffer[offset+3]<<24>>>0)),val)}function readInt16(buffer,offset,isBigEndian,noAssert){var neg,val;return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+1<buffer.length,"Trying to read beyond buffer length")),val=readUInt16(buffer,offset,isBigEndian,noAssert),neg=32768&val,neg?-1*(65535-val+1):val}function readInt32(buffer,offset,isBigEndian,noAssert){var neg,val;return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"Trying to read beyond buffer length")),val=readUInt32(buffer,offset,isBigEndian,noAssert),neg=2147483648&val,neg?-1*(4294967295-val+1):val}function readFloat(buffer,offset,isBigEndian,noAssert){return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(offset+3<buffer.length,"Trying to read beyond buffer length")),require("./buffer_ieee754").readIEEE754(buffer,offset,isBigEndian,23,4)}function readDouble(buffer,offset,isBigEndian,noAssert){return noAssert||(assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(offset+7<buffer.length,"Trying to read beyond buffer length")),require("./buffer_ieee754").readIEEE754(buffer,offset,isBigEndian,52,8)}function verifuint(value,max){assert.ok("number"==typeof value,"cannot write a non-number as a number"),assert.ok(value>=0,"specified a negative value for writing an unsigned value"),assert.ok(max>=value,"value is larger than maximum value for type"),assert.ok(Math.floor(value)===value,"value has a fractional component")}function writeUInt16(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+1<buffer.length,"trying to write beyond buffer length"),verifuint(value,65535));for(var i=0;i<Math.min(buffer.length-offset,2);i++)buffer[offset+i]=(value&255<<8*(isBigEndian?1-i:i))>>>8*(isBigEndian?1-i:i)}function writeUInt32(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"trying to write beyond buffer length"),verifuint(value,4294967295));for(var i=0;i<Math.min(buffer.length-offset,4);i++)buffer[offset+i]=255&value>>>8*(isBigEndian?3-i:i)}function verifsint(value,max,min){assert.ok("number"==typeof value,"cannot write a non-number as a number"),assert.ok(max>=value,"value larger than maximum allowed value"),assert.ok(value>=min,"value smaller than minimum allowed value"),assert.ok(Math.floor(value)===value,"value has a fractional component")}function verifIEEE754(value,max,min){assert.ok("number"==typeof value,"cannot write a non-number as a number"),assert.ok(max>=value,"value larger than maximum allowed value"),assert.ok(value>=min,"value smaller than minimum allowed value")}function writeInt16(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+1<buffer.length,"Trying to write beyond buffer length"),verifsint(value,32767,-32768)),value>=0?writeUInt16(buffer,value,offset,isBigEndian,noAssert):writeUInt16(buffer,65535+value+1,offset,isBigEndian,noAssert)}function writeInt32(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"Trying to write beyond buffer length"),verifsint(value,2147483647,-2147483648)),value>=0?writeUInt32(buffer,value,offset,isBigEndian,noAssert):writeUInt32(buffer,4294967295+value+1,offset,isBigEndian,noAssert)}function writeFloat(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+3<buffer.length,"Trying to write beyond buffer length"),verifIEEE754(value,3.4028234663852886e38,-3.4028234663852886e38)),require("./buffer_ieee754").writeIEEE754(buffer,value,offset,isBigEndian,23,4)}function writeDouble(buffer,value,offset,isBigEndian,noAssert){noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok("boolean"==typeof isBigEndian,"missing or invalid endian"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset+7<buffer.length,"Trying to write beyond buffer length"),verifIEEE754(value,1.7976931348623157e308,-1.7976931348623157e308)),require("./buffer_ieee754").writeIEEE754(buffer,value,offset,isBigEndian,52,8)}var assert=require("assert");exports.Buffer=Buffer,exports.SlowBuffer=Buffer,Buffer.poolSize=8192,exports.INSPECT_MAX_BYTES=50,Buffer.prototype.get=function(i){if(0>i||i>=this.length)throw new Error("oob");return this[i]},Buffer.prototype.set=function(i,v){if(0>i||i>=this.length)throw new Error("oob");return this[i]=v},Buffer.byteLength=function(str,encoding){switch(encoding||"utf8"){case"hex":return str.length/2;case"utf8":case"utf-8":return utf8ToBytes(str).length;case"ascii":case"binary":return str.length;case"base64":return base64ToBytes(str).length;default:throw new Error("Unknown encoding")}},Buffer.prototype.utf8Write=function(string,offset,length){return Buffer._charsWritten=blitBuffer(utf8ToBytes(string),this,offset,length)},Buffer.prototype.asciiWrite=function(string,offset,length){return Buffer._charsWritten=blitBuffer(asciiToBytes(string),this,offset,length)},Buffer.prototype.binaryWrite=Buffer.prototype.asciiWrite,Buffer.prototype.base64Write=function(string,offset,length){return Buffer._charsWritten=blitBuffer(base64ToBytes(string),this,offset,length)},Buffer.prototype.base64Slice=function(){var bytes=Array.prototype.slice.apply(this,arguments);return require("base64-js").fromByteArray(bytes)},Buffer.prototype.utf8Slice=function(){for(var bytes=Array.prototype.slice.apply(this,arguments),res="",tmp="",i=0;i<bytes.length;)bytes[i]<=127?(res+=decodeUtf8Char(tmp)+String.fromCharCode(bytes[i]),tmp=""):tmp+="%"+bytes[i].toString(16),i++;return res+decodeUtf8Char(tmp)},Buffer.prototype.asciiSlice=function(){for(var bytes=Array.prototype.slice.apply(this,arguments),ret="",i=0;i<bytes.length;i++)ret+=String.fromCharCode(bytes[i]);return ret},Buffer.prototype.binarySlice=Buffer.prototype.asciiSlice,Buffer.prototype.inspect=function(){for(var out=[],len=this.length,i=0;len>i;i++)if(out[i]=toHex(this[i]),i==exports.INSPECT_MAX_BYTES){out[i+1]="...";break}return"<Buffer "+out.join(" ")+">"},Buffer.prototype.hexSlice=function(start,end){var len=this.length;(!start||0>start)&&(start=0),(!end||0>end||end>len)&&(end=len);for(var out="",i=start;end>i;i++)out+=toHex(this[i]);return out},Buffer.prototype.toString=function(encoding,start,end){if(encoding=String(encoding||"utf8").toLowerCase(),start=+start||0,"undefined"==typeof end&&(end=this.length),+end==start)return"";switch(encoding){case"hex":return this.hexSlice(start,end);case"utf8":case"utf-8":return this.utf8Slice(start,end);case"ascii":return this.asciiSlice(start,end);case"binary":return this.binarySlice(start,end);case"base64":return this.base64Slice(start,end);case"ucs2":case"ucs-2":return this.ucs2Slice(start,end);default:throw new Error("Unknown encoding")}},Buffer.prototype.hexWrite=function(string,offset,length){offset=+offset||0;var remaining=this.length-offset;length?(length=+length,length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2)throw new Error("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;length>i;i++){var byte=parseInt(string.substr(2*i,2),16);if(isNaN(byte))throw new Error("Invalid hex string");this[offset+i]=byte}return Buffer._charsWritten=2*i,i},Buffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}offset=+offset||0;var remaining=this.length-offset;switch(length?(length=+length,length>remaining&&(length=remaining)):length=remaining,encoding=String(encoding||"utf8").toLowerCase()){case"hex":return this.hexWrite(string,offset,length);case"utf8":case"utf-8":return this.utf8Write(string,offset,length);case"ascii":return this.asciiWrite(string,offset,length);case"binary":return this.binaryWrite(string,offset,length);case"base64":return this.base64Write(string,offset,length);case"ucs2":case"ucs-2":return this.ucs2Write(string,offset,length);default:throw new Error("Unknown encoding")}},Buffer.prototype.slice=function(start,end){if(void 0===end&&(end=this.length),end>this.length)throw new Error("oob");if(start>end)throw new Error("oob");return new Buffer(this,end-start,+start)},Buffer.prototype.copy=function(target,target_start,start,end){var source=this;if(start||(start=0),(void 0===end||isNaN(end))&&(end=this.length),target_start||(target_start=0),start>end)throw new Error("sourceEnd < sourceStart");if(end===start)return 0;if(0==target.length||0==source.length)return 0;if(0>target_start||target_start>=target.length)throw new Error("targetStart out of bounds");if(0>start||start>=source.length)throw new Error("sourceStart out of bounds");if(0>end||end>source.length)throw new Error("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-target_start<end-start&&(end=target.length-target_start+start);for(var temp=[],i=start;end>i;i++)assert.ok("undefined"!=typeof this[i],"copying undefined buffer bytes!"),temp.push(this[i]);for(var i=target_start;i<target_start+temp.length;i++)target[i]=temp[i-target_start]},Buffer.prototype.fill=function(value,start,end){if(value||(value=0),start||(start=0),end||(end=this.length),"string"==typeof value&&(value=value.charCodeAt(0)),"number"!=typeof value||isNaN(value))throw new Error("value is not a number");if(start>end)throw new Error("end < start");if(end===start)return 0;if(0==this.length)return 0;if(0>start||start>=this.length)throw new Error("start out of bounds");if(0>end||end>this.length)throw new Error("end out of bounds");for(var i=start;end>i;i++)this[i]=value},Buffer.isBuffer=function(b){return b instanceof Buffer||b instanceof Buffer},Buffer.concat=function(list,totalLength){if(!isArray(list))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===list.length)return new Buffer(0);if(1===list.length)return list[0];if("number"!=typeof totalLength){totalLength=0;for(var i=0;i<list.length;i++){var buf=list[i];totalLength+=buf.length}}for(var buffer=new Buffer(totalLength),pos=0,i=0;i<list.length;i++){var buf=list[i];buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.prototype.readUInt8=function(offset,noAssert){var buffer=this;return noAssert||(assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset<buffer.length,"Trying to read beyond buffer length")),offset>=buffer.length?void 0:buffer[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return readUInt16(this,offset,!1,noAssert)},Buffer.prototype.readUInt16BE=function(offset,noAssert){return readUInt16(this,offset,!0,noAssert)},Buffer.prototype.readUInt32LE=function(offset,noAssert){return readUInt32(this,offset,!1,noAssert)},Buffer.prototype.readUInt32BE=function(offset,noAssert){return readUInt32(this,offset,!0,noAssert)},Buffer.prototype.readInt8=function(offset,noAssert){var neg,buffer=this;return noAssert||(assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset<buffer.length,"Trying to read beyond buffer length")),offset>=buffer.length?void 0:(neg=128&buffer[offset],neg?-1*(255-buffer[offset]+1):buffer[offset])},Buffer.prototype.readInt16LE=function(offset,noAssert){return readInt16(this,offset,!1,noAssert)},Buffer.prototype.readInt16BE=function(offset,noAssert){return readInt16(this,offset,!0,noAssert)},Buffer.prototype.readInt32LE=function(offset,noAssert){return readInt32(this,offset,!1,noAssert)},Buffer.prototype.readInt32BE=function(offset,noAssert){return readInt32(this,offset,!0,noAssert)},Buffer.prototype.readFloatLE=function(offset,noAssert){return readFloat(this,offset,!1,noAssert)},Buffer.prototype.readFloatBE=function(offset,noAssert){return readFloat(this,offset,!0,noAssert)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return readDouble(this,offset,!1,noAssert)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return readDouble(this,offset,!0,noAssert)},Buffer.prototype.writeUInt8=function(value,offset,noAssert){var buffer=this;noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset<buffer.length,"trying to write beyond buffer length"),verifuint(value,255)),offset<buffer.length&&(buffer[offset]=value)},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){writeUInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){writeUInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){writeUInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){writeUInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt8=function(value,offset,noAssert){var buffer=this;noAssert||(assert.ok(void 0!==value&&null!==value,"missing value"),assert.ok(void 0!==offset&&null!==offset,"missing offset"),assert.ok(offset<buffer.length,"Trying to write beyond buffer length"),verifsint(value,127,-128)),value>=0?buffer.writeUInt8(value,offset,noAssert):buffer.writeUInt8(255+value+1,offset,noAssert)},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){writeInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){writeInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){writeInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){writeInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){writeDouble(this,value,offset,!0,noAssert)}}()},{"./buffer_ieee754":36,assert:33,"base64-js":37}],30:[function(require,module){!function(){var Stream=require("stream"),Response=require("./response"),concatStream=require("concat-stream"),Buffer=require("buffer"),Request=module.exports=function(xhr,params){var self=this;self.writable=!0,self.xhr=xhr,self.body=concatStream();var uri=params.host+(params.port?":"+params.port:"")+(params.path||"/");if(xhr.open(params.method||"GET",(params.scheme||"http")+"://"+uri,!0),params.headers)for(var keys=objectKeys(params.headers),i=0;i<keys.length;i++){var key=keys[i];if(self.isSafeRequestHeader(key)){var value=params.headers[key];if(isArray(value))for(var j=0;j<value.length;j++)xhr.setRequestHeader(key,value[j]);else xhr.setRequestHeader(key,value)}}params.auth&&this.setHeader("Authorization","Basic "+new Buffer(params.auth).toString("base64"));var res=new Response;res.on("close",function(){self.emit("close")}),res.on("ready",function(){self.emit("response",res)}),xhr.onreadystatechange=function(){res.handle(xhr)}};Request.prototype=new Stream,Request.prototype.setHeader=function(key,value){if(isArray(value))for(var i=0;i<value.length;i++)this.xhr.setRequestHeader(key,value[i]);else this.xhr.setRequestHeader(key,value)},Request.prototype.write=function(s){this.body.write(s)},Request.prototype.destroy=function(){this.xhr.abort(),this.emit("close")},Request.prototype.end=function(s){void 0!==s&&this.body.write(s),this.body.end(),this.xhr.send(this.body.getBody())},Request.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],Request.prototype.isSafeRequestHeader=function(headerName){return headerName?-1===indexOf(Request.unsafeHeaders,headerName.toLowerCase()):!1};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys},isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},indexOf=function(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0;i<xs.length;i++)if(xs[i]===x)return i;return-1}}()},{"./response":35,buffer:34,"concat-stream":38,stream:31}],37:[function(require,module){!function(){"use strict";function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(placeHolders=b64.indexOf("="),placeHolders=placeHolders>0?b64.length-placeHolders:0,arr=[],l=placeHolders>0?b64.length-4:b64.length,i=0,j=0;l>i;i+=4,j+=3)tmp=lookup.indexOf(b64[i])<<18|lookup.indexOf(b64[i+1])<<12|lookup.indexOf(b64[i+2])<<6|lookup.indexOf(b64[i+3]),arr.push((16711680&tmp)>>16),arr.push((65280&tmp)>>8),arr.push(255&tmp);return 2===placeHolders?(tmp=lookup.indexOf(b64[i])<<2|lookup.indexOf(b64[i+1])>>4,arr.push(255&tmp)):1===placeHolders&&(tmp=lookup.indexOf(b64[i])<<10|lookup.indexOf(b64[i+1])<<4|lookup.indexOf(b64[i+2])>>2,arr.push(255&tmp>>8),arr.push(255&tmp)),arr}function uint8ToBase64(uint8){function tripletToBase64(num){return lookup[63&num>>18]+lookup[63&num>>12]+lookup[63&num>>6]+lookup[63&num]}var i,temp,length,extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;length>i;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=lookup[temp>>2],output+=lookup[63&temp<<4],output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=lookup[temp>>10],output+=lookup[63&temp>>4],output+=lookup[63&temp<<2],output+="="}return output}var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";module.exports.toByteArray=b64ToByteArray,module.exports.fromByteArray=uint8ToBase64}()},{}],38:[function(require,module){!function(Buffer){function ConcatStream(cb){stream.Stream.call(this),this.writable=!0,cb&&(this.cb=cb),this.body=[],this.cb&&this.on("error",cb)}var stream=require("stream"),util=require("util");util.inherits(ConcatStream,stream.Stream),ConcatStream.prototype.write=function(chunk){this.body.push(chunk)},ConcatStream.prototype.arrayConcat=function(arrs){return 0===arrs.length?[]:1===arrs.length?arrs[0]:arrs.reduce(function(a,b){return a.concat(b)})},ConcatStream.prototype.isArray=function(arr){var isArray=Array.isArray(arr),isTypedArray=arr.toString().match(/Array/);return isArray||isTypedArray},ConcatStream.prototype.getBody=function(){return 0!==this.body.length?"string"==typeof this.body[0]?this.body.join(""):this.isArray(this.body[0])?this.arrayConcat(this.body):"undefined"!=typeof Buffer&&Buffer.isBuffer(this.body[0])?Buffer.concat(this.body):this.body:void 0},ConcatStream.prototype.end=function(){this.cb&&this.cb(!1,this.getBody())},module.exports=function(cb){return new ConcatStream(cb)},module.exports.ConcatStream=ConcatStream}(require("__browserify_buffer").Buffer)},{__browserify_buffer:14,stream:31,util:32}]},{},[10,12,15,1,2,16,17,13,20,11,18,21,19,3,23,4,22,6]);var Showdown={extensions:{}},forEach=Showdown.forEach=function(a,b){if("function"==typeof a.forEach)a.forEach(b);else{var c,d=a.length;for(c=0;d>c;c++)b(a[c],c,a)}},stdExtName=function(a){return a.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(a){var b,c,d,e=0,f=[],g=[];if("undefind"!=typeof module&&"undefined"!=typeof exports&&"undefind"!=typeof require){var h=require("fs");if(h){var i=h.readdirSync((__dirname||".")+"/extensions").filter(function(a){return~a.indexOf(".js")}).map(function(a){return a.replace(/\.js$/,"")});Showdown.forEach(i,function(a){var b=stdExtName(a);Showdown.extensions[b]=require("./extensions/"+a)})}}if(this.makeHtml=function(a){return b={},c={},d=[],a=a.replace(/~/g,"~T"),a=a.replace(/\$/g,"~D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a="\n\n"+a+"\n\n",a=M(a),a=a.replace(/^[ \t]+$/gm,""),Showdown.forEach(f,function(b){a=k(b,a)}),a=z(a),a=m(a),a=l(a),a=o(a),a=K(a),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~"),Showdown.forEach(g,function(b){a=k(b,a)}),a},a&&a.extensions){var j=this;Showdown.forEach(a.extensions,function(a){if("string"==typeof a&&(a=Showdown.extensions[stdExtName(a)]),"function"!=typeof a)throw"Extension '"+a+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(a(j),function(a){a.type?"language"===a.type||"lang"===a.type?f.push(a):("output"===a.type||"html"===a.type)&&g.push(a):g.push(a)})})}var w,k=function(a,b){if(a.regex){var c=new RegExp(a.regex,"g");return b.replace(c,a.replace)}return a.filter?a.filter(b):void 0},l=function(a){return a+="~0",a=a.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(a,d,e,f,g){return d=d.toLowerCase(),b[d]=G(e),f?f+g:(g&&(c[d]=g.replace(/"/g,"&quot;")),"")}),a=a.replace(/~0/,"")},m=function(a){return a=a.replace(/\n/g,"\n\n"),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,n),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,n),a=a.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,n),a=a.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,n),a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,n),a=a.replace(/\n\n/g,"\n")},n=function(a,b){var c=b;return c=c.replace(/\n\n/g,"\n"),c=c.replace(/^\n/,""),c=c.replace(/\n+$/g,""),c="\n\n~K"+(d.push(c)-1)+"K\n\n"},o=function(a){a=v(a);var b=A("<hr />");return a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,b),a=a.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,b),a=a.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,b),a=x(a),a=y(a),a=E(a),a=m(a),a=F(a)},p=function(a){return a=B(a),a=q(a),a=H(a),a=t(a),a=r(a),a=I(a),a=G(a),a=D(a),a=a.replace(/  +\n/g," <br />\n")},q=function(a){var b=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return a=a.replace(b,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=N(b,"\\`*_")})},r=function(a){return a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,s),a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,s),a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,s)},s=function(a,d,e,f,g,h,i,j){void 0==j&&(j="");var k=d,l=e,m=f.toLowerCase(),n=g,o=j;if(""==n)if(""==m&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m,void 0!=b[m])n=b[m],void 0!=c[m]&&(o=c[m]);else{if(!(k.search(/\(\s*\)$/m)>-1))return k;n=""}n=N(n,"*_");var p='<a href="'+n+'"';return""!=o&&(o=o.replace(/"/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"'),p+=">"+l+"</a>"},t=function(a){return a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,u),a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,u)},u=function(a,d,e,f,g,h,i,j){var k=d,l=e,m=f.toLowerCase(),n=g,o=j;if(o||(o=""),""==n){if(""==m&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m,void 0==b[m])return k;n=b[m],void 0!=c[m]&&(o=c[m])}l=l.replace(/"/g,"&quot;"),n=N(n,"*_");var p='<img src="'+n+'" alt="'+l+'"';return o=o.replace(/"/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"',p+=" />"},v=function(a){function b(a){return a.replace(/[^\w]/g,"").toLowerCase()}return a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,c){return A('<h1 id="'+b(c)+'">'+p(c)+"</h1>")}),a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,c){return A('<h2 id="'+b(c)+'">'+p(c)+"</h2>")}),a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,c,d){var e=c.length;return A("<h"+e+' id="'+b(d)+'">'+p(d)+"</h"+e+">")})},x=function(a){a+="~0";var b=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return e?a=a.replace(b,function(a,b,c){var d=b,e=c.search(/[*+-]/g)>-1?"ul":"ol";d=d.replace(/\n{2,}/g,"\n\n\n");var f=w(d);return f=f.replace(/\s+$/,""),f="<"+e+">"+f+"</"+e+">\n"}):(b=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(b,function(a,b,c,d){var e=b,f=c,g=d.search(/[*+-]/g)>-1?"ul":"ol",f=f.replace(/\n{2,}/g,"\n\n\n"),h=w(f);return h=e+"<"+g+">\n"+h+"</"+g+">\n"})),a=a.replace(/~0/,"")};w=function(a){return e++,a=a.replace(/\n{2,}$/,"\n"),a+="~0",a=a.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(a,b,c,d,e){var f=e,g=b;return g||f.search(/\n{2,}/)>-1?f=o(L(f)):(f=x(L(f)),f=f.replace(/\n$/,""),f=p(f)),"<li>"+f+"</li>\n"}),a=a.replace(/~0/g,""),e--,a};var y=function(a){return a+="~0",a=a.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){var d=b,e=c;return d=C(L(d)),d=M(d),d=d.replace(/^\n+/g,""),d=d.replace(/\n+$/g,""),d="<pre><code>"+d+"\n</code></pre>",A(d)+e}),a=a.replace(/~0/,"")},z=function(a){return a+="~0",a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(a,b,c){var d=b,e=c;return e=C(e),e=M(e),e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,""),e="<pre><code"+(d?' class="'+d+'"':"")+">"+e+"\n</code></pre>",A(e)}),a=a.replace(/~0/,"")},A=function(a){return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(d.push(a)-1)+"K\n\n"},B=function(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,d){var f=d;return f=f.replace(/^([ \t]*)/g,""),f=f.replace(/[ \t]*$/g,""),f=C(f),b+"<code>"+f+"</code>"})},C=function(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=N(a,"*_{}[]\\",!1)
},D=function(a){return a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},E=function(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c=b;return c=c.replace(/^[ \t]*>[ \t]?/gm,"~0"),c=c.replace(/~0/g,""),c=c.replace(/^[ \t]+$/gm,""),c=o(c),c=c.replace(/(^|\n)/g,"$1  "),c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /gm,"~0"),c=c.replace(/~0/g,"")}),A("<blockquote>\n"+c+"\n</blockquote>")})},F=function(a){a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var b=a.split(/\n{2,}/g),c=[],e=b.length,f=0;e>f;f++){var g=b[f];g.search(/~K(\d+)K/g)>=0?c.push(g):g.search(/\S/)>=0&&(g=p(g),g=g.replace(/^([ \t]*)/g,"<p>"),g+="</p>",c.push(g))}e=c.length;for(var f=0;e>f;f++)for(;c[f].search(/~K(\d+)K/)>=0;){var h=d[RegExp.$1];h=h.replace(/\$/g,"$$$$"),c[f]=c[f].replace(/~K\d+K/,h)}return c.join("\n\n")},G=function(a){return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},H=function(a){return a=a.replace(/\\(\\)/g,O),a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,O)},I=function(a){return a=a.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),a=a.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(a,b){return J(K(b))})},J=function(a){var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(/./g,function(a){if("@"==a)a=b[Math.floor(2*Math.random())](a);else if(":"!=a){var c=Math.random();a=c>.9?b[2](a):c>.45?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"</a>",a=a.replace(/">.+:/g,'">')},K=function(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})},L=function(a){return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a=a.replace(/~0/g,"")},M=function(a){return a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"~A~B"),a=a.replace(/~B(.+?)~A/g,function(a,b){for(var d=b,e=4-d.length%4,f=0;e>f;f++)d+=" ";return d}),a=a.replace(/~A/g,"    "),a=a.replace(/~B/g,"")},N=function(a,b,c){var d="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";c&&(d="\\\\"+d);var e=new RegExp(d,"g");return a=a.replace(e,O)},O=function(a,b){var c=b.charCodeAt(0);return"~E"+c+"E"}},"undefined"!=typeof module&&(module.exports=Showdown),"function"==typeof define&&define.amd&&define("showdown",function(){return Showdown}),window.Showdown=Showdown;