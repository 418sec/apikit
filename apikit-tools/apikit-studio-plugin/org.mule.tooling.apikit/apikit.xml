<?xml version="1.0" encoding="UTF-8" standalone="no"?> <!-- SFTP -->
<namespace xmlns="http://www.mulesoft.org/schema/mule/tooling.attributes"
	url="http://www.mulesoft.org/schema/mule/apikit" prefix="apikit">

	<global localId="config"
		category="org.mule.tooling.globalCategory.conponentConfigurations"
		description="Global Router configuration information." caption="Router"
		image="icons/large/sub-flow-48x32.png" icon="icons/small/flow-24x16.png">
		<attribute-category description="Defines an API."
			caption="Router configuration">
			<group caption="Generic" id="routerGenericProperties">
				<name required="true"
					description="Give a name to this configuration so it can be later referenced by config-ref."
					caption="Name" name="name"></name>
				<string caption="YAML File" description="Path to the YAML file"
					name="raml" required="true" />
				<boolean caption="Use Console"
					description="Select/disable in order to use or not to the console"
					name="consoleEnabled" xsdType="substitutableBoolean"
					alwaysFill="true" defaultValue="true" />
				<string caption="Console Path" defaultValue="console"
					description="The console path" name="consolePath" alwaysFill="true"/>
			</group>
			<!--childElement inplace="true" description="" caption="" name="http://www.mulesoft.org/schema/mule/apikit/flow-mapping"></childElement -->
			<group caption="Mappings" id="mappings">
				<childElement visibleInDialog="false" allowMultiple="true" inplace="true" required="false" description="" caption="" name="http://www.mulesoft.org/schema/mule/apikit/flow-mapping"></childElement>
				<custom javaType="java.lang.String" class="org.mule.tooling.apikit.widgets.APIKitMappingCustomEditor"
					description="Mapp resources and their actions to flows" caption="Mappings"
					name="flow-mapping"></custom>	
				<!--custom javaType="java.lang.String" recalcWhen="config-ref"
					class="org.mule.tooling.apikit.widgets.APIKitMappingCustomEditor"
					description="Mapp resources and their actions to flows" caption="Mappings"
					name="flow-mapping"></custom-->
			</group>
		</attribute-category>
	</global>
	
	<nested localId="flow-mapping" caption="" description="" required="false">
		<string name="resource"
			description="In case that the key above can't be found in the object store, the default expression is used to generate a value. This is useful in the case of the very first poll."
			caption="Default Expression" indented="true" visibleInDialog="false"/>
		<string name="action"
			description="In case that the key above can't be found in the object store, the default expression is used to generate a value. This is useful in the case of the very first poll."
			caption="Default Expression" indented="true" visibleInDialog="false"/>   	
		<string name="flow-ref"
			description="In case that the key above can't be found in the object store, the default expression is used to generate a value. This is useful in the case of the very first poll."
			caption="Default Expression" indented="true" visibleInDialog="false"/>
	</nested>
	<!-- nested localId="mapping" caption="" description="">
		<custom javaType="java.lang.String" class="org.mule.tooling.apikit.widgets.APIKitMappingCustomEditor"
					description="Mapp resources and their actions to flows" caption="Mappings"
					name="flow-mapping"></custom>    					
	</nested -->

	<flow versions="[3.4.0,8.0.0];EE" localId="mapping-exception-strategy"
		description="This exception strategy allows you to map status codes to exceptions"
		caption="Mapping Exception Strategy" icon="icons/small/CatchExceptionStrategy-24x16-1.png"
		image="icons/small/CatchExceptionStrategy-24x16-1.png"
		allowMulipleChildren="true" allowsAllExceptInbounds="true" visible="true"
		abstract="false" category="org.mule.tooling.ui.modules.core.exceptions">
		<attribute-category caption="General"
			description="This exception strategy allows you to map status codes to exceptions">
			<group caption="Generic" id="mapp-exception-strategy">
				<label
					caption="Studio does not currently support configuration changes of this element in the Visual Editor.&#10;To modify this element, click the Configuration XML tab, then adjust the XML configuration of the&#10;mapping-exception-strategy."
					visibleInDialog="true" name="mappingExceptionLabel" description=""
					hiddenForUser="true" alignCenter="true" />
				<name required="true" description="Exception strategy name"
					caption="Name" name="name" visibleInDialog="false"></name>
				<boolean caption="Enable Notifications"
					description="Determines 
		whether ExceptionNotifications will be fired from this strategy when an exception 
		occurs."
					name="enableNotifications" defaultValue="true" value="true"
					visibleInDialog="false" />
			</group>
		</attribute-category>
		<!--childElement name="http://www.mulesoft.org/schema/mule/apikit/mapping" 
			description="Maps status codes to exceptions" caption="Mapping" allowMultiple="false" 
			/ -->
	</flow>

	<flow localId="router" caption="APIKit Router" abstract="false"
		supportsInbound="false" category="org.mule.tooling.category.endpoints"
		icon="icons/small/apikit16x16.png" image="icons/large/apikit.png"
		xmlname="router" description="The Router element allows to define an API"
		versions="[3.4.0,8.0.0];EE">
		<attribute-category description="General properties."
			caption="General">
			<group caption="Generic" id="routerGeneric">
				<globalRef requiredType="http://www.mulesoft.org/schema/mule/apikit/config"
					description="Specify which configuration to use for this invocation."
					caption="Router configuration" name="config-ref" required="true"></globalRef>
			</group>
		</attribute-category>
	</flow>

</namespace>
